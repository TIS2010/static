Date.prototype.calc=function(a,w){var A=this.getFullYear(),z=this.getMonth()+1,B=this.getDate(),F=new Date(this.getTime());if(null!=a.match(/^-?[0-9]+ hour/g))return new Date(F.setHours(F.getHours()+parseInt(a.match(/^-?[0-9]+/g))));if(null!=a.match(/^-?[0-9]+ minute/g))return new Date(F.setMinutes(F.getMinutes()+parseInt(a.match(/^-?[0-9]+/g))));if(null!=a.match(/^-?[0-9]+ second/g))return new Date(F.setSeconds(F.getSeconds()+parseInt(a.match(/^-?[0-9]+/g))));null!=a.match(/^-?[0-9]+ year$/g)&&(A+=
parseInt(a.match(/^-?[0-9]+/g)));if(null!=a.match(/^-?[0-9]+ month$/g)){for(z+=parseInt(a.match(/^-?[0-9]+/g));1>z;)A--,z+=12;for(;12<z;)A++,z-=12;var K=new Date(A.toString()+"/"+z.toString()+"/"+B.toString());K.getMonth()+1!=z&&(K=new Date(A.toString()+"/"+(z+1).toString()+"/1"),K.setDate(0),B=K.getDate())}null!=a.match(/^-?[0-9]+ day$/g)&&(B+=parseInt(a.match(/^-?[0-9]+/g)));null!=a.match(/^first-of-year$/g)&&(B=z=1);null!=a.match(/^first-of-month$/g)&&(B=1);null!=a.match(/^first-of-week$/g)&&(B-=
this.getDay());1>z&&(A--,z=12);12<z&&(A++,z=1);return w?new Date(A,z-1,B,F.getHours(),F.getMinutes(),F.getSeconds()):new Date(A,z-1,B)};
Date.prototype.format=function(a){var w=this.getFullYear().toString(),A=("0"+(this.getMonth()+1)).slice(-2),z=("0"+this.getDate()).slice(-2),B=("0"+this.getHours()).slice(-2),F=("0"+this.getMinutes()).slice(-2),K=("0"+this.getSeconds()).slice(-2);if(a.match(/^ISO$/g))return this.toISOString().replace(/[0-9]{2}\.[0-9]{3}Z$/g,"00Z");if(a.match(/^ISOSEC$/g))return this.toISOString().replace(/\.[0-9]{3}Z$/g,"Z");if(null!=a.match(/^ja$/g))return a="",2018<w?(a="\u4ee4\u548c",w-=2018):1988<w?(a="\u5e73\u6210",
w-=1988):1925<w?(a="\u662d\u548c",w-=1925):1911<w?(a="\u5927\u6b63",w-=1911):1867<w&&(a="\u660e\u6cbb",w-=1867),a+("0"+w).slice(-2)+"\u5e74"+A+"\u6708"+z+"\u65e5";a=a.replace(/ss/g,K);a=a.replace(/s/g,K);a=a.replace(/mm/g,F);a=a.replace(/i/g,F);a=a.replace(/(HH|hh)/g,B);a=a.replace(/(H|h)/g,B);a=a.replace(/(DD|dd)/g,z);a=a.replace(/(D|d)/g,z);a=a.replace(/MM/g,A);a=a.replace(/(M|m)/g,A);a=a.replace(/(YYYY|yyyy)/g,w);a=a.replace(/(YY|yy)/g,w.slice(-2));return a=a.replace(/(Y|y)/g,w)};
String.prototype.dateformat=function(){if(0!=this.length){var a=this.match(/T/g)?this.replace(/\//g,"-"):this.replace(/-/g,"/");this.match(/\+/g)&&(a=a.split("+")[0]+"+"+a.split("+")[1].replace(/[^0-9]+/g,""));isNaN(Date.parse(a))&&(a=a.replace(/-/g,"/").replace(/T/g," ").replace(/Z/g,""));var w=new Date(a);w.setHours(w.getHours());a=w.getFullYear();var A=("0"+(w.getMonth()+1)).slice(-2),z=("0"+w.getDate()).slice(-2),B=("0"+w.getHours()).slice(-2),F=("0"+w.getMinutes()).slice(-2);w=("0"+w.getSeconds()).slice(-2);
return a+"/"+A+"/"+z+" "+B+":"+F+":"+w}return""};Number.prototype.comma=function(){return Number(String(this).replace(",","")).toLocaleString()};Number.prototype.format=function(a){var w=String(this);a?(w=this.toFixed(parseInt(a)).split("."),w[0]=w[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),w=parseFloat(w.join("."))?w.join("."):w.join(".").replace(/^-/g,"")):w=w.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return w};
String.prototype.lpad=function(a,w){for(var A="",z=0;z<w;z++)A+=a;return(A+this).slice(-1*w)};String.prototype.rpad=function(a,w){for(var A="",z=0;z<w;z++)A+=a;return(this+A).slice(0,w)};var tiseventlibrary=function(){this.eventlisteners={}};
tiseventlibrary.prototype={on:function(a,w){if(a&&w)for(var A=Array.isArray(a)?a:a.split(","),z=0;z<A.length;z++)A[z]in this.eventlisteners||(this.eventlisteners[A[z]]=[]),this.eventlisteners[A[z]].push(w)},off:function(a){if(a){a=a.split(",");for(var w=0;w<a.length;w++)a[w]in this.eventlisteners&&delete this.eventlisteners[a[w]]}},trigger:function(a,w){var A=this,z=function(B,F,K){(function(I,M){return new Promise(function(S,L){S(I(M))})})(A.eventlisteners[a][B],F).then(function(I){I&&(F=I);F.error?
K(F):(B++,B<A.eventlisteners[a].length?z(B,F,K):K(F))})};w||(w={});return new Promise(function(B,F){w.type=a;w.error=!1;a in A.eventlisteners?0!=A.eventlisteners[a].length?z(0,w,function(K){B(K)}):B(w):B(w)})}};var tisevent=new tiseventlibrary;
(function(a){for(var w=a("<div>").css({"box-sizing":"border-box",margin:"0px",padding:"0px",position:"relative","vertical-align":"top"}),A=a("<span>").css({"box-sizing":"border-box",display:"inline-block","line-height":"30px",margin:"0px",padding:"0px 5px","vertical-align":"top"}),z=a("<button>").css({"background-color":"transparent",border:"none","border-radius":"3px","box-sizing":"border-box",color:"#FFFFFF",cursor:"pointer","font-size":"13px",height:"30px","line-height":"30px",margin:"0px 3px",
outline:"none",padding:"0px 1em","vertical-align":"top",width:"auto"}),B=a("<td>").css({border:"1px solid #C9C9C9",cursor:"pointer"}),F=a("<label>").css({"box-sizing":"border-box",display:"inline-block","line-height":"30px",margin:"0px",padding:"0px","vertical-align":"top"}).append(a('<input type="checkbox" class="receiver">')).append(A.clone(!0).addClass("label").css({padding:"0px 10px 0px 5px"})),K=a("<label>").css({"box-sizing":"border-box",display:"inline-block","line-height":"30px",margin:"0px",
padding:"0px","vertical-align":"top"}).append(a('<input type="radio" class="receiver">')).append(A.clone(!0).addClass("label").css({padding:"0px 10px 0px 5px"})),I=w.clone(!0).css({display:"inline-block","line-height":"30px",width:"100%"}).append(A.clone(!0).addClass("label").css({overflow:"hidden","padding-left":"70px","text-overflow":"ellipsis","white-space":"nowrap",width:"100%"})).append(a('<input type="hidden" class="receiver">')).append(a('<input type="hidden" class="key">')).append(a('<input type="hidden" class="picker">')).append(z.clone(!0).addClass("search").css({left:"0px",
margin:"0px",padding:"0px",position:"absolute",top:"0px",width:"30px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/search.png">').css({width:"100%"}))).append(z.clone(!0).addClass("clear").css({left:"35px",margin:"0px",padding:"0px",position:"absolute",top:"0px",width:"30px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/close.png">').css({width:"100%"}))),M=a("<select>").css({border:"1px solid #C9C9C9","border-radius":"3px",
"box-sizing":"border-box",display:"inline-block",height:"30px","line-height":"30px",margin:"0px",padding:"0px 5px","vertical-align":"top",width:"auto"}),S=a("<textarea>").css({border:"1px solid #C9C9C9","border-radius":"3px","box-sizing":"border-box",display:"block",height:"calc(7.5em + 10px)","line-height":"1.5em",padding:"5px","vertical-align":"top",width:"100%"}),L=a('<input type="text">').css({border:"1px solid #C9C9C9","border-radius":"3px","box-sizing":"border-box",display:"inline-block",height:"30px",
"line-height":"30px",padding:"0px 5px","vertical-align":"top",width:"100%"}),P=w.clone(!0).css({display:"inline-block","line-height":"30px"}).append(M.clone(!0).addClass("receiverhour")).append(A.clone(!0).text("\uff1a")).append(M.clone(!0).addClass("receiverminute")),O=0;24>O;O++)a(".receiverhour",P).append(a("<option>").attr("value",("0"+O.toString()).slice(-2)).text(("0"+O.toString()).slice(-2)));for(O=0;60>O;O++)a(".receiverminute",P).append(a("<option>").attr("value",("0"+O.toString()).slice(-2)).text(("0"+
O.toString()).slice(-2)));var V=a('<label class="title">').css({"box-sizing":"border-box","border-left":"5px solid #3498db",display:"block","line-height":"25px",margin:"5px 0px",padding:"0px","padding-left":"5px"}),U={},N=function(f,p,b){var c={};switch(f){case "standard":c={cover:w.clone(!0).css({"background-color":"rgba(0,0,0,0.5)",display:"none",height:"100%",left:"0px",position:"fixed",top:"0px",width:"100%","z-index":"999999"}),container:w.clone(!0).css({"background-color":"#FFFFFF",bottom:"0",
"border-radius":"5px","box-shadow":"0px 0px 3px rgba(0,0,0,0.35)",height:p+"px",left:"0",margin:"auto","max-height":"calc(100% - 1em)","max-width":"calc(100% - 1em)",padding:"5px 5px 40px 5px",position:"absolute",right:"0",top:"0",width:b+"px"}),contents:w.clone(!0).css({height:"100%",margin:"0px",overflow:"auto",padding:"5px 5px 10px 5px",position:"relative","text-align":"left",width:"100%","z-index":"1"}),header:w.clone(!0).css({"background-color":"#3498db","border-top-left-radius":"5px","border-top-right-radius":"5px",
left:"0px",padding:"5px",position:"absolute","text-align":"left",top:"0px",width:"100%","z-index":"3"}).append(w.clone(!0).css({display:"inline-block","vertical-align":"top",width:"100%"}).addClass("main")).append(w.clone(!0).css({display:"inline-block","vertical-align":"top",width:"0px"}).addClass("sub")),footer:w.clone(!0).css({"background-color":"#3498db","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px",bottom:"0px",left:"0px",padding:"5px",position:"absolute","text-align":"center",
width:"100%","z-index":"3"}),lists:a("<table>").css({"box-sizing":"border-box",width:"100%"}).append(a("<tbody>"))};break;case "dark":c={button:a("<img>").css({"background-color":"transparent",border:"none","border-radius":"50%","box-sizing":"border-box",cursor:"pointer",display:"inline-block",height:"3em",margin:"0px","vertical-align":"top",width:"3em"}),cover:w.clone(!0).css({"background-color":"rgba(0,0,0,0.5)",display:"none",height:"100%",left:"0px",position:"fixed",top:"0px",width:"100%","z-index":"999999"}),
container:w.clone(!0).css({"background-color":"rgba(0,0,0,0.5)",bottom:"0","border-radius":"1em","box-shadow":"0px 0px 3px rgba(0,0,0,0.35)",height:"calc(100% - 2em)",left:"0",margin:"auto",padding:"0.5em 1em 1em 1em",position:"absolute",right:"0",top:"0",width:"calc(100% - 2em)"}),contents:w.clone(!0).css({height:"calc(100% - 3.5em)","margin-top":"0.5em",padding:"0",position:"relative","text-align":"center",width:"100%"}),header:w.clone(!0).css({margin:"0",padding:"0","text-align":"right",width:"100%"})}}return c};
jTis.extend({breadcrumbsparams:function(){var f="",p=location.search?encodeURI(location.search.substring(1)):location.href.match(/show#/g)?location.href.replace(/^[^&]+&/g,"&"):"";p=p.replace(/&tab=none/g,"").replace(/&mode=edit/g,"").replace(/&mode=show/g,"").replace(/&&/g,"&").replace(/&l./g,"&");p.match(/^&/g)&&(p=p.replace(/^&/g,""));p&&(f=("&"+p).replace(/&/g,"&l."));return f},builderror:function(f){var p=[];p.push(f.message);"errors"in f&&a.each(f.errors,function(b,c){p.push(b.replace(/^record\./g,
"").replace(/\.value(\[[0-9]+\]|)/g,"")+":"+c.messages.join(","))});return p.join("\n")},calculatetax:function(f){f=a.extend(!0,{able:0,normal:null,reduced:null,free:0,isoutsidetax:!0,taxround:"round",taxrate:0,taxrates:{}},f);var p=0,b=0,c=0;if(null!=f.normal){if(f.isoutsidetax)switch(f.taxround){case "floor":f.normal=Math.floor(f.normal*(1+f.taxrates.normalrate));b=Math.floor(f.normal*f.taxrates.normalrate*100/(100+100*f.taxrates.normalrate));f.reduced=Math.floor(f.reduced*(1+f.taxrates.reducedrate));
c=Math.floor(f.reduced*f.taxrates.reducedrate*100/(100+100*f.taxrates.reducedrate));break;case "ceil":f.normal=Math.ceil(f.normal*(1+f.taxrates.normalrate));b=Math.ceil(f.normal*f.taxrates.normalrate*100/(100+100*f.taxrates.normalrate));f.reduced=Math.ceil(f.reduced*(1+f.taxrates.reducedrate));c=Math.ceil(f.reduced*f.taxrates.reducedrate*100/(100+100*f.taxrates.reducedrate));break;case "round":f.normal=Math.round(f.normal*(1+f.taxrates.normalrate)),b=Math.round(f.normal*f.taxrates.normalrate*100/
(100+100*f.taxrates.normalrate)),f.reduced=Math.round(f.reduced*(1+f.taxrates.reducedrate)),c=Math.round(f.reduced*f.taxrates.reducedrate*100/(100+100*f.taxrates.reducedrate))}else switch(f.taxround){case "floor":f.normal=Math.floor(f.normal);b=Math.floor(f.normal*f.taxrates.normalrate*100/(100+100*f.taxrates.normalrate));f.reduced=Math.floor(f.reduced);c=Math.floor(f.reduced*f.taxrates.reducedrate*100/(100+100*f.taxrates.reducedrate));break;case "ceil":f.normal=Math.ceil(f.normal);b=Math.ceil(f.normal*
f.taxrates.normalrate*100/(100+100*f.taxrates.normalrate));f.reduced=Math.ceil(f.reduced);c=Math.ceil(f.reduced*f.taxrates.reducedrate*100/(100+100*f.taxrates.reducedrate));break;case "round":f.normal=Math.round(f.normal),b=Math.round(f.normal*f.taxrates.normalrate*100/(100+100*f.taxrates.normalrate)),f.reduced=Math.round(f.reduced),c=Math.round(f.reduced*f.taxrates.reducedrate*100/(100+100*f.taxrates.reducedrate))}switch(f.taxround){case "floor":f.free=Math.floor(f.free);break;case "ceil":f.free=
Math.ceil(f.free);break;case "round":f.free=Math.round(f.free)}return{able:f.normal+f.reduced,free:f.free,subtotal:f.normal-b+f.reduced-c+f.free,tax:b+c,total:f.normal+f.reduced+f.free,normaltotal:f.normal-b,reducedtotal:f.reduced-c,normaltax:b,reducedtax:c}}if(f.isoutsidetax)switch(f.taxround){case "floor":f.able=Math.floor(f.able*(1+f.taxrate));p=Math.floor(f.able*f.taxrate*100/(100+100*f.taxrate));break;case "ceil":f.able=Math.ceil(f.able*(1+f.taxrate));p=Math.ceil(f.able*f.taxrate*100/(100+100*
f.taxrate));break;case "round":f.able=Math.round(f.able*(1+f.taxrate)),p=Math.round(f.able*f.taxrate*100/(100+100*f.taxrate))}else switch(f.taxround){case "floor":f.able=Math.floor(f.able);p=Math.floor(f.able*f.taxrate*100/(100+100*f.taxrate));break;case "ceil":f.able=Math.ceil(f.able);p=Math.ceil(f.able*f.taxrate*100/(100+100*f.taxrate));break;case "round":f.able=Math.round(f.able),p=Math.round(f.able*f.taxrate*100/(100+100*f.taxrate))}switch(f.taxround){case "floor":f.free=Math.floor(f.free);break;
case "ceil":f.free=Math.ceil(f.free);break;case "round":f.free=Math.round(f.free)}return{able:f.able,tax:p,free:f.free}},calculatetaxrate:function(f){f=a.calculatetaxrates(f);return parseFloat(f.normalrate)},calculatetaxrates:function(f){var p=[{startdate:"1900-01-01",normalrate:0,reducedrate:0},{startdate:"1989-04-01",normalrate:.03,reducedrate:.03},{startdate:"1997-04-01",normalrate:.05,reducedrate:.05},{startdate:"2014-04-01",normalrate:.08,reducedrate:.08},{startdate:"2019-10-01",normalrate:.1,
reducedrate:.08}],b={};(new Date).format("Y/m/d");for(var c=0;c<p.length;c++)(new Date(p[c].startdate.replace(/-/g,"/"))).calc("-1 day")<f&&(b=p[c]);return b},conditionsmatch:function(f,p,b,c){c=c?function(){var h={},r;for(r in f)h[r]=f[r];return h}():a.extend(!0,{},f);for(var e=function(h,r,n){var k=!0,q=function(t,u,v){v=!0;var x=new Date,y=new Date;switch(u.value){case "NOW":x=new Date;y=new Date;break;case "TODAY":x=new Date((new Date).format("Y-m-d")+"T00:00:00"+a.timezome());y=new Date((new Date).format("Y-m-d")+
"T23:59:59"+a.timezome());break;case "LASTWEEK":x=new Date((new Date).calc("first-of-week").calc("-7 day").format("Y-m-d")+"T00:00:00"+a.timezome());y=new Date((new Date).calc("first-of-week").calc("-1 day").format("Y-m-d")+"T23:59:59"+a.timezome());break;case "THISWEEK":x=new Date((new Date).calc("first-of-week").format("Y-m-d")+"T00:00:00"+a.timezome());y=new Date((new Date).calc("first-of-week").calc("6 day").format("Y-m-d")+"T23:59:59"+a.timezome());break;case "LASTMONTH":x=new Date((new Date).calc("first-of-month").calc("-1 month").format("Y-m-d")+
"T00:00:00"+a.timezome());y=new Date((new Date).calc("first-of-month").calc("-1 day").format("Y-m-d")+"T23:59:59"+a.timezome());break;case "THISMONTH":x=new Date((new Date).calc("first-of-month").format("Y-m-d")+"T00:00:00"+a.timezome());y=new Date((new Date).calc("first-of-month").calc("1 month").calc("-1 day").format("Y-m-d")+"T23:59:59"+a.timezome());break;case "THISYEAR":x=new Date((new Date).calc("first-of-year").format("Y-m-d")+"T00:00:00"+a.timezome());y=new Date((new Date).calc("first-of-year").calc("1 year").calc("-1 day").format("Y-m-d")+
"T23:59:59"+a.timezome());break;default:if(u.value)if(u.value.match(/^FROM/g)){var C=u.value.replace(/-?[0-9]+(d|m|y)$/g,""),E=u.value.replace(C,"").replace(/[^0-9-]+/g,"");var H="";switch(u.value.slice(-1)){case "d":H="day";break;case "m":H="month";break;case "y":H="year"}switch(C){case "FROMTODAY":x=(new Date((new Date).format("Y-m-d")+"T00:00:00"+a.timezome())).calc(E.toString()+" "+H);y=(new Date((new Date).format("Y-m-d")+"T00:00:00"+a.timezome())).calc(E.toString()+" "+H);break;case "FROMTHISMONTH":x=
(new Date((new Date).calc("first-of-month").format("Y-m-d")+"T00:00:00"+a.timezome())).calc(E.toString()+" "+H);y=(new Date((new Date).calc("first-of-month").format("Y-m-d")+"T00:00:00"+a.timezome())).calc(E.toString()+" "+H);break;case "FROMTHISYEAR":x=(new Date((new Date).calc("first-of-year").format("Y-m-d")+"T00:00:00"+a.timezome())).calc(E.toString()+" "+H),y=(new Date((new Date).calc("first-of-year").format("Y-m-d")+"T00:00:00"+a.timezome())).calc(E.toString()+" "+H)}}else x=new Date(u.value.dateformat()),
y=new Date(u.value.dateformat())}switch(u.comp.code){case "0":t?u.value?(new Date(t.dateformat())<x&&(v=!1),new Date(t.dateformat())>y&&(v=!1)):v=!1:u.value&&(v=!1);break;case "1":t?u.value&&new Date(t.dateformat())>=x&&new Date(t.dateformat())<=y&&(v=!1):u.value||(v=!1);break;case "2":t?new Date(t.dateformat())>y&&(v=!1):v=!1;break;case "3":t?new Date(t.dateformat())>=x&&(v=!1):v=!1;break;case "4":t?new Date(t.dateformat())<x&&(v=!1):v=!1;break;case "5":t?new Date(t.dateformat())<=y&&(v=!1):v=!1}return v};
switch(n.type){case "CALC":switch(n.format.toUpperCase()){case "NUMBER":case "NUMBER_DIGIT":switch(r.comp.code){case "0":h||(h="");h!=r.value&&(k=!1);break;case "1":h||(h="");h==r.value&&(k=!1);break;case "2":h?parseFloat(h)>parseFloat(r.value)&&(k=!1):k=!1;break;case "3":h?parseFloat(h)<parseFloat(r.value)&&(k=!1):k=!1}break;case "DATE":case "DATETIME":case "DAY_HOUR_MINUTE":k=q(h,r,"DATE"!=n.format.toUpperCase());break;case "HOUR_MINUTE":case "TIME":switch(n=(new Date).format("Y-m-d")+" ",r.comp.code){case "0":h||
(h="");h!=r.value&&(k=!1);break;case "1":h||(h="");h==r.value&&(k=!1);break;case "2":h?new Date(n+h+":00")>new Date(n+r.value+":00")&&(k=!1):k=!1;break;case "3":h?new Date(n+h+":00")>=new Date(n+r.value+":00")&&(k=!1):k=!1;break;case "4":h?new Date(n+h+":00")<new Date(n+r.value+":00")&&(k=!1):k=!1;break;case "5":h?new Date(n+h+":00")<=new Date(n+r.value+":00")&&(k=!1):k=!1}}break;case "CHECK_BOX":case "MULTI_SELECT":for(q=n=0;q<h.length;q++)-1<r.value.indexOf(h[q])&&n++;switch(r.comp.code){case "0":1>
n&&(k=!1);break;case "1":0<n&&(k=!1)}break;case "DROP_DOWN":case "RADIO_BUTTON":case "STATUS":h||(h="");switch(r.comp.code){case "0":0>r.value.indexOf(h)&&(k=!1);break;case "1":-1<r.value.indexOf(h)&&(k=!1)}break;case "CREATED_TIME":case "DATE":case "DATETIME":case "UPDATED_TIME":k=q(h,r,"DATE"!=n.type);break;case "GROUP_SELECT":case "ORGANIZATION_SELECT":case "STATUS_ASSIGNEE":case "USER_SELECT":for(q=n=0;q<r.value.length;q++)"LOGINUSER"==r.value[q]&&(r.value[q]=kintone.getLoginUser().code);n=a.grep(h,
function(t,u){return-1<r.value.indexOf(t.code)}).length;switch(r.comp.code){case "0":1>n&&(k=!1);break;case "1":0<n&&(k=!1)}break;case "LINK":case "SINGLE_LINE_TEXT":h||(h="");switch(r.comp.code){case "0":h!=r.value&&(k=!1);break;case "1":h==r.value&&(k=!1);break;case "2":h.match(new RegExp(r.value.replace(/[\/\\^$*+?.()|\[\]{}]/g,"\\$&"),"g"))||(k=!1);break;case "3":h.match(new RegExp(r.value.replace(/[\/\\^$*+?.()|\[\]{}]/g,"\\$&"),"g"))&&(k=!1)}break;case "MULTI_LINE_TEXT":case "RICH_TEXT":h||
(h="");switch(r.comp.code){case "0":r.value?h.match(new RegExp(r.value.replace(/[\/\\^$*+?.()|\[\]{}]/g,"\\$&"),"g"))||(k=!1):h&&(k=!1);break;case "1":r.value?h.match(new RegExp(r.value.replace(/[\/\\^$*+?.()|\[\]{}]/g,"\\$&"),"g"))&&(k=!1):h||(k=!1)}break;case "NUMBER":case "RECORD_NUMBER":switch(r.comp.code){case "0":h||(h="");h!=r.value&&(k=!1);break;case "1":h||(h="");h==r.value&&(k=!1);break;case "2":h?parseFloat(h)>parseFloat(r.value)&&(k=!1):k=!1;break;case "3":h?parseFloat(h)<parseFloat(r.value)&&
(k=!1):k=!1}break;case "CREATOR":case "MODIFIER":for(q=0;q<r.value.length;q++)"LOGINUSER"==r.value[q]&&(r.value[q]=kintone.getLoginUser().code);switch(r.comp.code){case "0":0>r.value.indexOf(h.code?h.code:"")&&(k=!1);break;case "1":-1<r.value.indexOf(h.code?h.code:"")&&(k=!1)}break;case "TIME":switch(n=(new Date).format("Y-m-d")+" ",r.comp.code){case "0":h||(h="");h!=r.value&&(k=!1);break;case "1":h||(h="");h==r.value&&(k=!1);break;case "2":h?new Date(n+h+":00")>new Date(n+r.value+":00")&&(k=!1):
k=!1;break;case "3":h?new Date(n+h+":00")>=new Date(n+r.value+":00")&&(k=!1):k=!1;break;case "4":h?new Date(n+h+":00")<new Date(n+r.value+":00")&&(k=!1):k=!1;break;case "5":h?new Date(n+h+":00")<=new Date(n+r.value+":00")&&(k=!1):k=!1}}return k},d=0,m=0;m<b.length;m++){var g=b[m];if(!g.comp.code)d++;else if(g.field in p){var l=p[g.field];l&&(l.tablecode?l.tablecode in c&&(c[l.tablecode]={value:a.grep(c[l.tablecode].value,function(h,r){return e(h.value[l.code].value,g,l)?!0:!1})},0<c[l.tablecode].value.length&&
d++):l.code in f&&e(f[l.code].value,g,l)&&d++)}}U=c;return b.length==d?c:!1},conditionsmatchresult:function(){return U},cursorcreate:function(f,p){f=a.extend(!0,{fields:[],query:"",sort:"$id asc",size:500},f);var b={app:f.app,query:f.query+" order by "+f.sort.replace(/ limit .*$/g,"").replace(/ offset .*$/g,""),size:f.size};0!=f.fields.length&&(b.fields=f.fields);kintone.api(kintone.api.url("/k/v1/records/cursor",!0),"POST",b,function(c){p(c.id,c.totalCount)},function(c){p(null,null,a.builderror(c))})},
cursordelete:function(f,p){kintone.api(kintone.api.url("/k/v1/records/cursor",!0),"DELETE",{id:f},function(b){p()},function(b){p(a.builderror(b))})},cursorfetch:function(f,p,b){var c=[],e=function(d){kintone.api(kintone.api.url("/k/v1/records/cursor",!0),"GET",{id:f},function(m){Array.prototype.push.apply(c,m.records);p?m.next?e(d):d():d()},function(m){d(a.builderror(m))})};e(function(d){b(c,d)})},createheadercontrol:function(f){f=a.extend(!0,{type:"","class":"",event:"",height:0,label:"",margin:"",
place:"",width:"",options:[]},f);var p=null,b=null,c=!1;switch(f.event){case "app.record.index.show":f.height="48px";f.margin="0px 6px 0px 0px";f.width="auto";b=a(kintone.app.getHeaderMenuSpaceElement());break;case "app.record.detail.show":f.height="40px";f.margin="3px 6px 0px 0px";f.width="auto";f.place&&(b=a(kintone.app.record.getSpaceElement(f.place)));b||(b=a(".gaia-argoui-app-toolbar-statusmenu"));break;case "app.record.create.show":case "app.record.edit.show":f.height="48px";f.margin="0px 0px 0px 16px";
f.width="auto";f.place&&(b=a(kintone.app.record.getSpaceElement(f.place)));b||(b=a(".gaia-argoui-app-edit-buttons"));break;case "mobile.app.record.index.show":case "mobile.app.record.detail.show":case "mobile.app.record.create.show":case "mobile.app.record.edit.show":f.height="3em",f.margin=".25em .5em",f.width="calc(100% - 1em)",f.place&&(b=a(kintone.mobile.app.record.getSpaceElement(f.place))),b||(b=a(kintone.mobile.app.getHeaderSpaceElement())),c=!0}switch(f.type){case "button_normal":p=a('<button type="button">').css({"background-color":"#f7f9fa",
border:"1px solid #e3e7e8","border-radius":"3px","box-sizing":"border-box",color:"#3498db",cursor:"pointer",display:"inline-block",height:f.height,"line-height":f.height,margin:f.margin,outline:"none",padding:"0px 16px",position:"relative","text-align":"center","vertical-align":"top",width:f.width}).text(f.label);f["class"]||(f["class"]="tis_button_normal");p.addClass(f["class"]);a("body").append(a("<style>").addClass("style_"+f["class"]).attr("type","text/css").text("button."+f["class"]+":hover{background-color:#1d6fa5 !important;color:#ffffff !important;}"));
break;case "button_ok":p=a('<button type="button">').css({"background-color":"#3498db",border:"none","border-radius":"3px","box-sizing":"border-box",color:"#ffffff",cursor:"pointer",display:"inline-block",height:f.height,"line-height":f.height,margin:f.margin,outline:"none",padding:"0px 16px",position:"relative","text-align":"center","vertical-align":"top",width:f.width}).text(f.label);f["class"]||(f["class"]="tis_button_ok");p.addClass(f["class"]);a("body").append(a("<style>").addClass("style_"+
f["class"]).attr("type","text/css").text("button."+f["class"]+":hover{background-color:#1d6fa5 !important;}"));break;case "checkbox":p=a("<label>").css({"background-color":"transparent",border:"none","box-sizing":"border-box",cursor:"pointer",display:"inline-block",height:f.height,margin:f.margin,padding:"0px 16px",position:"relative","vertical-align":"top",width:f.width}).append(a('<input type="checkbox">').css({display:"none"})).append(a("<span>").css({"background-position":"left center","background-repeat":"no-repeat",
"background-size":"30px 30px","box-sizing":"border-box",display:"inline-block","font-size":"14px","line-height":f.height,padding:"0px 0px 0px 35px",position:"relative","vertical-align":"top",width:c?"100%":"auto"}).text(f.label));f["class"]||(f["class"]="tis_checkbox");p.addClass(f["class"]);a("body").append(a("<style>").addClass("style_"+f["class"]).attr("type","text/css").text(function(){var e="label."+f["class"]+' span{background-image:url("https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/checkbox_nocheck.svg");}';
return e+="label."+f["class"]+' input:checked+span{background-image:url("https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/checkbox_checked.svg");}'}()));break;case "select":p=a("<div>").css({"background-color":"#f7f9fa",border:"1px solid #e3e7e8","box-shadow":"1px 1px 1px #fff inset","box-sizing":"border-box",display:"inline-block",height:f.height,margin:f.margin,overflow:"hidden",padding:"0 0 0 16px",position:"relative","max-width":"auto","min-width":"auto","text-overflow":"ellipsis",
"vertical-align":"top",width:f.width}).append(function(){for(var e=a("<select>").css({"background-color":"transparent",border:"none",color:"#3498db",cursor:"pointer",height:f.height,margin:"0","min-width":"auto",outline:"none",padding:"0 32px 0 0",width:"100%","-moz-appearance":"none","-webkit-appearance":"none","-ms-appearance":"none",appearance:"none"}),d=0;d<f.options.length;d++)e.append(a("<option>").css({"background-color":"#fff",color:"#3498db",padding:"0 16px",width:"100%","-moz-appearance":"none",
"-webkit-appearance":"none","-ms-appearance":"none",appearance:"none"}).attr("value",f.options[d].id).html(f.options[d].name));return e}()),f["class"]||(f["class"]="tis_select"),p.addClass(f["class"]),a("body").append(a("<style>").addClass("style_"+f["class"]).attr("type","text/css").text("div."+f["class"]+':after{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUwM0JEQzc5RUZENzExRTNBRjRFQ0I1NjlCRDUzOTA5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUwM0JEQzdBRUZENzExRTNBRjRFQ0I1NjlCRDUzOTA5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTAzQkRDNzdFRkQ3MTFFM0FGNEVDQjU2OUJENTM5MDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTAzQkRDNzhFRkQ3MTFFM0FGNEVDQjU2OUJENTM5MDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7KovlSAAAAhElEQVR42mI0mX7LjoGB4RADccCWCUjsB2ILIhSD1BwAadAB4qNAbIxHsTFUjQ5Iw3UgNgTiU1AaHRggyV1nggpegppyBoj1kBTrAvFZIDaBqmFgQZK8AMRmQHwe6kyYmAVUjAFdAwPUNGsgvgLl2wDxaWQFLFjcfAKIHaHs4+iSAAEGABHGF74RDCRaAAAAAElFTkSuQmCC) no-repeat center center transparent;bottom:0;content:"";display:block;pointer-events:none;position:absolute;right:0;top:0;width:32px;}'))}b.append(p);
return p},createrecord:function(f,p){var b=[],c={},e=function(d,m){var g=f[d[m]];switch(g.type){case "CALC":case "CATEGORY":case "CREATED_TIME":case "CREATOR":case "GROUP":case "MODIFIER":case "RECORD_NUMBER":case "REFERENCE_TABLE":case "STATUS":case "STATUS_ASSIGNEE":case "UPDATED_TIME":if("function"==typeof p)m++,m<d.length?e(d,m):p(c);else return m++,m<d.length?e(d,m):c;break;default:switch(g.type){case "SUBTABLE":var l=g.code,h={};c[l]={value:[]};a.each(g.fields,function(r,n){n.expression||0>
a.inArray(n.code,b)&&(h[n.code]=n)});if("function"==typeof p)a.createrow(h,function(r){c[l].value.push(r);m++;m<d.length?e(d,m):p(c)});else return c[l].value.push(a.createrow(h)),m++,m<d.length?e(d,m):c;break;default:if("function"==typeof p)a.fielddefault(g,function(r){g.expression||0>a.inArray(g.code,b)&&(c[g.code]={value:r.value});m++;m<d.length?e(d,m):p(c)});else return g.expression||0>a.inArray(g.code,b)&&(c[g.code]={value:a.fielddefault(g).value}),m++,m<d.length?e(d,m):c}}};a.each(a.fieldparallelize(f),
function(d,m){m.lookup&&a.each(m.lookup.fieldMappings,function(g,l){b.push(l.field)})});return e(Object.keys(f),0)},createrow:function(f,p){var b={value:{}},c=function(e,d){var m=e[d],g=f[m];if(g)if(b.value[m]={type:g.type,value:null},"function"==typeof p)a.fielddefault(g,function(l){b.value[m].value=l.value;d++;d<e.length?c(e,d):p(b)});else return b.value[m].value=a.fielddefault(g).value,d++,d<e.length?c(e,d):b;else if("function"==typeof p)d++,d<e.length?c(e,d):p(b);else return d++,d<e.length?c(e,
d):b};return c(Object.keys(f),0)},download:function(f){return new Promise(function(p,b){var c=kintone.api.url("/k/v1/file",!0)+"?fileKey="+f,e=new XMLHttpRequest;e.open("GET",c);e.setRequestHeader("X-Requested-With","XMLHttpRequest");e.responseType="blob";e.onload=function(){200===e.status?p(e.response):b(Error("File download error:"+e.statusText))};e.onerror=function(){b(Error("There was a network error."))};e.send()})},upload:function(f,p,b){return new Promise(function(c,e){var d=new Blob([b],{type:p}),
m=new FormData,g=kintone.api.url("/k/v1/file",!0),l=new XMLHttpRequest;m.append("__REQUEST_TOKEN__",kintone.getRequestToken());m.append("file",d,f);l.open("POST",g,!1);l.setRequestHeader("X-Requested-With","XMLHttpRequest");l.responseType="multipart/form-data";l.onload=function(){200===l.status?c(l.responseText):e(Error("File upload error:"+l.statusText))};l.onerror=function(){e(Error("There was a network error."))};l.send(m)})},downloadtext:function(f,p,b){if(Encoding){f=f.replace(/\n$/g,"");for(var c=
[],e=0;e<f.length;e++)c.push(f.charCodeAt(e));p=new Blob([new Uint8Array(Encoding.convert(c,p,Encoding.detect(c)))],{type:"text/plain"});window.navigator.msSaveBlob?window.navigator.msSaveOrOpenBlob(p,b):(f=document.createElement("a"),f.setAttribute("href",(window.URL||window.webkitURL).createObjectURL(p)),f.setAttribute("target","_blank"),f.setAttribute("download",b),f.style.display="none",document.body.appendChild(f),f.click(),document.body.removeChild(f))}else alert("encoding.js\u3092\u8aad\u307f\u8fbc\u3093\u3067\u4e0b\u3055\u3044\u3002")},
uploadtext:function(f,p,b,c){if(Encoding){var e=null;e=new FileReader;e.readAsArrayBuffer(f);e.onabort=function(d){c()};e.onerror=function(d){c()};e.onload=function(d){d=new Uint8Array(d.target.result);d=Encoding.codeToString(Encoding.convert(d,p,Encoding.detect(d)));b(d)}}else alert("encoding.js\u3092\u8aad\u307f\u8fbc\u3093\u3067\u4e0b\u3055\u3044\u3002")},duplicaterecord:function(f,p,b){var c=[],e=function(m,g,l){m<g.length?a.download(g[m].fileinfo.fileKey).then(function(h){a.upload(g[m].fileinfo.name,
g[m].fileinfo.contentType,h).then(function(r){g[m].field.value.push({fileKey:JSON.parse(r).fileKey});m++;e(m,g,l)})}):l()},d={app:f,id:p};kintone.api(kintone.api.url("/k/v1/record",!0),"GET",d,function(m){d={app:f,record:function(g){var l={};a.each(g,function(h,r){switch(r.type){case "CALC":case "CATEGORY":case "CREATED_TIME":case "CREATOR":case "MODIFIER":case "RECORD_NUMBER":case "STATUS":case "STATUS_ASSIGNEE":case "UPDATED_TIME":break;case "FILE":l[h]={value:[]};for(var n=0;n<r.value.length;n++)c.push({field:l[h],
fileinfo:r.value[n]});break;case "SUBTABLE":l[h]={value:[]};for(n=0;n<r.value.length;n++){var k={value:{}};a.each(r.value[n].value,function(q,t){if("FILE"==t.type){k.value[q]={value:[]};for(var u=0;u<t.value.length;u++)c.push({field:k.value[q],fileinfo:t.value[u]})}else k.value[q]=t});l[h].value.push(k)}break;default:l[h]=r}});return l}(m.record)};e(0,c,function(){kintone.api(kintone.api.url("/k/v1/record",!0),"POST",d,function(g){d={app:f,id:g.id};kintone.api(kintone.api.url("/k/v1/record",!0),"GET",
d,function(l){b&&b(l.record)},function(l){alert(a.builderror(l))})},function(g){alert(a.builderror(g))})})},function(m){alert(a.builderror(m))})},fielddefault:function(f,p){var b=new Date,c=!1,e={error:"",value:null},d=f.defaultValue;switch(f.type){case "CHECK_BOX":case "FILE":case "GROUP_SELECT":case "MULTI_SELECT":case "ORGANIZATION_SELECT":case "USER_SELECT":e.value=[];"FILE"!=f.type&&(d=d?f.defaultValue.length:0);break;case "DATE":case "DATETIME":case "TIME":d||(d=f.defaultValue||f.defaultNowValue)}if(d)switch(f.type){case "CHECK_BOX":case "MULTI_SELECT":e.value=
f.defaultValue;break;case "DATE":e.value=f.defaultValue?f.defaultValue:f.defaultNowValue?b.format("Y-m-d"):f.defaultValue;break;case "DATETIME":f.defaultValue?e.value=f.defaultValue:f.defaultNowValue?(e.value="",e.value+=b.format("Y-m-d"),e.value+="T"+b.getHours().toString().lpad("0",2)+":"+b.getMinutes().toString().lpad("0",2)+":"+b.getSeconds().toString().lpad("0",2)+a.timezome()):e.value=f.defaultValue.replace(/\.000Z/g,a.timezome());break;case "GROUP_SELECT":case "ORGANIZATION_SELECT":e.value=
[];a.each(f.defaultValue,function(g,l){l.type==f.type.replace(/_SELECT/g,"")&&e.value.push({code:l.code})});break;case "TIME":e.value=f.defaultValue?f.defaultValue:f.defaultNowValue?b.getHours().toString().lpad("0",2)+":"+b.getMinutes().toString().lpad("0",2):f.defaultValue.split(":")[0]+":"+f.defaultValue.split(":")[1];break;case "USER_SELECT":var m=function(g,l,h,r){var n=l[h];if("LOGINUSER()"==n.code)g.push({code:kintone.getLoginUser().code}),h++,h<l.length?m(g,l,h,r):r();else switch(n.type){case "GROUP":a.loadgroupusers(function(k){for(var q=
0;q<k.length;q++){var t=k[q].code,u=k[q].name;0==a.grep(g,function(v,x){return v.code==t}).length&&g.push({code:t,name:u})}h++;h<l.length?m(g,l,h,r):r()},{code:n.code,offset:0,records:null,size:100});break;case "ORGANIZATION":a.loadorganizationusers(function(k){for(var q=0;q<k.length;q++){var t=k[q].code,u=k[q].name;0==a.grep(g,function(v,x){return v.code==t}).length&&g.push({code:t,name:u})}h++;h<l.length?m(g,l,h,r):r()},{code:n.code,offset:0,records:null,size:100});break;case "USER":g.push({code:n.code}),
h++,h<l.length?m(g,l,h,r):r()}};e.value=[];"function"==typeof p?0!=f.defaultValue.length?(c=!0,m(e.value,f.defaultValue,0,function(){p(e)})):p(e):a.each(f.defaultValue,function(g,l){if("LOGINUSER()"==l.code)e.value.push({code:kintone.getLoginUser().code});else switch(l.type){case "USER":e.value.push({code:l.code})}});break;default:e.value=f.defaultValue}else if(f.required)switch(f.type){case "CHECK_BOX":case "MULTI_SELECT":e.value=[f.options[Object.keys(f.options)[0]].label];break;case "DROP_DOWN":case "RADIO_BUTTON":e.value=
function(g){var l="";a.each(g,function(h,r){0==r.index&&(l=h)});return l}(f.options);break;case "DATE":e.value="1000-01-01";break;case "DATETIME":e.value="1000-01-01T00:00:00"+a.timezome();break;case "FILE":e.error="["+f.label+"] Input is required.";break;case "GROUP_SELECT":e.error="["+f.label+"] Set the initial value.";break;case "LINK":case "MULTI_LINE_TEXT":case "RICH_TEXT":case "SINGLE_LINE_TEXT":f.lookup?e.error="["+f.label+"] Input is required.":e.value="\uff0a";break;case "NUMBER":f.lookup?
e.error="["+f.label+"] Input is required.":e.value=f.minValue?f.minValue:f.maxValue?f.maxValue:"0";break;case "ORGANIZATION_SELECT":e.error="["+f.label+"] Set the initial value.";break;case "TIME":e.value="00:00";break;case "USER_SELECT":e.error="["+f.label+"] Set the initial value."}if("function"!=typeof p||c)return e;p(e)},fieldequals:function(f,p,b){var c=!1;switch(b.type){case "CHECK_BOX":case "MULTI_SELECT":var e=[],d=[];a.each(b.options,function(m,g){f&&-1<f.indexOf(g.label)&&e.push(g.label);
p&&-1<p.indexOf(g.label)&&d.push(g.label)});e.sort(function(m,g){return m<g?-1:m>g?1:0});d.sort(function(m,g){return m<g?-1:m>g?1:0});c=JSON.stringify(e)==JSON.stringify(d);break;case "FILE":e=[];d=[];if(f)for(b=0;b<f.length;b++)e.push(f[b].fileKey);if(p)for(b=0;b<p.length;b++)d.push(p[b].fileKey);e.sort(function(m,g){return m<g?-1:m>g?1:0});d.sort(function(m,g){return m<g?-1:m>g?1:0});c=JSON.stringify(e)==JSON.stringify(d);break;case "GROUP_SELECT":case "ORGANIZATION_SELECT":case "USER_SELECT":e=
[];d=[];if(f)for(b=0;b<f.length;b++)e.push(f[b].code);if(p)for(b=0;b<p.length;b++)d.push(p[b].code);e.sort(function(m,g){return m<g?-1:m>g?1:0});d.sort(function(m,g){return m<g?-1:m>g?1:0});c=JSON.stringify(e)==JSON.stringify(d);break;default:c=f==p}return c},fieldparallelize:function(f,p){var b={},c=function(d,m){var g=f[d[m]];switch(g.type){case "GROUP":break;case "SUBTABLE":a.each(g.fields,function(l,h){h.tablecode=g.code;b[h.code]=h});break;default:g.tablecode="",b[g.code]=g}if("function"==typeof p)m++,
m<d.length?c(d,m):e(Object.keys(b),0);else return m++,m<d.length?c(d,m):b},e=function(d,m){var g=d[m];a.fielddefault(b[g],function(l){b[g].defaults=l;m++;m<d.length?e(d,m):p(b)})};return c(Object.keys(f),0)},fieldquery:function(f,p){var b="";switch(f.type.toUpperCase()){case "CHECK_BOX":case "MULTI_SELECT":if(p)b=" not in (",a.each(p.options,function(e,d){0>f.value.indexOf(d.label)&&(b+='"'+d.label+'",')});else{b=" in (";for(var c=0;c<f.value.length;c++)b+='"'+f.value[c]+'",'}b=b.replace(/,$/g,"")+
")";break;case "CREATOR":case "MODIFIER":b=' in ("'+f.value.code+'")';break;case "DROP_DOWN":case "RADIO_BUTTON":b=' in ("'+f.value+'")';break;case "GROUP_SELECT":case "ORGANIZATION_SELECT":case "USER_SELECT":b=" in (";for(c=0;c<f.value.length;c++)b+='"'+f.value[c].code+'",';b=b.replace(/,$/g,"")+")";break;case "NUMBER":case "RECORD_NUMBER":b=" = "+f.value;break;default:b=' = "'+f.value+'"'}return b},fieldcompquery:function(f,p,b){var c="",e=[],d=function(m){m=m?m:"";var g=function(l){switch(l){case "NOW":l=
"NOW()";break;case "TODAY":l="TODAY()";break;case "LASTWEEK":l="LAST_WEEK()";break;case "THISWEEK":l="THIS_WEEK()";break;case "LASTMONTH":l="LAST_MONTH()";break;case "THISMONTH":l="THIS_MONTH()";break;case "THISYEAR":l="THIS_YEAR()";break;default:if(l.match(/^FROM/g)){var h=l.replace(/-?[0-9]+(d|m|y)$/g,""),r=l.replace(h,"").replace(/[^0-9-]+/g,"");var n="";switch(l.slice(-1)){case "d":n="day";break;case "m":n="month";break;case "y":n="year"}switch(h){case "FROMTODAY":l=(new Date((new Date).format("Y-m-d")+
"T00:00:00"+a.timezome())).calc(r.toString()+" "+n).format("Y-m-d");break;case "FROMTHISMONTH":l=(new Date((new Date).calc("first-of-month").format("Y-m-d")+"T00:00:00"+a.timezome())).calc(r.toString()+" "+n).format("Y-m-d");break;case "FROMTHISYEAR":l=(new Date((new Date).calc("first-of-year").format("Y-m-d")+"T00:00:00"+a.timezome())).calc(r.toString()+" "+n).format("Y-m-d")}}l='"'+l+'"'}return l};if(m)switch(f.type){case "CALC":switch(f.format){case "DATE":case "DATETIME":case "DAY_HOUR_MINUTE":m=
g(m);break;default:a.isArray(m)||(m='"'+m+'"')}break;case "CREATED_TIME":case "DATE":case "DATETIME":case "UPDATED_TIME":m=g(m);break;default:a.isArray(m)||(m='"'+m+'"')}else m='"'+m+'"';return m}(b);switch(f.type){case "CALC":switch(f.format){case "DATE":case "DATETIME":case "DAY_HOUR_MINUTE":case "TIME":case "HOUR_MINUTE":switch(p){case "0":c=f.tablecode?f.code+" in ("+d+")":f.code+"="+d;break;case "1":c=f.tablecode?f.code+" not in ("+d+")":f.code+"!="+d;break;case "2":b&&(c=f.code+"<="+d);break;
case "3":b&&(c=f.code+"<"+d);break;case "4":b&&(c=f.code+">="+d);break;case "5":b&&(c=f.code+">"+d)}break;case "NUMBER":case "NUMBER_DIGIT":if(b)switch(p){case "0":c=f.tablecode?f.code+" in ("+b+")":f.code+"="+b;break;case "1":c=f.tablecode?f.code+" not in ("+b+")":f.code+"!="+b;break;case "2":c=f.code+"<="+b;break;case "3":c=f.code+">="+b}}break;case "CHECK_BOX":case "DROP_DOWN":case "MULTI_SELECT":case "RADIO_BUTTON":case "STATUS":if(b){if(a.isArray(b))for(d=0;d<b.length;d++)e.push('"'+b[d]+'"');
else e.push('"'+b+'"');switch(p){case "0":c=f.code+" in ("+(0!=e.length?e.join(","):'""')+")";break;case "1":c=f.code+" not in ("+(0!=e.length?e.join(","):'""')+")"}}break;case "CREATED_TIME":case "DATE":case "DATETIME":case "UPDATED_TIME":case "TIME":switch(p){case "0":c=f.tablecode?f.code+" in ("+d+")":f.code+"="+d;break;case "1":c=f.tablecode?f.code+" not in ("+d+")":f.code+"!="+d;break;case "2":b&&(c=f.code+"<="+d);break;case "3":b&&(c=f.code+"<"+d);break;case "4":b&&(c=f.code+">="+d);break;case "5":b&&
(c=f.code+">"+d)}break;case "CREATOR":case "GROUP_SELECT":case "MODIFIER":case "ORGANIZATION_SELECT":case "STATUS_ASSIGNEE":case "USER_SELECT":if(b){if(a.isPlainObject(b))"string"==a.type(b)?"LOGINUSER"==b?e.push("LOGINUSER()"):e.push('"'+b+'"'):"LOGINUSER"==b.code?e.push("LOGINUSER()"):e.push('"'+b.code+'"');else for(d=0;d<b.length;d++)"string"==a.type(b[d])?"LOGINUSER"==b[d]?e.push("LOGINUSER()"):e.push('"'+b[d]+'"'):"LOGINUSER"==b[d].code?e.push("LOGINUSER()"):e.push('"'+b[d].code+'"');switch(p){case "0":c=
f.code+" in ("+(0!=e.length?e.join(","):'""')+")";break;case "1":c=f.code+" not in ("+(0!=e.length?e.join(","):'""')+")"}}break;case "LINK":case "SINGLE_LINE_TEXT":switch(p){case "0":c=f.tablecode?f.code+' in ("'+(b?b:"")+'")':f.code+'="'+(b?b:"")+'"';break;case "1":c=f.tablecode?f.code+' not in ("'+(b?b:"")+'")':f.code+'!="'+(b?b:"")+'"';break;case "2":f.tablecode?c=f.code+' in ("'+(b?b:"")+'")':1<(b?b:"").length&&(c=f.code+' like "'+(b?b:"")+'"');break;case "3":f.tablecode?c=f.code+' not in ("'+
(b?b:"")+'")':1<(b?b:"").length&&(c=f.code+' not like "'+(b?b:"")+'"')}break;case "MULTI_LINE_TEXT":case "RICH_TEXT":switch(p){case "0":f.tablecode?c=f.code+' in ("'+(b?b:"")+'")':1<(b?b:"").length&&(c=f.code+' like "'+(b?b:"")+'"');break;case "1":f.tablecode?c=f.code+' not in ("'+(b?b:"")+'")':1<(b?b:"").length&&(c=f.code+' not like "'+(b?b:"")+'"')}break;case "NUMBER":case "RECORD_NUMBER":if(b)switch(p){case "0":c=f.tablecode?f.code+" in ("+b+")":f.code+"="+b;break;case "1":c=f.tablecode?f.code+
" not in ("+b+")":f.code+"!="+b;break;case "2":c=f.code+"<="+b;break;case "3":c=f.code+">="+b}}return c},fieldvalue:function(f){var p=null;"type"in f||(f.type="");switch(f.type.toUpperCase()){case "CATEGORY":case "CHECK_BOX":case "MULTI_SELECT":p=0!=f.value.length?f.value.join("<br>"):"";break;case "CREATOR":case "MODIFIER":p=f.value.name;break;case "DATETIME":p=f.value?0!=f.value.length?f.value.dateformat().replace(/\//g,"-"):"":"";break;case "LINK":p=0!=f.value.length?'<a href="'+f.value+'" target="_blank">'+
f.value+"</a>":"";break;case "MULTI_LINE_TEXT":p=0!=f.value.length?f.value.replace(/\n/g,"<br>"):"";break;case "FILE":case "GROUP_SELECT":case "ORGANIZATION_SELECT":case "STATUS_ASSIGNEE":case "USER_SELECT":if(0!=f.value.length){var b=[];a.each(f.value,function(c){b.push(f.value[c].name)});p=b.join("<br>")}else p="";break;default:p=f.value?0!=f.value.length?f.value:"":""}return p},formula:{date:function(f,p,b,c,e){try{var d=null,m=function(g,l){var h=null,r=function(u){var v=null,x=function(y,C){var E=
null;switch(C){case "DATE":E=new Date(y);break;case "DATETIME":E=new Date(y.dateformat());break;case "TIME":E=new Date(("2020-01-01T"+y+":00"+a.timezome()).dateformat())}return E};u in b&&function(y){if(y)if(y==l.tablecode)p[u].value&&(v=x(p[u].value,b[u].type));else for(var C=0;C<f[y].value.length;C++)f[y].value[C].value[u].value&&(v=x(f[y].value[C].value[u].value,b[u].type));else u in f&&f[u].value&&(v=x(f[u].value,b[u].type))}(b[u].tablecode);return v}(g[1]);if(r){for(var n=g[2].split(","),k=0;k<
n.length;k++){var q=n[k].replace(/^[ \u3000]+/g,"").replace(/[ \u3000]+$/g,"");switch(q){case "first-of-year":case "first-of-month":case "first-of-week":r=r.calc(q,!0);break;default:if(q.match(/^([0-9-]+) (year|month|day|hour|minute)$/))r=r.calc(q,!0);else{var t=q.match(/^([^ ]+) (year|month|day|hour|minute)$/);t&&function(u){if(u in b){var v=b[u].tablecode;if(v)if(v==l.tablecode)a.isNumeric(p[u].value)&&(r=r.calc(p[u].value+" "+t[2],!0));else for(var x=0;x<f[v].value.length;x++)a.isNumeric(f[v].value[x].value[u].value)&&
(r=r.calc(f[v].value[x].value[u].value+" "+t[2],!0));else u in f&&a.isNumeric(f[u].value)&&(r=r.calc(f[u].value+" "+t[2],!0))}}(t[1])}}}switch(l.type){case "DATE":h=r.format("Y-m-d");break;case "DATETIME":h=r.toISOString().replace(/[0-9]{2}\.[0-9]{3}Z$/g,"00Z");break;case "TIME":h=r.format("H:i");break;default:switch(b[g[1]].type){case "DATE":h=r.format("Y-m-d");break;case "DATETIME":h=r.toISOString().replace(/[0-9]{2}\.[0-9]{3}Z$/g,"00Z");break;case "TIME":h=r.format("H:i")}}}return h};return e?
(d=e.match(/DATE_CALC\("([^"]+)",[ ]*"([^"]+)"\)/))?m(d,c):e:null}catch(g){return e}},mid:function(f,p,b,c,e){try{var d=null,m=function(g,l){return function(h,r,n){var k="",q=function(t){return t.replace(/<a[^>]+>/g,"").replace("</a>","").replace(/<br>/g,"")};h in b&&function(t){if(t)if(t==l.tablecode)p[h].value&&(k=q(a.fieldvalue(p[h])).substr(r-1,n));else for(var u=0;u<f[t].value.length;u++)f[t].value[u].value[h].value&&(k=q(a.fieldvalue(f[t].value[u].value[h])).substr(r-1,n));else h in f&&f[h].value&&
(k=q(a.fieldvalue(f[h])).substr(r-1,n))}(b[h].tablecode);return k}(g[1],g[2],g[3])};return e?(d=e.match(/MID\("([^"]+)",([0-9]+),([0-9]+)\)/))?m(d,c):e:null}catch(g){return e}},left:function(f,p,b,c,e){try{var d=null,m=function(g,l){return function(h,r){var n="",k=function(q){return q.replace(/<a[^>]+>/g,"").replace("</a>","").replace(/<br>/g,"")};h in b&&function(q){if(q)if(q==l.tablecode)p[h].value&&(n=k(a.fieldvalue(p[h])).substr(0,r));else for(var t=0;t<f[q].value.length;t++)f[q].value[t].value[h].value&&
(n=k(a.fieldvalue(f[q].value[t].value[h])).substr(0,r));else h in f&&f[h].value&&(n=k(a.fieldvalue(f[h])).substr(0,r))}(b[h].tablecode);return n}(g[1],g[2])};return e?(d=e.match(/LEFT\("([^"]+)",([0-9]+)\)/))?m(d,c):e:null}catch(g){return e}},right:function(f,p,b,c,e){try{var d=null,m=function(g,l){return function(h,r){var n="",k=function(q){return q.replace(/<a[^>]+>/g,"").replace("</a>","").replace(/<br>/g,"")};h in b&&function(q){if(q)if(q==l.tablecode)p[h].value&&(n=k(a.fieldvalue(p[h])).slice(-1*
r));else for(var t=0;t<f[q].value.length;t++)f[q].value[t].value[h].value&&(n=k(a.fieldvalue(f[q].value[t].value[h])).slice(-1*r));else h in f&&f[h].value&&(n=k(a.fieldvalue(f[h])).slice(-1*r))}(b[h].tablecode);return n}(g[1],g[2])};return e?(d=e.match(/RIGHT\("([^"]+)",([0-9]+)\)/))?m(d,c):e:null}catch(g){return e}},phonetic:function(f,p,b,c,e,d){try{var m=null,g=function(l,h){var r=function(n){var k="";if(n in b){var q=b[n].tablecode;if(q)if(q==h.tablecode)n in p&&p[n].value&&(k=a.fieldvalue(p[n]).replace(/\n/g,
"").replace(/<br>/g,","));else for(var t=0;t<f[q].value.length;t++){var u=f[q].value[t].value;if(n in u&&u[n].value){k=a.fieldvalue(u[n]).replace(/\n/g,"").replace(/<br>/g,",");break}}else n in f&&f[n].value&&(k=a.fieldvalue(f[n]).replace(/\n/g,"").replace(/<br>/g,","))}return k}(l[1]);r?kintone.proxy("https://api.tricky-lab.com/phonetic","POST",{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},{text:r},function(n,k,q){n=JSON.parse(n);switch(k){case 200:switch(l[2]){case "katakana":d(n.response.katakana);
break;default:d(n.response.hiragana)}break;default:d("")}},function(n){d("")}):d("")};e?(m=e.match(/PHONETIC\("([^"]+)",[ ]*"([^"]+)"\)/))?g(m,c,function(l){d(l)}):d(e):d(null)}catch(l){d(e)}},weekindex:function(f,p,b,c,e){try{var d=null,m=function(g,l){var h=null,r=function(n){var k=null,q=function(t,u){var v=null;switch(u){case "DATE":v=new Date(t);break;case "DATETIME":v=new Date(t.dateformat())}return v};n in b&&function(t){if(t)if(t==l.tablecode)p[n].value&&(k=q(p[n].value,b[n].type));else for(var u=
0;u<f[t].value.length;u++)f[t].value[u].value[n].value&&(k=q(f[t].value[u].value[n].value,b[n].type));else n in f&&f[n].value&&(k=q(f[n].value,b[n].type))}(b[n].tablecode);return k}(g[1]);r&&(h=r.getDay());return h};return e?(d=e.match(/WEEK_CALC\("([^"]+)"\)/))?m(d,c):e:null}catch(g){return e}}},markercolors:function(){return[{name:"\u30ec\u30c3\u30c9",back:"e60012",fore:"000000"},{name:"\u81d9\u8102",back:"e5171f",fore:"000000"},{name:"\u7d05\u6885",back:"e44d93",fore:"000000"},{name:"\u30ed\u30fc\u30ba",
back:"e85298",fore:"000000"},{name:"\u7e39",back:"0078ba",fore:"ffffff"},{name:"\u30d6\u30eb\u30fc",back:"0079c2",fore:"ffffff"},{name:"\u30bb\u30eb\u30ea\u30a2\u30f3\u30d6\u30eb\u30fc",back:"00a0de",fore:"000000"},{name:"\u30b9\u30ab\u30a4",back:"00a7db",fore:"000000"},{name:"\u30a8\u30e1\u30e9\u30eb\u30c9",back:"00ada9",fore:"000000"},{name:"\u30b0\u30ea\u30fc\u30f3",back:"009944",fore:"000000"},{name:"\u7dd1",back:"019a66",fore:"000000"},{name:"\u30ea\u30fc\u30d5",back:"6cbb5a",fore:"000000"},
{name:"\u840c\u9ec4",back:"a9cc51",fore:"000000"},{name:"\u30b4\u30fc\u30eb\u30c9",back:"d7c447",fore:"000000"},{name:"\u30aa\u30ec\u30f3\u30b8",back:"f39700",fore:"000000"},{name:"\u67d1\u5b50",back:"ee7b1a",fore:"000000"},{name:"\u30d6\u30e9\u30a6\u30f3",back:"bb641d",fore:"000000"},{name:"\u30de\u30eb\u30fc\u30f3",back:"814721",fore:"ffffff"},{name:"\u30eb\u30d3\u30fc",back:"b6007a",fore:"ffffff"},{name:"\u4eac\u7d2b",back:"522886",fore:"ffffff"},{name:"\u30d1\u30fc\u30d7\u30eb",back:"9b7cb6",
fore:"000000"},{name:"\u30b7\u30eb\u30d0\u30fc",back:"9caeb7",fore:"000000"},{name:"\u30db\u30ef\u30a4\u30c8",back:"ffffff",fore:"000000"},{name:"\u30d6\u30e9\u30c3\u30af",back:"000000",fore:"ffffff"}]},math:function(f,p,b){var c=Math.max(function(e){return String(e).match(/^(-)?[0-9]+.[0-9]+/g)?(e=String(e).split("."),e[e.length-1].length):0}(f),function(e){return String(e).match(/^(-)?[0-9]+.[0-9]+/g)?(e=String(e).split("."),e[e.length-1].length):0}(p));switch(b){case "+":return(parseInt((f.toFixed(c)+
"").replace(".",""))+parseInt((p.toFixed(c)+"").replace(".","")))/Math.pow(10,c);case "-":return(parseInt((f.toFixed(c)+"").replace(".",""))-parseInt((p.toFixed(c)+"").replace(".","")))/Math.pow(10,c);default:return 0}},isemptyrow:function(f,p,b){var c=null,e=new Date,d=function(m,g){var l=m[g];c=f[l].value;switch(f[l].type){case "CALC":c="";break;case "CHECK_BOX":case "MULTI_SELECT":p&&(p[l].defaultValue.sort(function(q,t){return q<t?-1:q>t?1:0}),c.sort(function(q,t){return q<t?-1:q>t?1:0}),c=JSON.stringify(p[l].defaultValue)==
JSON.stringify(c)?[]:c);break;case "DATE":p&&(p[l].defaultNowValue?c=c==e.format("Y-m-d")?null:c:p[l].defaultValue&&(c=c==p[l].defaultValue?null:c));c=c?c.toString():"";break;case "DATETIME":p&&(p[l].defaultNowValue?c=c==function(){var q=""+e.format("Y-m-d");return q+="T"+e.getHours().toString().lpad("0",2)+":"+e.getMinutes().toString().lpad("0",2)+":"+e.getSeconds().toString().lpad("0",2)+a.timezome()}()?null:c:c&&p[l].defaultValue&&(c=c.dateformat()==p[l].defaultValue.replace(/\.000Z/g,a.timezome()).dateformat()?
null:c));c=c?c.toString():"";break;case "FILE":c="";break;case "GROUP_SELECT":case "ORGANIZATION_SELECT":if(p){var h=[],r=[];if(p[l].defaultValue)for(var n=0;n<p[l].defaultValue.length;n++)p[l].defaultValue[n].type==f[l].type.replace(/_SELECT/g,"")&&h.push(p[l].defaultValue[n].code);for(n=0;n<c.length;n++)r.push(c[n].code);h.sort(function(q,t){return q<t?-1:q>t?1:0});r.sort(function(q,t){return q<t?-1:q>t?1:0});c=JSON.stringify(h)==JSON.stringify(r)?[]:r}break;case "TIME":p&&(p[l].defaultNowValue?
c=c==e.getHours().toString().lpad("0",2)+":"+e.getMinutes().toString().lpad("0",2)?null:c:p[l].defaultValue&&(c=c==p[l].defaultValue.split(":")[0]+":"+p[l].defaultValue.split(":")[1]?null:c));c=c?c.toString():"";break;case "USER_SELECT":h=[];r=[];var k=function(q,t,u,v,x){var y=t[u];if("LOGINUSER()"==y.code)q.push(kintone.getLoginUser().code),u++,u<t.length?k(q,t,u,v,x):x();else switch(y.type){case "GROUP":v?a.loadgroupusers(function(C){for(var E=0;E<C.length;E++){var H=C[E].code;0==a.grep(q,function(Q,
G){return Q.code==H}).length&&q.push(H)}u++;u<t.length?k(q,t,u,v,x):x()},{code:y.code,offset:0,records:null,size:100}):(u++,u<t.length?k(q,t,u,v,x):x());break;case "ORGANIZATION":v?a.loadorganizationusers(function(C){for(var E=0;E<C.length;E++){var H=C[E].code;0==a.grep(q,function(Q,G){return Q.code==H}).length&&q.push(H)}u++;u<t.length?k(q,t,u,v,x):x()},{code:y.code,offset:0,records:null,size:100}):(u++,u<t.length?k(q,t,u,v,x):x());break;case "USER":q.push(y.code),u++,u<t.length?k(q,t,u,v,x):x()}};
for(n=0;n<c.length;n++)r.push(c[n].code);r.sort(function(q,t){return q<t?-1:q>t?1:0});if(p)if(0!=p[l].defaultValue.length)k(h,p[l].defaultValue,0,b,function(){h.sort(function(q,t){return q<t?-1:q>t?1:0});c=JSON.stringify(h)==JSON.stringify(r)?[]:r;if(0!=c.length)return"function"==typeof b?b(!1):!1;g++;if(g<m.length)d(m,g);else return"function"==typeof b?b(!0):!0});else{if(0!=c.length)return"function"==typeof b?b(!1):!1;g++;if(g<m.length)d(m,g);else return"function"==typeof b?b(!0):!0}else{if(0!=c.length)return"function"==
typeof b?b(!1):!1;g++;if(g<m.length)d(m,g);else return"function"==typeof b?b(!0):!0}break;default:p&&p[l].defaultValue&&(c=c==p[l].defaultValue?null:c),c=c?c.toString():""}if("function"==typeof b){if("USER_SELECT"!=f[l].type){if(0!=c.length)return b(!1);g++;g<m.length?d(m,g):b(!0)}}else{if(0!=c.length)return!1;g++;return g<m.length?d(m,g):!0}};return d(Object.keys(f),0)},isguestspace:function(f,p){f?kintone.api(kintone.api.url("/k/guest/"+f+"/v1/space",!0),"GET",{id:f},function(b){p(!0)},function(b){p(!1)}):
p(!1)},isvalidtype:function(f,p){var b=[];switch(f.type){case "CALC":switch(f.format){case "DATE":b=["DATE"];break;case "DATETIME":b=["DATETIME"];break;case "DAY_HOUR_MINUTE":case "HOUR_MINUTE":b=["SINGLE_LINE_TEXT"];break;case "NUMBER":case "NUMBER_DIGIT":b=["NUMBER","RECORD_NUMBER"];break;case "TIME":b=["TIME"]}break;case "CHECK_BOX":case "MULTI_SELECT":b=["CHECK_BOX","MULTI_SELECT"];break;case "DATETIME":b=["DATETIME"];break;case "DATE":b=["DATE"];break;case "DROP_DOWN":case "RADIO_BUTTON":b=["DROP_DOWN",
"RADIO_BUTTON","SINGLE_LINE_TEXT"];break;case "FILE":b=["FILE"];break;case "GROUP_SELECT":b=["GROUP_SELECT"];break;case "LINK":b=["LINK","SINGLE_LINE_TEXT"];break;case "MULTI_LINE_TEXT":b=["MULTI_LINE_TEXT"];break;case "NUMBER":b=["NUMBER","RECORD_NUMBER"];break;case "ORGANIZATION_SELECT":b=["ORGANIZATION_SELECT"];break;case "RECORD_NUMBER":b=["NUMBER","RECORD_NUMBER","SINGLE_LINE_TEXT"];break;case "RICH_TEXT":b=["RICH_TEXT"];break;case "SINGLE_LINE_TEXT":b=["SINGLE_LINE_TEXT"];break;case "TIME":b=
["TIME"];break;case "USER_SELECT":b=["USER_SELECT"]}return-1<a.inArray(p.type,b)},isvalidcomptype:function(f,p){var b=!1;switch(f.type){case "CALC":if("CALC"==p.type)b=p.format==f.format;else{b=[];switch(f.format){case "DATE":b=["DATE"];break;case "DATETIME":b=["DATETIME"];break;case "DAY_HOUR_MINUTE":case "HOUR_MINUTE":b=["SINGLE_LINE_TEXT"];break;case "NUMBER":case "NUMBER_DIGIT":b=["NUMBER","RECORD_NUMBER"];break;case "TIME":b=["TIME"]}b=-1<a.inArray(p.type,b)}break;case "CHECK_BOX":case "MULTI_SELECT":b=
-1<a.inArray(p.type,["CHECK_BOX","MULTI_SELECT"]);break;case "CREATED_TIME":case "DATETIME":case "UPDATED_TIME":b="CALC"==p.type?"DATETIME"==p.format:-1<a.inArray(p.type,["CREATED_TIME","DATETIME","UPDATED_TIME"]);break;case "DATE":b="CALC"==p.type?"DATE"==p.format:-1<a.inArray(p.type,["DATE"]);break;case "DROP_DOWN":case "RADIO_BUTTON":case "LINK":case "SINGLE_LINE_TEXT":case "STATUS":b=-1<a.inArray(p.type,["DROP_DOWN","RADIO_BUTTON","LINK","SINGLE_LINE_TEXT"]);break;case "GROUP_SELECT":b=-1<a.inArray(p.type,
["GROUP_SELECT"]);break;case "MULTI_LINE_TEXT":b=-1<a.inArray(p.type,["LINK","MULTI_LINE_TEXT","SINGLE_LINE_TEXT"]);break;case "NUMBER":b="CALC"==p.type?"NUMBER"==p.format:-1<a.inArray(p.type,["NUMBER","RECORD_NUMBER"]);break;case "ORGANIZATION_SELECT":b=-1<a.inArray(p.type,["ORGANIZATION_SELECT"]);break;case "RECORD_NUMBER":b=-1<a.inArray(p.type,["NUMBER","RECORD_NUMBER"]);break;case "RICH_TEXT":b=-1<a.inArray(p.type,["LINK","RICH_TEXT","SINGLE_LINE_TEXT"]);break;case "TIME":b="CALC"==p.type?"TIME"==
p.format:-1<a.inArray(p.type,["TIME"]);break;case "CREATOR":case "MODIFIER":case "STATUS_ASSIGNEE":case "USER_SELECT":b=-1<a.inArray(p.type,["CREATOR","MODIFIER","STATUS_ASSIGNEE","USER_SELECT"])}return b},loadgroups:function(f,p){p=a.extend(!0,{offset:0,records:null,size:100},p);var b="?size="+p.size.toString()+"&offset="+p.offset.toString();kintone.api(kintone.api.url("/v1/groups",!0)+b,"GET",{},function(c){null==p.records?p.records=c.groups:Array.prototype.push.apply(p.records,c.groups);p.offset+=
p.size;c.groups.length==p.size?a.loadgroups(f,p):f(p.records)},function(c){f([])})},loadgroupusers:function(f,p){p=a.extend(!0,{code:"",offset:0,records:null,size:100},p);var b="?code="+p.code+"&size="+p.size.toString()+"&offset="+p.offset.toString();kintone.api(kintone.api.url("/v1/group/users",!0)+b,"GET",{},function(c){null==p.records?p.records=a.grep(c.users,function(e,d){return e.valid}):Array.prototype.push.apply(p.records,a.grep(c.users,function(e,d){return e.valid}));p.offset+=p.size;c.users.length==
p.size?a.loadgroupusers(f,p):f(p.records)},function(c){f([])})},loadorganizations:function(f,p){p=a.extend(!0,{offset:0,records:null,size:100},p);var b="?size="+p.size.toString()+"&offset="+p.offset.toString();kintone.api(kintone.api.url("/v1/organizations",!0)+b,"GET",{},function(c){null==p.records?p.records=c.organizations:Array.prototype.push.apply(p.records,c.organizations);p.offset+=p.size;c.organizations.length==p.size?a.loadorganizations(f,p):f(p.records)},function(c){f([])})},loadorganizationusers:function(f,
p){p=a.extend(!0,{code:"",offset:0,records:null,size:100},p);var b="?code="+p.code+"&size="+p.size.toString()+"&offset="+p.offset.toString();kintone.api(kintone.api.url("/v1/organization/users",!0)+b,"GET",{},function(c){for(var e=[],d=0;d<c.userTitles.length;d++)c.userTitles[d].user.valid&&e.push(c.userTitles[d].user);null==p.records?p.records=e:Array.prototype.push.apply(p.records,e);p.offset+=p.size;e.length==p.size?a.loadorganizationusers(f,p):f(p.records)},function(c){f([])})},loadrecords:function(f,
p,b,c,e){var d=function(m,g,l,h,r,n){var k={app:m,query:g};k.query+=" order by "+l+" limit "+(500).toString()+" offset "+r.toString();kintone.api(kintone.api.url("/k/v1/records",!0),"GET",k,function(q){Array.prototype.push.apply(h,q.records);r+=500;500==q.records.length?d(m,g,l,h,r,n):n(h)},function(q){e(a.builderror(q))})};kintone.api(kintone.api.url("/k/v1/records",!0),"GET",{app:f,query:p,totalCount:!0},function(m){1E4>m.totalCount?d(f,p,b,[],0,function(g){c(g)}):a.cursorcreate({app:f,query:p,
sort:b},function(g,l,h){h?e(h):a.cursorfetch(g,!0,function(r,n){n?e(n):c(r)})})},function(m){e(a.builderror(m))})},loadusers:function(f,p){p=a.extend(!0,{offset:0,records:null,size:100},p);var b="?size="+p.size.toString()+"&offset="+p.offset.toString();kintone.api(kintone.api.url("/v1/users",!0)+b,"GET",{},function(c){null==p.records?p.records=a.grep(c.users,function(e,d){return e.valid}):Array.prototype.push.apply(p.records,a.grep(c.users,function(e,d){return e.valid}));p.offset+=p.size;c.users.length==
p.size?a.loadusers(f,p):f(p.records)},function(c){f([])})},lookupdoublecheck:function(f,p,b){var c=p[f];c.lookup?kintone.api(kintone.api.url("/k/v1/app/form/fields",!0),"GET",{app:c.lookup.relatedApp.app},function(e){if(e.properties[c.lookup.relatedKeyField].unique)f++,f<p.length?a.lookupdoublecheck(f,p,b):b();else{var d=e.properties[c.lookup.relatedKeyField];kintone.api(kintone.api.url("/k/v1/app",!0),"GET",{id:c.lookup.relatedApp.app},function(m){b("The following fields must be non-duplicate.\nApp: "+
m.name+"\nField: "+d.label)},function(m){})}},function(e){alert(a.builderror(e))}):(f++,f<p.length?a.lookupdoublecheck(f,p,b):b())},queries:function(){for(var f={},p,b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++)p=b[c].split("="),f[decodeURI(p[0])]=decodeURI(p[1]);return f},timezome:function(){return"+"+Math.floor((new Date).getTimezoneOffset()/-60).toString().lpad("0",2)+((new Date).getTimezoneOffset()%-60*60).toString().lpad("0",2)}});jTis.fn.adjustabletable=function(f){var p=
function(b){b=a.extend(!0,{table:null,add:"",del:"",addcallback:null,delcallback:null},b);this.lastrow=null;this.container=b.table;this.contents=this.container.children("tbody");this.add=b.add;this.del=b.del;this.addcallback=b.addcallback;this.delcallback=b.delcallback;this.rows=this.contents.children("tr");this.template=this.rows.first().clone(!0);null!=this.rows&&this.rows.remove();this.addrow()};p.prototype={addrow:function(b){var c=this,e=this.template.clone(!0);null==b?(this.lastrow?e.insertAfter(this.lastrow):
this.contents.append(e),this.lastrow=e):this.contents.find("tr").index(b)==this.contents.find("tr").length-1?(e.insertAfter(this.lastrow),this.lastrow=e):e.insertAfter(b);this.rows=this.contents.children("tr");if(0!=this.add.length)a(this.add,e).on("click",function(){c.addrow(a(this).closest("tr"))});0!=this.del.length&&(a(this.del,e).on("click",function(){c.delrow(a(this).closest("tr"))}),a(this.del,this.rows.first()).css({display:"none"}));null!=this.addcallback&&this.addcallback(e,this.rows.index(e));
return e},delrow:function(b){var c=this.rows.index(b);b.remove();this.rows=this.contents.children("tr");this.lastrow=0!=this.rows.length?this.rows.last():null;null!=this.delcallback&&this.delcallback(c)},clearrows:function(){this.rows.remove();this.rows=this.contents.children("tr");this.lastrow=null}};return new p(a.extend(!0,{table:a(this),add:"",del:"",addcallback:null,delcallback:null},f))};jTis.fn.attachmentbrowser=function(f){var p=function(b){b=a.extend(!0,{container:null,download:!0},b);var c=
this;this.downloadable=b.download;this.dialog=N("dark");this.ismobile=function(){var e=navigator.userAgent;return 0<e.indexOf("iPhone")||0<e.indexOf("iPod")||0<e.indexOf("Android")&&0<e.indexOf("Mobile")||0<e.indexOf("Windows Phone")||0<e.indexOf("iPad")||0<e.indexOf("Android")?!0:!1}();this.dialog.contents.append(a("<audio controls"+(c.downloadable?"":' controlsList="nodownload"')+">").addClass("block").addClass("audioblock").css({outline:"none"})).append(a("<iframe>").addClass("block").addClass("htmlblock").css({border:"none",
height:"100%",outline:"none",width:"100%"})).append(a("<iframe>").addClass("block").addClass("pdfblock").css({border:"none",height:"100%",outline:"none",width:"100%"})).append(w.clone(!0).addClass("block").addClass("pdfthumbnailblock").css({"background-color":"rgba(102,102,102,1)",height:"100%",overflow:"auto",padding:"0.25em 0.5em","text-align":"center",width:"100%"})).append(a("<img>").addClass("block").addClass("imageblock").css({bottom:"0",height:"auto",left:"0","max-height":"100%","max-width":"100%",
margin:"auto",position:"absolute",right:"0",top:"0",width:"auto"})).append(w.clone(!0).addClass("block").addClass("tableblock").css({"background-color":"rgba(255,255,255,0.85)",height:"100%",overflow:"auto",padding:"0.5em","text-align":"left",width:"100%"})).append(w.clone(!0).addClass("block").addClass("textblock").css({"background-color":"rgba(255,255,255,0.85)",height:"100%","overflow-x":"hidden","overflow-y":"auto",padding:"0.5em","text-align":"left",width:"100%"})).append(a("<video controls"+
(c.downloadable?"":' controlsList="nodownload"')+">").addClass("block").addClass("videoblock").css({bottom:"0",height:"auto",left:"0","max-height":"100%","max-width":"100%",margin:"auto",outline:"none",position:"absolute",right:"0",top:"0",width:"auto"}));b.container.append(this.dialog.cover.append(this.dialog.container.append(function(e,d){d&&e.append(c.dialog.button.clone(!0).css({"margin-right":"1em"}).addClass("download").attr("src","https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/browse_download.svg"));
e.append(c.dialog.button.clone(!0).attr("src","https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/browse_close.svg").on("click",function(){c.hide()}));return e}(this.dialog.header,this.downloadable)).append(this.dialog.contents)));this.ismobile&&this.dialog.contents.css({overflow:"auto","-webkit-overflow-scrolling":"touch"});this.downloadable||this.dialog.contents.children().each(function(e){a(this).on("contextmenu",function(){return!1})});"undefined"===typeof Encoding&&a("head").append(a("<script>").attr("type",
"text/javascript").attr("src","https://tis2010.jp/library/encoding/encoding.js"))};p.prototype={show:function(b){var c=this,e=function(d){if(window.navigator.msSaveBlob)window.navigator.msSaveOrOpenBlob(d,b.name);else{var m=window.URL||window.webkitURL,g=document.createElement("a");g.setAttribute("href",m.createObjectURL(d));g.setAttribute("target","_blank");g.setAttribute("download",b.name);g.style.display="none";document.body.appendChild(g);g.click();document.body.removeChild(g)}c.hide()};a.download(b.fileKey).then(function(d){var m=
window.URL||window.webkitURL,g=new FileReader;a(".block",c.dialog.contents).hide();switch(b.contentType){case "application/json":g.onload=function(l){l=new Uint8Array(l.target.result);l=Encoding.codeToString(Encoding.convert(l,"UNICODE",Encoding.detect(l)));a(".textblock",c.dialog.contents).html(l.replace(/\n/g,"<br>")).show();c.dialog.cover.show()};g.readAsArrayBuffer(d);c.dialog.cover.show();break;case "application/pdf":!c.downloadable||c.ismobile?(g=new FileReader,g.onload=function(l){kintone.proxy("https://api.tricky-lab.com/pdf2images",
"POST",{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},{src:l.target.result},function(h,r,n){h=JSON.parse(h);switch(r){case 200:a(".pdfthumbnailblock",c.dialog.contents).empty();for(r=0;r<h.images.length;r++){n=atob(h.images[r]);for(var k=new Uint8Array(n.length),q=0;q<n.length;q++)k[q]=n.charCodeAt(q);a(".pdfthumbnailblock",c.dialog.contents).append(w.clone(!0).css({padding:"0.25em 0","text-align":"center",width:"100%"}).append(a("<img>").css({"max-width":"100%",margin:"auto"}).attr("src",
m.createObjectURL(new Blob([k.buffer],{type:"image/png"})))))}a(".pdfthumbnailblock",c.dialog.contents).show();break;default:alert(h.error.message)}},function(h){"message"in h?alert(h.message):alert("API\u3078\u306e\u63a5\u7d9a\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")})},g.readAsDataURL(d)):a(".pdfblock",c.dialog.contents).attr("src",m.createObjectURL(d)).show();c.dialog.cover.show();break;case "audio/mpeg":a(".audioblock",c.dialog.contents).attr("src",m.createObjectURL(d)).show();c.dialog.cover.show();
break;case "image/bmp":case "image/gif":case "image/jpeg":case "image/png":a(".imageblock",c.dialog.contents).attr("src",m.createObjectURL(d)).show();c.dialog.cover.show();break;case "text/css":case "text/javascript":case "text/plain":g.onload=function(l){l=new Uint8Array(l.target.result);l=Encoding.codeToString(Encoding.convert(l,"UNICODE",Encoding.detect(l)));a(".textblock",c.dialog.contents).html(l.replace(/\n/g,"<br>")).show();c.dialog.cover.show()};g.readAsArrayBuffer(d);c.dialog.cover.show();
break;case "text/csv":g.onload=function(l){l=new Uint8Array(l.target.result);l=Encoding.codeToString(Encoding.convert(l,"UNICODE",Encoding.detect(l))).replace(/\r/g,"").replace(/^"/g,"").replace(/"$/g,"").replace(/",/g,",").replace(/,"/g,",").replace(/"\n/g,"\n").replace(/\n"/g,"\n").split("\n");if(0!=l.length){for(var h=a(".tableblock",c.dialog.contents).empty(),r=h.append,n=a("<table>"),k=n.append,q=a("<tbody>"),t=q.append,u=l[0].split(","),v=a("<tr>"),x=0;x<u.length;x++)v.append(a("<td>").css({padding:"0px 0.25em"}));
n=k.call(n,t.call(q,v)).adjustabletable({});for(k=0;k<l.length;k++)for(q=0<k?n.addrow():n.lastrow,t=l[k].split(","),u=0;u<t.length;u++)a("td",q).eq(u).html(t[u]);r.call(h,n.container).show();c.dialog.cover.show()}};g.readAsArrayBuffer(d);c.dialog.cover.show();break;case "text/html":a(".htmlblock",c.dialog.contents).attr("src",m.createObjectURL(d)).show();c.dialog.cover.show();break;case "video/mp4":case "video/mpeg":a(".videoblock",c.dialog.contents).attr("src",m.createObjectURL(d)).show();c.dialog.cover.show();
break;default:e(d)}if(c.downloadable)a(".download",c.dialog.header).off("click").on("click",function(){e(d)})})},hide:function(){this.dialog.cover.hide()}};return new p(a.extend(!0,{container:a(this)},f))};jTis.fn.calendar=function(f){var p=function(b){b=a.extend(!0,{container:null,multi:!1,selected:null,closed:null,span:1,active:{back:"#FFB46E",fore:"#2B2B2B"},normal:{back:"#FFFFFF",fore:"#2B2B2B"},saturday:{back:"#FFFFFF",fore:"#69B4C8"},sunday:{back:"#FFFFFF",fore:"#FA8273"},today:{back:"#69B4C8",
fore:"#2B2B2B"}},b);this.activedates=[];this.calendars=[];this.frommonth=(new Date).calc("first-of-month");this.params=b;this.params.activestyle={"background-color":this.params.active.back,color:this.params.active.fore,cursor:"pointer"};this.params.normalstyle={"background-color":this.params.normal.back,color:this.params.normal.fore,cursor:"default"};this.params.saturdaystyle={"background-color":this.params.saturday.back,color:this.params.saturday.fore,cursor:"default"};this.params.sundaystyle={"background-color":this.params.sunday.back,
color:this.params.sunday.fore,cursor:"default"};this.params.todaystyle={"background-color":this.params.today.back,color:this.params.today.fore,cursor:"default"};var c=this,e=0,d=0,m=4>b.span?b.span:4,g="ja"==kintone.getLoginUser().language?"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""):"Sun Mon Tue Wed Thu Fri Sat".split(" ");e=298;d=35*g.length+10;var l=a("<div>").css({"box-sizing":"border-box",margin:"0px",padding:"0px",position:"relative","vertical-align":"top"}),h=a("<button>").css({"background-color":"transparent",
"background-position":"left top","background-repeat":"no-repeat","background-size":(35).toString()+"px "+(35).toString()+"px",border:"none","box-sizing":"border-box",cursor:"pointer","font-size":"13px",height:(35).toString()+"px","line-height":(35).toString()+"px",margin:"0px",outline:"none",padding:"0px",width:(35).toString()+"px"}),r=a("<table>");this.cover=l.clone(!0).css({"background-color":"rgba(0,0,0,0.5)",display:"none",height:"100%",left:"0px",position:"fixed",top:"0px",width:"100%","z-index":"999999"});
this.container=l.clone(!0).css({"background-color":"#FFFFFF",bottom:"0","border-radius":"5px","box-shadow":"0px 0px 3px rgba(0,0,0,0.35)",height:(e*Math.ceil(b.span/m)+35*(b.multi?3.5:2)).toString()+"px",left:"0",margin:"auto","max-height":"100%","max-width":"100%",padding:(70).toString()+"px 0px "+(b.multi?52.5:0).toString()+"px 0px",position:"absolute",right:"0","text-align":"center",top:"0",width:(d*m+10).toString()+"px"}).append(h.clone(!0).css({"background-image":'url("https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/close.png")',
position:"absolute",right:"0px",top:"0px","z-index":b.span+1}).on("click",function(){null!=b.closed&&b.closed();c.cover.hide()})).append(function(q){!b.multi&&b.selected&&q.append(l.clone(!0).css({height:(35).toString()+"px","line-height":(35).toString()+"px",padding:"0px "+(35).toString()+"px","text-align":"center",width:"100%"}).append(a("<button>").css({"background-color":"transparent",border:"none","box-sizing":"border-box",cursor:"pointer","font-size":"13px",height:(35).toString()+"px","line-height":(35).toString()+
"px",margin:"0px",outline:"none",padding:"0.25em",width:"5em"}).text("ja"==kintone.getLoginUser().language?"\u6628\u65e5":"-1 day").on("click",function(){b.selected(null,(new Date).calc("-1 day").format("Y-m-d"));c.cover.hide()})).append(a("<button>").css({"background-color":"transparent",border:"none","box-sizing":"border-box",cursor:"pointer","font-size":"13px",height:(35).toString()+"px","line-height":(35).toString()+"px",margin:"0px",outline:"none",padding:"0.25em",width:"5em"}).text("ja"==kintone.getLoginUser().language?
"\u4eca\u65e5":"today").on("click",function(){b.selected(null,(new Date).format("Y-m-d"));c.cover.hide()})).append(a("<button>").css({"background-color":"transparent",border:"none","box-sizing":"border-box",cursor:"pointer","font-size":"13px",height:(35).toString()+"px","line-height":(35).toString()+"px",margin:"0px",outline:"none",padding:"0.25em",width:"5em"}).text("ja"==kintone.getLoginUser().language?"\u660e\u65e5":"+1 day").on("click",function(){b.selected(null,(new Date).calc("1 day").format("Y-m-d"));
c.cover.hide()})));q.append(h.clone(!0).css({"background-image":'url("https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/prev.png")',position:"absolute",left:"0px",top:"0px"}).on("click",function(){c.frommonth=c.frommonth.calc("-"+b.span.toString()+" month").calc("first-of-month");c.show()})).append(h.clone(!0).css({"background-image":'url("https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/next.png")',position:"absolute",right:"0px",top:"0px"}).on("click",function(){c.frommonth=
c.frommonth.calc(b.span.toString()+" month").calc("first-of-month");c.show()}));return q}(l.clone(!0).css({height:(35).toString()+"px",left:"0px",position:"absolute",top:(35).toString()+"px","z-index":b.span+2,width:"100%"})));this.contents=l.clone(!0).css({overflow:"auto",padding:"0px 5px","white-space":"nowrap",width:"100%"});this.buttonblock=l.clone(!0).css({bottom:"0px",height:(52.5).toString()+"px",left:"0px","line-height":(52.5).toString()+"px",padding:"0px",position:"absolute","text-align":"center",
width:"100%","z-index":b.span+3}).append(h.clone(!0).css({border:"1px solid #C9C9C9","border-radius":"3px",margin:"0px 5px",width:"6em"}).attr("id","ok").text("OK")).append(h.clone(!0).css({border:"1px solid #C9C9C9","border-radius":"3px",margin:"0px 5px",width:"6em"}).attr("id","cancel").text("Cancel"));for(m=0;m<b.span;m++){this.calendars.push(l.clone(!0).css({display:"inline-block",height:e.toString()+"px","padding-left":(5).toString()+"px","padding-right":(5).toString()+"px","padding-top":(0).toString()+
"px","padding-bottom":(10).toString()+"px",width:d.toString()+"px"}).append(r.clone(!0).css({"box-sizing":"border-box"})));for(var n=0;n<8*g.length;n++){var k=this.calendars[m].find("table");0==n%g.length&&k.append(a("<tr>"));k.find("tr").last().append(a("<td>").css({border:"1px solid #C9C9C9","box-sizing":"border-box",color:b.normal.fore,"font-size":"13px",height:(35).toString()+"px","line-height":(35).toString()+"px",margin:"0px",padding:"0px","text-align":"center",width:(35).toString()+"px"}).on("click",
function(){if(a.isNumeric(a(this).text())){var q=(new Date((a(this).closest("table").find("tr").first().find("td").eq(0).text()+"-01").dateformat())).calc((parseInt(a(this).text())-1).toString()+" day");if(b.multi){for(var t=-1,u=0;u<c.activedates.length;u++)q.format("Y-m-d")==c.activedates[u].format("Y-m-d")&&(t=u);if(-1<t){c.activedates.splice(t,1);switch(q.getDay()){case 0:a(this).css(c.params.sundaystyle);break;case 6:a(this).css(c.params.saturdaystyle);break;default:a(this).css(c.params.normalstyle)}q.format("Y-m-d")==
(new Date).format("Y-m-d")&&a(this).css(c.params.todaystyle)}else c.activedates.push(q),a(this).css(c.params.activestyle)}else null!=b.selected&&b.selected(a(this).closest("td"),q.format("Y-m-d")),c.cover.hide()}}))}k.find("tr").eq(0).find("td").css({border:"none",cursor:"pointer"});k.find("tr").eq(0).find("td").each(function(q){0<q&&a(this).remove()});k.find("tr").eq(0).find("td").eq(0).attr("colspan",g.length).css("cursor","default");k.find("tr").eq(1).find("td").each(function(q){a(this).text(g[q])});
k.find("tr:gt(0)").find("td").eq(0).css({"background-color":b.sunday.back,color:b.sunday.fore});k.find("tr:gt(0)").find("td").eq(6).css({"background-color":b.saturday.back,color:b.saturday.fore})}a.each(this.calendars,function(q){c.contents.append(c.calendars[q])});this.container.append(this.contents);b.multi&&this.container.append(this.buttonblock);this.cover.append(this.container);b.container.append(this.cover)};p.prototype={show:function(b){b=a.extend(!0,{activedate:null,activedates:null,buttons:{}},
b);var c=this,e=null,d=null,m=this.params;if(null!=b.activedate||null!=b.activedates){e=!1;var g=null!=b.activedate?[b.activedate.format("Y-m-d")]:null!=b.activedates?b.activedates:[];this.activedates=[];for(var l=0;l<g.length;l++)null!=g[l].match(/^[0-9]{4}(-|\/){1}[0-1]?[0-9]{1}(-|\/){1}[0-3]?[0-9]{1}$/g)&&(this.activedates.push(new Date(g[l].replace(/-/g,"/"))),e||(this.frommonth=(new Date(g[l].replace(/-/g,"/"))).calc("first-of-month"),e=!0));e||(this.frommonth=(new Date).calc("first-of-month"))}a.each(b.buttons,
function(h,r){if(c.buttonblock.find("button#"+h).size())c.buttonblock.find("button#"+h).off("click").on("click",function(){if(null!=r){for(var n=[],k=0;k<c.activedates.length;k++)n.push(c.activedates[k].format("Y-m-d"));r(n)}})});for(l=0;l<m.span;l++)e=this.calendars[l].find("table"),d=this.frommonth.calc(l.toString()+" month"),e.find("tr").first().find("td").eq(0).text(d.format("Y-m")),e.find("tr:gt(1)").find("td").each(function(h){var r=h-d.getDay(),n=d.calc(r.toString()+" day"),k=m.normalstyle;
if(0>r)a(this).css(k).html("&nbsp;");else if(n.format("Y-m")!=d.format("Y-m"))a(this).css(k).html("&nbsp;");else{switch((h+1)%7){case 0:k=m.saturdaystyle;break;case 1:k=m.sundaystyle}n.format("Y-m-d")==(new Date).format("Y-m-d")&&(k=m.todaystyle);for(h=0;h<c.activedates.length;h++)n.format("Y-m-d")==c.activedates[h].format("Y-m-d")&&(k=m.activestyle);k.cursor="pointer";a(this).css(k).text((r+1).toString())}});this.cover.show()},hide:function(){this.cover.hide()},unhide:function(){this.cover.show()}};
return new p(a.extend(!0,{container:a(this),multi:!1,selected:null,closed:null,span:1,active:{back:"#FFB46E",fore:"#2B2B2B"},normal:{back:"#FFFFFF",fore:"#2B2B2B"},saturday:{back:"#FFFFFF",fore:"#69B4C8"},sunday:{back:"#FFFFFF",fore:"#FA8273"},today:{back:"#69B4C8",fore:"#2B2B2B"}},f))};jTis.fn.colorSelector=function(f,p,b){return a(this).each(function(){var c=a(this),e=null,d=null,m=null;e=a("<div>").css({"box-sizing":"border-box",height:"calc(100% - 3em)","overflow-x":"hidden","overflow-y":"scroll",
"margin-bottom":"3em",width:"100%","z-index":"1"});d=a("<div>").css({"background-color":"#F3F3F3","border-bottom-left-radius":"0.25em","border-bottom-right-radius":"0.25em",bottom:"0px","box-sizing":"border-box",left:"0px",margin:"0px",padding:"0.5em",position:"absolute",width:"100%","z-index":"2"}).append(a('<input type="text" placeholder="Enter hexadecimal color code">').css({border:"1px solid #DCDCDC","border-radius":"0.25em","box-sizing":"border-box","line-height":"2em",height:"2em",margin:"0px",
outline:"0px",padding:"0px 0.25em",width:"calc(100% - 5.25em)"})).append(a("<button>").css({"background-color":"transparent",border:"1px solid #DCDCDC","border-radius":"0.25em","box-sizing":"border-box",cursor:"pointer","line-height":"2em",margin:"0px 0px 0px 0.25em",outline:"none",padding:"0px 0.25em","text-align":"center",width:"5em"}).on("click",function(){0==d.find("input").val().length?alert("Enter a color code"):(c.css({"background-color":"#"+d.find("input").val().replace("#","")}),p.val(d.find("input").val().replace("#",
"")),m.hide(),b&&b())}).text("OK"));m=a('<div class="colorlist">').css({"background-color":"#F3F3F3",border:"1px solid #DCDCDC","border-radius":"0.25em","box-shadow":"0px 0px 2px rgba(0,0,0,0.5)",height:"400px",left:"50%",margin:"0px","max-height":"calc(100% - 2em)","max-width":"calc(100% - 2em)",overflow:"hidden",padding:"2px",position:"fixed","text-align":"left",top:"50%","z-index":"9999999",width:"400px","-webkit-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"}).on("touchstart mousedown",
function(l){l.stopPropagation()}).hide();c.css({"background-color":"#"+p.val()}).off("touchstart.selector mousedown.selector").on("touchstart.selector mousedown.selector",function(l){a("div.colorlist").hide();m.show();return!1});for(var g=0;g<f.length;g++)e.append(a("<div>").css({"background-color":f[g],cursor:"pointer",display:"inline-block","padding-top":"calc(25% - 4px)",margin:"2px",width:"calc(25% - 4px)"}).on("touchstart mousedown",function(l){l.stopPropagation()}).on("click",function(){var l=
e.find("div").index(a(this));c.css({"background-color":f[l]});p.val(f[l].replace("#",""));m.hide();b&&b()}));m.append(e);m.append(d);a("body").on("touchstart mousedown",function(){m.hide()}).append(m)})};jTis.fn.conditionsform=function(f){var p=function(b){b=a.extend(!0,{app:kintone.app.getId(),container:null,useloginuser:!1,fields:{}},b);var c=this;this.app=b.app;this.fields=b.fields;this.dialog=N("standard",900,800);this.contents=this.dialog.contents;this.usersource=this.organizationsource=this.statussource=
this.groupsource=null;this.referer={};this.dialog.lists.find("tbody").append(a("<tr>").append(B.clone(!0).css({border:"none","border-bottom":"1px dotted #C9C9C9",padding:"5px",width:"150px"}).append(M.clone(!0).addClass("field").css({width:"100%"}))).append(B.clone(!0).css({border:"none","border-bottom":"1px dotted #C9C9C9",padding:"5px",width:"150px"}).append(M.clone(!0).addClass("comp").css({width:"100%"}))).append(B.clone(!0).addClass("value").css({border:"none","border-bottom":"1px dotted #C9C9C9",
padding:"5px",width:"calc(100% - 360px)"})).append(B.clone(!0).css({border:"none","border-bottom":"1px dotted #C9C9C9",padding:"5px 0px",width:"30px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/add.png" class="add" alt="Add" title="Add">').css({cursor:"pointer","vertical-align":"top",width:"100%"}))).append(B.clone(!0).css({border:"none","border-bottom":"1px dotted #C9C9C9",padding:"5px 0px",width:"30px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/close.png" class="del" alt="Del" title="Del">').css({cursor:"pointer",
"vertical-align":"top",width:"100%"}))));this.conditiontable=this.dialog.lists.adjustabletable({add:"img.add",del:"img.del",addcallback:function(e){a(".field",e).on("change",function(){a(".comp",e).empty().append(a("<option>").attr("value","").text(""));if(a(this).val()){var d=c.fields[a(this).val()],m=[],g=null,l=function(){var k=w.clone(!0).css({display:"none","line-height":"30px"}).append(L.clone(!0).addClass("receiverspan").css({margin:"0px 5px","text-align":"right",width:"5em"})).append(M.clone(!0).addClass("receiverunit"));
a(".receiverunit",k).append(a("<option>").attr("value","d").text("ja"==kintone.getLoginUser().language?"\u65e5":"Day"));a(".receiverunit",k).append(a("<option>").attr("value","m").text("ja"==kintone.getLoginUser().language?"\u6708":"Month"));a(".receiverunit",k).append(a("<option>").attr("value","y").text("ja"==kintone.getLoginUser().language?"\u5e74":"Year"));return k}(),h=M.clone(!0).addClass("fixed").css({width:"100px"}).on("change",function(){a(".receiver",e).val(a(this).val());a(this).val()?
(a(".receiver",e).closest("div").hide(),a(this).val().match(/^FROM/g)?a(".receiverspan",e).closest("div").css({display:"inline-block"}):a(".receiverspan",e).closest("div").hide()):(a(".receiver",e).closest("div").css({display:"inline-block"}),a(".receiverspan",e).closest("div").hide())}),r=function(k,q,t,u){a(".comp",k).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u3044":"equal")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?
"\u7b49\u3057\u304f\u306a\u3044":"not equal")).append(a("<option>").attr("value","2").text("ja"==kintone.getLoginUser().language?"\u4ee5\u524d":"less than or equal")).append(a("<option>").attr("value","3").text("ja"==kintone.getLoginUser().language?"\u3088\u308a\u524d":"less than")).append(a("<option>").attr("value","4").text("ja"==kintone.getLoginUser().language?"\u4ee5\u964d":"greater than or equal")).append(a("<option>").attr("value","5").text("ja"==kintone.getLoginUser().language?"\u3088\u308a\u5f8c":
"greater than"));t.append(a("<option>").attr("value","").text("ja"==kintone.getLoginUser().language?"\u65e5\u4ed8\u6307\u5b9a":"manually")).append(a("<option>").attr("value","TODAY").text("ja"==kintone.getLoginUser().language?"\u4eca\u65e5":"today")).append(a("<option>").attr("value","LASTWEEK").text("ja"==kintone.getLoginUser().language?"\u5148\u9031":"last week")).append(a("<option>").attr("value","THISWEEK").text("ja"==kintone.getLoginUser().language?"\u4eca\u9031":"this week")).append(a("<option>").attr("value",
"LASTMONTH").text("ja"==kintone.getLoginUser().language?"\u5148\u6708":"last month")).append(a("<option>").attr("value","THISMONTH").text("ja"==kintone.getLoginUser().language?"\u4eca\u6708":"this month")).append(a("<option>").attr("value","THISYEAR").text("ja"==kintone.getLoginUser().language?"\u4eca\u5e74":"this year")).append(a("<option>").attr("value","FROMTODAY").text("ja"==kintone.getLoginUser().language?"\u4eca\u65e5\u304b\u3089":"from today")).append(a("<option>").attr("value","FROMTHISMONTH").text("ja"==
kintone.getLoginUser().language?"\u4eca\u6708\u521d\u65e5\u304b\u3089":"from thismonth")).append(a("<option>").attr("value","FROMTHISYEAR").text("ja"==kintone.getLoginUser().language?"\u4eca\u5e74\u521d\u65e5\u304b\u3089":"from thisyear"));q=I.clone(!0);a(".label",q).closest("div").css({width:"calc(100% - 100px)"});a(".search",q).on("click",function(){a(this);a("body").calendar({selected:function(v,x){a(".label",k).text(x);a(".receiver",k).val(x)}}).show({activedate:new Date(a(".label",k).text().dateformat())})});
a(".clear",q).on("click",function(){a(this);a(".label",k).text("");a(".receiver",k).val("")});a(".value",k).append(t);a(".value",k).append(u);a(".value",k).append(q)},n=function(k,q,t,u){a(".comp",k).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u3044":"equal")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u304f\u306a\u3044":"not equal")).append(a("<option>").attr("value","2").text("ja"==kintone.getLoginUser().language?
"\u4ee5\u524d":"less than or equal")).append(a("<option>").attr("value","3").text("ja"==kintone.getLoginUser().language?"\u3088\u308a\u524d":"less than")).append(a("<option>").attr("value","4").text("ja"==kintone.getLoginUser().language?"\u4ee5\u964d":"greater than or equal")).append(a("<option>").attr("value","5").text("ja"==kintone.getLoginUser().language?"\u3088\u308a\u5f8c":"greater than"));t.append(a("<option>").attr("value","").text("ja"==kintone.getLoginUser().language?"\u65e5\u4ed8\u6307\u5b9a":
"manually")).append(a("<option>").attr("value","NOW").text("ja"==kintone.getLoginUser().language?"\u5f53\u6642\u523b":"this time")).append(a("<option>").attr("value","TODAY").text("ja"==kintone.getLoginUser().language?"\u4eca\u65e5":"today")).append(a("<option>").attr("value","LASTWEEK").text("ja"==kintone.getLoginUser().language?"\u5148\u9031":"last week")).append(a("<option>").attr("value","THISWEEK").text("ja"==kintone.getLoginUser().language?"\u4eca\u9031":"this week")).append(a("<option>").attr("value",
"LASTMONTH").text("ja"==kintone.getLoginUser().language?"\u5148\u6708":"last month")).append(a("<option>").attr("value","THISMONTH").text("ja"==kintone.getLoginUser().language?"\u4eca\u6708":"this month")).append(a("<option>").attr("value","THISYEAR").text("ja"==kintone.getLoginUser().language?"\u4eca\u5e74":"this year")).append(a("<option>").attr("value","FROMTODAY").text("ja"==kintone.getLoginUser().language?"\u4eca\u65e5\u304b\u3089":"from today")).append(a("<option>").attr("value","FROMTHISMONTH").text("ja"==
kintone.getLoginUser().language?"\u4eca\u6708\u521d\u65e5\u304b\u3089":"from thismonth")).append(a("<option>").attr("value","FROMTHISYEAR").text("ja"==kintone.getLoginUser().language?"\u4eca\u5e74\u521d\u65e5\u304b\u3089":"from thisyear"));q=I.clone(!0).append(P.clone(!0));a(".label",q).closest("div").css({width:"calc(100% - 100px)"});a(".label",q).css({width:"calc(100% - 135px)"});a(".search",q).on("click",function(){a(this);a("body").calendar({selected:function(v,x){a(".label",k).text(x);a(".receiver",
k).val(c.datetimevalue(k))}}).show({activedate:new Date(a(".label",k).text().dateformat())})});a(".clear",q).on("click",function(){a(this);a(".label",k).text("");a(".receiver",k).val("")});a(".receiverhour",q).on("change",function(){a(".receiver",k).val(c.datetimevalue(k))});a(".receiverminute",q).on("change",function(){a(".receiver",k).val(c.datetimevalue(k))});a(".value",k).append(t);a(".value",k).append(u);a(".value",k).append(q)};a(".value",e).empty();switch(d.type){case "CALC":switch(d.format.toUpperCase()){case "NUMBER":case "NUMBER_DIGIT":a(".comp",
e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u3044":"equal")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u304f\u306a\u3044":"not equal")).append(a("<option>").attr("value","2").text("ja"==kintone.getLoginUser().language?"\u4ee5\u4e0b":"less than or equal")).append(a("<option>").attr("value","3").text("ja"==kintone.getLoginUser().language?"\u4ee5\u4e0a":"greater than or equal"));g=L.clone(!0).addClass("receiver");
g.css({"text-align":"right"});a(".value",e).append(g);break;case "DATE":r(e,g,h,l);break;case "DATETIME":case "DAY_HOUR_MINUTE":n(e,g,h,l);break;case "TIME":case "HOUR_MINUTE":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u3044":"equal")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u304f\u306a\u3044":"not equal")).append(a("<option>").attr("value","2").text("ja"==kintone.getLoginUser().language?
"\u4ee5\u524d":"less than or equal")).append(a("<option>").attr("value","3").text("ja"==kintone.getLoginUser().language?"\u3088\u308a\u524d":"less than")).append(a("<option>").attr("value","4").text("ja"==kintone.getLoginUser().language?"\u4ee5\u964d":"greater than or equal")).append(a("<option>").attr("value","5").text("ja"==kintone.getLoginUser().language?"\u3088\u308a\u5f8c":"greater than")),g=P.clone(!0),g.append(a('<input type="hidden" class="receiver">').val("00:00")),a(".receiverhour",g).on("change",
function(){a(".receiver",e).val(c.timevalue(e))}),a(".receiverminute",g).on("change",function(){a(".receiver",e).val(c.timevalue(e))}),a(".value",e).append(g)}break;case "CHECK_BOX":case "DROP_DOWN":case "MULTI_SELECT":case "RADIO_BUTTON":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u304b\u3092\u542b\u3080":"any of")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u3082\u542b\u307e\u306a\u3044":
"not any of"));m=[d.options.length];a.each(d.options,function(k,q){m[q.index]=q.label});for(d=0;d<m.length;d++)g=F.clone(!0),a(".label",g).html(m[d]),a(".receiver",g).attr("id",m[d]).val(m[d]),a(".value",e).append(g);break;case "CREATED_TIME":case "DATETIME":case "UPDATED_TIME":n(e,g,h,l);break;case "CREATOR":case "MODIFIER":case "STATUS_ASSIGNEE":case "USER_SELECT":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u304b\u3092\u542b\u3080":
"any of")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u3082\u542b\u307e\u306a\u3044":"not any of"));null==c.usersource&&(c.usersource=[],a.loadusers(function(k){k.sort(function(q,t){return parseInt(q.id)<parseInt(t.id)?-1:parseInt(q.id)>parseInt(t.id)?1:0});b.useloginuser&&c.usersource.push({value:"LOGINUSER",text:"ja"==kintone.getLoginUser().language?"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc":"Login User"});a.each(k,function(q,
t){c.usersource.push({value:t.code,text:t.name})})}));g=I.clone(!0);a(".search",g).on("click",function(){a(this);c.selectbox.show({datasource:c.usersource,buttons:{ok:function(k){a(".label",e).text(Object.values(k).join(","));a(".receiver",e).val(Object.keys(k).join(","));c.selectbox.hide()},cancel:function(){c.selectbox.hide()}},selected:a(".receiver",e).val().split(",")})});a(".clear",g).on("click",function(){a(this);a(".label",e).text("");a(".receiver",e).val("")});a(".value",e).append(g);break;
case "DATE":r(e,g,h,l);break;case "GROUP_SELECT":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u304b\u3092\u542b\u3080":"any of")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u3082\u542b\u307e\u306a\u3044":"not any of"));null==c.groupsource&&(c.groupsource=[],a.loadgroups(function(k){k.sort(function(q,t){return parseInt(q.id)<parseInt(t.id)?-1:parseInt(q.id)>
parseInt(t.id)?1:0});a.each(k,function(q,t){c.groupsource.push({value:t.code,text:t.name})})}));g=I.clone(!0);a(".search",g).on("click",function(){a(this);c.selectbox.show({datasource:c.groupsource,buttons:{ok:function(k){a(".label",e).text(Object.values(k).join(","));a(".receiver",e).val(Object.keys(k).join(","));c.selectbox.hide()},cancel:function(){c.selectbox.hide()}},selected:a(".receiver",e).val().split(",")})});a(".clear",g).on("click",function(){a(this);a(".label",e).text("");a(".receiver",
e).val("")});a(".value",e).append(g);break;case "LINK":case "SINGLE_LINE_TEXT":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u3044":"equal")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u304f\u306a\u3044":"not equal")).append(a("<option>").attr("value","2").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u542b\u3080":"like")).append(a("<option>").attr("value",
"3").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u542b\u307e\u306a\u3044":"not like"));d.lookup?(g=I.clone(!0),a(".key",g).val(d.lookup.relatedKeyField),0!=d.lookup.lookupPickerFields.length?a(".picker",g).val(d.lookup.lookupPickerFields.join(",")):a(".picker",g).val(d.lookup.relatedKeyField),a(".search",g).on("click",function(){a(this);c.referer[a(".field",e).val()].show({buttons:{cancel:function(){c.referer[a(".field",e).val()].hide()}},callback:function(k){for(var q=
[],t=a(".picker",e).val().split(","),u=0;u<t.length;u++)q.push(a.fieldvalue({type:k.find("#_field_type_"+t[u]).val(),value:"0"==k.find("#_use_parse_"+t[u]).val()?k.find("#"+t[u]).val():JSON.parse(k.find("#"+t[u]).val())}));a(".label",e).html(q.join("/"));a(".receiver",e).val(k.find("#"+a(".key",e).val()).val());c.referer[a(".field",e).val()].hide()}})}),a(".clear",g).on("click",function(){a(this);a(".label",e).text("");a(".receiver",e).val("")}),function(k){kintone.api(kintone.api.url("/k/v1/app/form/fields",
!0),"GET",{app:k.lookup.relatedApp.app},function(q){c.referer[k.code]=a("body").referer({displaytext:0!=k.lookup.lookupPickerFields.length?k.lookup.lookupPickerFields:[k.lookup.relatedKeyField],searches:[{id:"multi",label:"",type:"multi"}],searchinfo:{app:k.lookup.relatedApp.app,query:k.lookup.filterCond,sort:k.lookup.sort,fieldinfos:a.fieldparallelize(q.properties)}});c.referer[k.code].dialog.cover.css({"z-index":"1000000"})},function(q){})}(d)):g=L.clone(!0).addClass("receiver");a(".value",e).append(g);
break;case "MULTI_LINE_TEXT":case "RICH_TEXT":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u542b\u3080":"like")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u542b\u307e\u306a\u3044":"not like"));g=L.clone(!0).addClass("receiver");a(".value",e).append(g);break;case "NUMBER":case "RECORD_NUMBER":a(".comp",e).append(a("<option>").attr("value",
"0").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u3044":"equal")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u304f\u306a\u3044":"not equal")).append(a("<option>").attr("value","2").text("ja"==kintone.getLoginUser().language?"\u4ee5\u4e0b":"less than or equal")).append(a("<option>").attr("value","3").text("ja"==kintone.getLoginUser().language?"\u4ee5\u4e0a":"greater than or equal"));d.lookup?(g=I.clone(!0),a(".key",g).val(d.lookup.relatedKeyField),
0!=d.lookup.lookupPickerFields.length?a(".picker",g).val(d.lookup.lookupPickerFields.join(",")):a(".picker",g).val(d.lookup.relatedKeyField),a(".search",g).on("click",function(){a(this);c.referer[a(".field",e).val()].show({buttons:{cancel:function(){c.referer[a(".field",e).val()].hide()}},callback:function(k){for(var q=[],t=a(".picker",e).val().split(","),u=0;u<t.length;u++)q.push(a.fieldvalue({type:k.find("#_field_type_"+t[u]).val(),value:"0"==k.find("#_use_parse_"+t[u]).val()?k.find("#"+t[u]).val():
JSON.parse(k.find("#"+t[u]).val())}));a(".label",e).html(q.join("/"));a(".receiver",e).val(k.find("#"+a(".key",e).val()).val());c.referer[a(".field",e).val()].hide()}})}),a(".clear",g).on("click",function(){a(this);a(".label",e).text("");a(".receiver",e).val("")}),function(k){kintone.api(kintone.api.url("/k/v1/app/form/fields",!0),"GET",{app:k.lookup.relatedApp.app},function(q){c.referer[k.code]=a("body").referer({displaytext:0!=k.lookup.lookupPickerFields.length?k.lookup.lookupPickerFields:[k.lookup.relatedKeyField],
searches:[{id:"multi",label:"",type:"multi"}],searchinfo:{app:k.lookup.relatedApp.app,query:k.lookup.filterCond,sort:k.lookup.sort,fieldinfos:a.fieldparallelize(q.properties)}});c.referer[k.code].dialog.cover.css({"z-index":"1000000"})},function(q){})}(d)):(g=L.clone(!0).addClass("receiver"),g.css({"text-align":"right"}));a(".value",e).append(g);break;case "ORGANIZATION_SELECT":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u304b\u3092\u542b\u3080":
"any of")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u3082\u542b\u307e\u306a\u3044":"not any of"));null==c.organizationsource&&(c.organizationsource=[],a.loadorganizations(function(k){k.sort(function(q,t){return parseInt(q.id)<parseInt(t.id)?-1:parseInt(q.id)>parseInt(t.id)?1:0});a.each(k,function(q,t){c.organizationsource.push({value:t.code,text:t.name})})}));g=I.clone(!0);a(".search",g).on("click",function(){a(this);c.selectbox.show({datasource:c.organizationsource,
buttons:{ok:function(k){a(".label",e).text(Object.values(k).join(","));a(".receiver",e).val(Object.keys(k).join(","));c.selectbox.hide()},cancel:function(){c.selectbox.hide()}},selected:a(".receiver",e).val().split(",")})});a(".clear",g).on("click",function(){a(this);a(".label",e).text("");a(".receiver",e).val("")});a(".value",e).append(g);break;case "STATUS":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u304b\u3092\u542b\u3080":
"any of")).append(a("<option>").attr("value","1").text("ja"==kintone.getLoginUser().language?"\u6b21\u306e\u3044\u305a\u308c\u3082\u542b\u307e\u306a\u3044":"not any of"));null==c.statussource&&(c.statussource=[],kintone.api(kintone.api.url("/k/v1/app/status",!0),"GET",{app:c.app},function(k){c.statussource=[Object.keys(k.states).length];a.each(k.states,function(q,t){c.statussource[t.index]={value:q,text:t.name}})},function(k){}));g=I.clone(!0);a(".search",g).on("click",function(){a(this);c.selectbox.show({datasource:c.statussource,
buttons:{ok:function(k){a(".label",e).text(Object.values(k).join(","));a(".receiver",e).val(Object.keys(k).join(","));c.selectbox.hide()},cancel:function(){c.selectbox.hide()}},selected:a(".receiver",e).val().split(",")})});a(".clear",g).on("click",function(){a(this);a(".label",e).text("");a(".receiver",e).val("")});a(".value",e).append(g);break;case "TIME":a(".comp",e).append(a("<option>").attr("value","0").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u3044":"equal")).append(a("<option>").attr("value",
"1").text("ja"==kintone.getLoginUser().language?"\u7b49\u3057\u304f\u306a\u3044":"not equal")).append(a("<option>").attr("value","2").text("ja"==kintone.getLoginUser().language?"\u4ee5\u524d":"less than or equal")).append(a("<option>").attr("value","3").text("ja"==kintone.getLoginUser().language?"\u3088\u308a\u524d":"less than")).append(a("<option>").attr("value","4").text("ja"==kintone.getLoginUser().language?"\u4ee5\u964d":"greater than or equal")).append(a("<option>").attr("value","5").text("ja"==
kintone.getLoginUser().language?"\u3088\u308a\u5f8c":"greater than")),g=P.clone(!0),g.append(a('<input type="hidden" class="receiver">').val("00:00")),a(".receiverhour",g).on("change",function(){a(".receiver",e).val(c.timevalue(e))}),a(".receiverminute",g).on("change",function(){a(".receiver",e).val(c.timevalue(e))}),a(".value",e).append(g)}}else a(".value",e).empty()})}});a(".field",this.conditiontable.template).empty().append(a("<option>").attr("value","").text(""));a.each(this.fields,function(e,
d){if("CATEGORY"==d.type||"FILE"==d.type||"GROUP"==d.type||"REFERENCE_TABLE"==d.type||"SUBTABLE"==d.type)return!0;a(".field",c.conditiontable.template).append(a("<option>").attr("value",d.code).text(d.label))});this.dialog.contents.append(this.dialog.lists);this.dialog.container.append(this.dialog.contents);this.dialog.container.append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id","cancel").text("Cancel").on("click",function(){c.hide()})));this.dialog.cover.append(this.dialog.container);
b.container.append(this.dialog.cover);this.selectbox=a("body").multiselect()};p.prototype={datetimevalue:function(b){var c=b.find(".label").text(),e=b.find(".receiverhour");b=b.find(".receiverminute");return 0==c.length?"":c+"T"+e.val()+":"+b.val()+":00"+a.timezome()},timevalue:function(b){var c=b.find(".receiverhour");b=b.find(".receiverminute");return c.val()+":"+b.val()},show:function(b,c){b=a.extend(!0,{fieldinfos:this.fields,conditions:[]},b);var e=this,d=null;a("#ok",this.dialog.footer).off("click").on("click",
function(){for(var n=[],k=0;k<e.conditiontable.rows.length;k++)if(d=e.conditiontable.rows.eq(k),a(".field",d).val()&&a(".comp",d).val()){var q=b.fieldinfos[a(".field",d).val()],t=a(".receiver",d).val(),u=[];switch(q.type){case "CALC":switch(q.format.toUpperCase()){case "NUMBER":case "NUMBER_DIGIT":switch(a(".comp",d).val()){case "2":case "3":t||alert("ja"==kintone.getLoginUser().language?"\u5024\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002":"Please enter a value."),a.isNumeric(t)||alert("ja"==
kintone.getLoginUser().language?"\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002":"Please enter a number.")}}a(".fixed",d).size()?a(".fixed",d).val().match(/^FROM/g)?n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:a(".fixed option:selected",d).text()+a(".receiverspan",d).val()+a(".receiverunit option:selected",d).text(),value:a(".fixed",d).val()+a(".receiverspan",d).val()+a(".receiverunit",d).val()}):n.push({field:a(".field",
d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:a(".fixed",d).val()?a(".fixed option:selected",d).text():t,value:t}):n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:t,value:t});break;case "CHECK_BOX":case "DROP_DOWN":case "MULTI_SELECT":case "RADIO_BUTTON":a.each(a(".receiver:checked",d),function(){u.push(a(this).val())});n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",
d).text()},label:u.join(","),value:u});break;case "CREATOR":case "GROUP_SELECT":case "MODIFIER":case "ORGANIZATION_SELECT":case "STATUS_ASSIGNEE":case "USER_SELECT":case "STATUS":q=t.split(",");for(t=0;t<q.length;t++)u.push(q[t]);n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:a(".label",d).text(),value:u});break;case "NUMBER":case "RECORD_NUMBER":switch(a(".comp",d).val()){case "2":case "3":t||alert("ja"==kintone.getLoginUser().language?
"\u5024\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002":"Please enter a value."),a.isNumeric(t)||alert("ja"==kintone.getLoginUser().language?"\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002":"Please enter a number.")}q.lookup?n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:a(".label",d).text(),value:t}):n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},
label:t,value:t});break;default:q.lookup?n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:a(".label",d).text(),value:t}):a(".fixed",d).size()?a(".fixed",d).val().match(/^FROM/g)?n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:a(".fixed option:selected",d).text()+a(".receiverspan",d).val()+a(".receiverunit option:selected",d).text(),value:a(".fixed",d).val()+a(".receiverspan",
d).val()+a(".receiverunit",d).val()}):n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:a(".fixed",d).val()?a(".fixed option:selected",d).text():t,value:t}):n.push({field:a(".field",d).val(),comp:{code:a(".comp",d).val(),name:a(".comp option:selected",d).text()},label:t,value:t})}}c(n);e.hide()});this.conditiontable.clearrows();for(var m=0;m<b.conditions.length;m++){var g=b.conditions[m];if(g.field in b.fieldinfos){var l=b.fieldinfos[g.field],
h=function(n,k){switch(k.value){case "TODAY":case "LASTWEEK":case "THISWEEK":case "LASTMONTH":case "THISMONTH":case "THISYEAR":a(".fixed",n).val(k.value);a(".receiver",n).val(k.value);a(".receiver",n).closest("div").hide();a(".receiverspan",n).closest("div").hide();break;default:k.value.match(/^FROM/g)?(a(".fixed",n).val(k.value.replace(/-?[0-9]+(d|m|y)$/g,"")),a(".receiverspan",n).val(k.value.replace(/[^0-9-]+/g,"")),a(".receiverunit",n).val(k.value.slice(-1)),a(".receiver",n).closest("div").hide(),
a(".receiverspan",n).closest("div").css({display:"inline-block"})):(a(".label",n).text(k.value),a(".receiver",n).val(k.value),a(".receiver",n).closest("div").css({display:"inline-block"}),a(".receiverspan",n).closest("div").hide())}},r=function(n,k){switch(k.value){case "NOW":case "TODAY":case "LASTWEEK":case "THISWEEK":case "LASTMONTH":case "THISMONTH":case "THISYEAR":a(".fixed",n).val(k.value);a(".receiver",n).val(k.value);a(".receiver",n).closest("div").hide();a(".receiverspan",n).closest("div").hide();
break;default:k.value.match(/^FROM/g)?(a(".fixed",n).val(k.value.replace(/-?[0-9]+(d|m|y)$/g,"")),a(".receiverspan",n).val(k.value.replace(/[^0-9-]+/g,"")),a(".receiverunit",n).val(k.value.slice(-1)),a(".receiver",n).closest("div").hide(),a(".receiverspan",n).closest("div").css({display:"inline-block"})):(a(".label",n).text((new Date(k.value.dateformat())).format("Y-m-d")),a(".receiver",n).val(k.value),a(".receiverhour",n).val((new Date(k.value.dateformat())).format("H")),a(".receiverminute",n).val((new Date(k.value.dateformat())).format("i")),
a(".receiver",n).closest("div").css({display:"inline-block"}),a(".receiverspan",n).closest("div").hide())}};this.conditiontable.addrow();d=this.conditiontable.rows.last();a(".field",d).val(g.field).trigger("change");a(".comp",d).val(g.comp.code);switch(l.type){case "CALC":switch(l.format.toUpperCase()){case "NUMBER":case "NUMBER_DIGIT":g.value&&a(".receiver",d).val(g.value);break;case "DATE":a(".label",d).text("");a(".receiver",d).val("");a(".receiverspan",d).closest("div").hide();g.value&&h(d,g);
break;case "DATETIME":case "DAY_HOUR_MINUTE":a(".label",d).text("");a(".receiver",d).val("");a(".receiverhour",d).val("00");a(".receiverminute",d).val("00");a(".receiverspan",d).closest("div").hide();g.value&&r(d,g);break;case "TIME":case "HOUR_MINUTE":a(".receiver",d).val(""),a(".receiverhour",d).val("00"),a(".receiverminute",d).val("00"),g.value&&(a(".receiver",d).val(g.value),a(".receiverhour",d).val(("0"+g.value.split(":")[0]).slice(-2)),a(".receiverminute",d).val(("0"+g.value.split(":")[1]).slice(-2)))}break;
case "CHECK_BOX":case "DROP_DOWN":case "MULTI_SELECT":case "RADIO_BUTTON":a.each(a("input[type=checkbox]",d),function(){a(this).prop("checked",!1)});if(g.value)for(l=0;l<g.value.length;l++)a("#"+g.value[l].replace(/[ !"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"\\$&"),d).prop("checked",!0);break;case "CREATED_TIME":case "DATETIME":case "UPDATED_TIME":a(".label",d).text("");a(".receiver",d).val("");a(".receiverhour",d).val("00");a(".receiverminute",d).val("00");a(".receiverspan",d).closest("div").hide();
g.value&&r(d,g);break;case "CREATOR":case "GROUP_SELECT":case "MODIFIER":case "ORGANIZATION_SELECT":case "STATUS_ASSIGNEE":case "USER_SELECT":case "STATUS":a(".label",d).text("");a(".receiver",d).val("");g.value&&(a(".label",d).text(g.label),a(".receiver",d).val(g.value.join(",")));break;case "DATE":a(".label",d).text("");a(".receiver",d).val("");a(".receiverspan",d).closest("div").hide();g.value&&h(d,g);break;case "TIME":a(".receiver",d).val("");a(".receiverhour",d).val("00");a(".receiverminute",
d).val("00");g.value&&(a(".receiver",d).val(g.value),a(".receiverhour",d).val(("0"+g.value.split(":")[0]).slice(-2)),a(".receiverminute",d).val(("0"+g.value.split(":")[1]).slice(-2)));break;default:a(".label",d).size()&&a(".label",d).text(""),a(".receiver",d).val(""),g.value&&(a(".label",d).size()&&a(".label",d).html(g.label),a(".receiver",d).val(g.value))}}}this.conditiontable.addrow();this.dialog.cover.show()},hide:function(){this.dialog.cover.hide()},unhide:function(){this.dialog.cover.show()}};
return new p(a.extend(!0,{app:kintone.app.getId(),container:a(this),useloginuser:!1,fields:{}},f))};jTis.fn.dynamictable=function(f){var p=function(b){var c=this;this.options=a.extend(!0,{container:null,table:null,head:null,foot:null,template:null,trace:{activeclass:"",rangeclass:"",callback:null},guide:{activeclass:"",rangeclass:""},fixrow:{top:0},fixcolumn:{activeclass:"",columns:-1,exclude:0},resizecolumn:{activeclass:"",enableclass:"",limit:15},addcallback:null,delcallback:null},b);this.template=
this.options.template;this.container=function(e,d,m,g){c.head=d;c.body=m;c.foot=g;e.append(c.head);e.append(c.body);c.foot&&e.append(c.foot);return e}(this.options.table,a("<thead>").append(this.options.head),a("<tbody>"),this.options.foot?a("<tfoot>").append(this.options.foot):null);null!=this.options.container&&this.options.container.append(this.container);(function(e){var d=c.options.fixrow.top?c.options.fixrow.top:0;a.each(e,function(m){a(this).children("th").addClass("dynamictable-rowsticky").css({position:"-webkit-sticky"}).css({position:"sticky",
top:d.toString()+"px"});d+=a(this).outerHeight(!0)})})(this.head.children("tr"));this.fixcolumn=-1;this.stickyindex=1;this.lastrow=null;this.headrows=this.head.children("tr").length;this.cols=function(e){var d=[];a.each(e,function(m){var g=a(this)[0].rowIndex;a.each(a(this).children("th"),function(l){0==g?d.push([a(this)]):d[l].push(a(this))})});return d}(this.head.children("tr"));this.resizeinfo={containers:function(){var e=[c.options.container];a.each(c.container.parents(),function(d){(d=a(this).attr("style"))&&
-1<d.indexOf(c.container.width().toString()+"px")&&e.push(a(this))});return e}(),resizing:!1};this.rows=[];this.addcallback=this.options.addcallback;this.delcallback=this.options.delcallback;if(this.options.trace.activeclass)this.container.off("mousedown.dynamictable-trace").on("mousedown.dynamictable-trace","."+this.options.trace.rangeclass,function(e){var d=a(this)[0].cellIndex,m=a(this).parent(),g=d,l=d;c.container.off("mouseenter.dynamictable-trace").on("mouseenter.dynamictable-trace","."+c.options.trace.rangeclass,
function(h){var r=a(this)[0].cellIndex;d>r?(g=r,l=d):(g=d,l=r);for(r=0;r<c.cols.length;r++){var n=c.cols[r][m[0].rowIndex];r>g-1&&r<l+1?n.addClass(c.options.trace.activeclass):n.removeClass(c.options.trace.activeclass)}h.stopPropagation()});a(window).off("mouseup.dynamictable-trace").on("mouseup.dynamictable-trace",function(h){c.options.trace.callback&&c.options.trace.callback(c,m,g,l);c.container.off("mouseenter.dynamictable-trace");a(window).off("mouseup.dynamictable-trace");a("."+c.options.trace.activeclass).removeClass(c.options.trace.activeclass);
h.stopPropagation()});a(this).addClass(c.options.trace.activeclass);e.stopPropagation()});if(this.options.guide.activeclass)this.container.on("mouseenter.dynamictable-guide","."+this.options.guide.rangeclass,function(e){for(var d=c.cols[a(this)[0].cellIndex],m=0;m<d.length;m++)d[m].hasClass(c.options.guide.rangeclass)&&d[m].addClass(c.options.guide.activeclass);e.stopPropagation()}).on("mouseleave.dynamictable-guide","."+this.options.guide.rangeclass,function(e){for(var d=c.cols[a(this)[0].cellIndex],
m=0;m<d.length;m++)d[m].hasClass(c.options.guide.rangeclass)&&d[m].removeClass(c.options.guide.activeclass);e.stopPropagation()});if(this.options.fixcolumn.activeclass)for(b=this.options.fixcolumn.exclude;b<this.options.fixcolumn.columns;b++)(function(e){e[0].on("click.dynamictable-fixcolumn",function(d){d=0;if(c.resizeinfo.resizing)c.resizeinfo.resizing=!1;else{if(-1!=c.fixcolumn){c.cols[c.fixcolumn][0].removeClass(c.options.fixcolumn.activeclass);for(var m=0;m<c.fixcolumn+1;m++){for(var g=0;g<c.cols[m].length;g++){var l=
c.cols[m][g];g<c.headrows?l.removeClass("dynamictable-crosssticky").css({left:"auto"}):l.removeClass("dynamictable-columnsticky").css({left:"auto",position:"relative","z-index":"auto"})}c.template.find("td").eq(m).removeClass("dynamictable-columnsticky").css({left:"auto",position:"relative","z-index":"auto"})}}if(c.fixcolumn!=a(this)[0].cellIndex)for(c.fixcolumn=a(this)[0].cellIndex,c.cols[c.fixcolumn][0].addClass(c.options.fixcolumn.activeclass),m=0;m<c.fixcolumn+1;m++){for(g=0;g<c.cols[m].length;g++)l=
c.cols[m][g],g<c.headrows?l.addClass("dynamictable-crosssticky").css({left:d.toString()+"px"}):l.addClass("dynamictable-columnsticky").css({left:d.toString()+"px",position:"-webkit-sticky"}).css({position:"sticky"});c.template.find("td").eq(m).addClass("dynamictable-columnsticky").css({left:d.toString()+"px",position:"-webkit-sticky"}).css({position:"sticky"});c.cols[m][0].is(":visible")&&(d+=c.cols[m][0].outerWidth(!0))}else c.fixcolumn=-1;c.resetsticky()}})})(this.cols[b]);if(this.options.resizecolumn.activeclass)this.head.on("mousemove.dynamictable-resizecolumn,touchmove.dynamictable-resizecolumn",
"th",function(e){if(!c.resizeinfo.resizing){e=(e.originalEvent.touches?e.originalEvent.touches[0]:e).pageX-a(this).offset().left;var d=a(this).outerWidth(!1);e<d&&e>d-5?c.options.resizecolumn.enableclass?a(this).hasClass(c.options.resizecolumn.enableclass)?a(this).addClass(c.options.resizecolumn.activeclass):a(this).removeClass(c.options.resizecolumn.activeclass):a(this).addClass(c.options.resizecolumn.activeclass):a(this).removeClass(c.options.resizecolumn.activeclass)}}).on("mousedown.dynamictable-resizecolumn,touchstart.dynamictable-resizecolumn",
"th",function(e){if(a(this).hasClass(c.options.resizecolumn.activeclass)){var d=e.originalEvent.touches?e.originalEvent.touches[0]:e,m=a(this),g=a(this).outerWidth(!1),l=c.options.container.outerWidth(!1),h=d.pageX;a(window).off("mousemove.dynamictable-resizecolumn,touchmove.dynamictable-resizecolumn").on("mousemove.dynamictable-resizecolumn,touchmove.dynamictable-resizecolumn",function(r){var n=g+(r.originalEvent.touches?r.originalEvent.touches[0]:r).pageX-h;n<c.options.resizecolumn.limit&&(n=c.options.resizecolumn.limit);
m.css({"min-width":n.toString()+"px",width:n.toString()+"px"});for(var k=0;k<c.resizeinfo.containers.length;k++)c.resizeinfo.containers[k].css({width:(l-g+n).toString()+"px"});for(k=n=0;k<c.fixcolumn+1;k++){for(var q=0;q<c.cols[k].length;q++)c.cols[k][q].css({left:n.toString()+"px"});c.template.find("td").eq(k).css({left:n.toString()+"px"});c.cols[k][0].is(":visible")&&(n+=c.cols[k][0].outerWidth(!0))}r.stopPropagation();r.preventDefault()});a(window).off("mouseup.dynamictable-resizecolumn,touchend.dynamictable-resizecolumn").on("mouseup.dynamictable-resizecolumn,touchend.dynamictable-resizecolumn",
function(r){c.options.fixcolumn.activeclass||(c.resizeinfo.resizing=!1);m.removeClass(c.options.resizecolumn.activeclass);a(window).off("mousemove.dynamictable-resizecolumn,touchmove.dynamictable-resizecolumn");a(window).off("mouseup.dynamictable-resizecolumn,touchend.dynamictable-resizecolumn");c.options.resizecolumn.callback&&c.options.resizecolumn.callback(m);r.stopPropagation();r.preventDefault()});c.resizeinfo.resizing=!0;e.stopPropagation();e.preventDefault()}})};p.prototype={addrow:function(b,
c){var e=this,d=this.template.clone(!0);null==b?(this.lastrow?d.insertAfter(this.lastrow):this.body.append(d),this.lastrow=d):b[0].rowIndex-e.headrows==this.rows.length-1?(d.insertAfter(this.lastrow),this.lastrow=d):d.insertAfter(b);this.rows=this.body.children("tr");a.each(d.children("td"),function(m){e.cols[m].splice(d[0].rowIndex,0,a(this))});this.resetsticky();null!=c&&c(d);null!=this.addcallback&&this.addcallback(d,d[0].rowIndex-e.headrows);return d},clearrows:function(){0!=this.rows.length&&
this.rows.remove();this.rows=this.body.children("tr");this.lastrow=null;for(var b=0;b<this.cols.length;b++)this.cols[b].splice(this.headrows);this.resetsticky();null!=this.delcallback&&this.delcallback(-1)},delrow:function(b){var c=b[0].rowIndex;b.remove();this.rows=this.body.children("tr");this.lastrow=0!=this.rows.length?this.rows.last():null;for(b=0;b<this.cols.length;b++)this.cols[b].splice(c,1);this.resetsticky();null!=this.delcallback&&this.delcallback(c-my.headrows)},draggableclip:function(b,
c,e,d,m,g,l){var h=this,r=!1;return b.attr("draggable",!0).on("mousemove.dynamictable-resizeclipcheck",function(n){if(g&&!r){n=n.pageX-b.offset().left;var k=b.outerWidth(!1);n<k&&n>k-5?b.addClass(g).attr("draggable",!1):b.removeClass(g).attr("draggable",!0)}}).on("mousedown.dynamictable-resizeclip",function(n){if(g&&b.hasClass(g)){var k=B[0].getBoundingClientRect().width-2*b.position().left,q=b.outerWidth(!1),t=n.pageX;h.container.off("mousemove.dynamictable-resizeclip").on("mousemove.dynamictable-resizeclip",
"."+e,function(u){var v=q+u.pageX-t;v<k&&(v=k);b.css({width:v.toString()+"px"});u.stopPropagation();u.preventDefault()});a(window).off("mouseup.dynamictable-resizeclip").on("mouseup.dynamictable-resizeclip",function(u){b.closest("tr");b[0].getBoundingClientRect();var v=document.elementsFromPoint(u.clientX,u.clientY);var x=null;if(v)for(var y=0;y<v.length;y++)if("TD"==v[y].tagName){x=v[y];break}v=x;r=!1;v&&l&&l(v.cellIndex);h.container.off("mousemove.dynamictable-resizeclip");a(window).off("mouseup.dynamictable-resizeclip");
u.stopPropagation();u.preventDefault()});r=!0;n.stopPropagation();n.preventDefault()}}).on("mousedown",function(n){n.stopPropagation()}).on("dragstart.dynamictable-dragdrop",function(n){n=n.originalEvent?n.originalEvent:n;var k=n.offsetX,q=-1,t=b.closest("tr");d&&d(n);if(!("cancel"in n&&n.cancel))h.rows.attr("draggable",!0).off("dragover.dynamictable-dragdrop").on("dragover.dynamictable-dragdrop",function(u){var v=u.originalEvent?u.originalEvent:u;v=function(x){var y=null;if(x)for(var C=0;C<x.length;C++)if("TD"==
x[C].tagName){y=x[C];break}return y}(document.elementsFromPoint(v.clientX-k,v.clientY));a(this).addClass(c);v&&(-1!=q&&q!=v.cellIndex&&function(x){for(var y=0;y<x.length;y++)x[y].hasClass(h.options.guide.rangeclass)&&x[y].removeClass(h.options.guide.activeclass)}(h.cols[q]),function(x){for(var y=0;y<x.length;y++)x[y].hasClass(h.options.guide.rangeclass)&&x[y].addClass(h.options.guide.activeclass)}(h.cols[v.cellIndex]),q=v.cellIndex);u.stopPropagation();u.preventDefault()}).off("dragleave.dynamictable-dragdrop").on("dragleave.dynamictable-dragdrop",
function(u){a(this).removeClass(c);u.stopPropagation();u.preventDefault()}).off("drop.dynamictable-dragdrop").on("drop.dynamictable-dragdrop",function(u){var v=u.originalEvent?u.originalEvent:u;var x=document.elementsFromPoint(v.clientX-k,v.clientY);var y=null;if(x)for(var C=0;C<x.length;C++)if("TD"==x[C].tagName){y=x[C];break}(x=y)&&a(x).hasClass(e)&&m&&m(v,t,a(this),x.cellIndex);h.rows.attr("draggable",!1).off("dragover.dynamictable-dragdrop").off("dragleave.dynamictable-dragdrop");a(this).removeClass(c);
h.options.guide.rangeclass&&a("."+h.options.guide.rangeclass).removeClass(h.options.guide.activeclass);u.stopPropagation();u.preventDefault()})})},mergerow:function(b,c){for(var e=this,d=[],m=0;m<b;m++)d.push({cache:"",index:-1,span:0});a.each(this.rows,function(r){for(var n=a(this),k=0;k<b;k++){var q=c(n.find("td").eq(k));if(d[k].cache!=q){if(-1!=d[k].index){e.rows.eq(d[k].index).find("td").eq(k).attr("rowspan",d[k].span);for(var t=d[k].index+1;t<r;t++)e.rows.eq(t).find("td").eq(k).hide()}d[k].cache=
q;d[k].index=r;d[k].span=0;for(t=k+1;t<b;t++){q=c(n.find("td").eq(t));if(-1!=d[t].index){e.rows.eq(d[t].index).find("td").eq(t).attr("rowspan",d[t].span);for(var u=d[t].index+1;u<r;u++)e.rows.eq(u).find("td").eq(t).hide()}d[t].cache=q;d[t].index=r;d[t].span=0}}d[k].span++}});var g=this.rows.length-1,l=this.rows.last();for(m=0;m<b;m++){var h=c(l.find("td").eq(m));if(d[m].cache==h&&d[m].index!=g)for(this.rows.eq(d[m].index).find("td").eq(m).attr("rowspan",d[m].span),h=d[m].index+1;h<g+1;h++)this.rows.eq(h).find("td").eq(m).hide()}},
resetsticky:function(){this.stickyindex=this.container.find("*").length+1;a(".dynamictable-columnsticky",this.container).css({"z-index":this.stickyindex.toString()});this.stickyindex++;a(".dynamictable-rowsticky",this.container).css({"z-index":this.stickyindex.toString()});this.stickyindex++;a(".dynamictable-crosssticky",this.container).css({"z-index":this.stickyindex.toString()});a(".dynamictable-style").size()&&a(".dynamictable-style").remove();var b=a("body"),c=b.append,e=a('<style class="dynamictable-style" type="text/css">'),
d=e.text;var m="[class*=-dialog]{z-index:"+(this.stickyindex+1).toString()+" !important;}";m+="[class*=-menu]{z-index:"+(this.stickyindex+1).toString()+" !important;}";m+="[class*=-pulldown]{z-index:"+(this.stickyindex+1).toString()+" !important;}";m+="[class*=-selectmenu]{z-index:"+(this.stickyindex+1).toString()+" !important;}";m+="[class*=-sidemenu]{z-index:"+(this.stickyindex+1).toString()+" !important;}";m+="[class*=-fieldselect-combobox-menu]{z-index:"+(this.stickyindex+2).toString()+" !important;}";
c.call(b,d.call(e,m))}};return new p(a.extend(!0,{container:null,table:a(this),head:null,foot:null,template:null,trace:{activeclass:"",rangeclass:"",callback:null},guide:{activeclass:"",rangeclass:""},fixrow:{top:0},fixcolumn:{activeclass:"",columns:-1,exclude:0},resizecolumn:{activeclass:"",limit:15},addcallback:null,delcallback:null},f))};jTis.fn.actionbuttons=function(f){return f?{ok:a(".gaia-mobile-v2-viewpanel-footer .gaia-mobile-v2-app-record-edittoolbar-save"),cancel:a(".gaia-mobile-v2-viewpanel-footer .gaia-mobile-v2-app-record-edittoolbar-cancel")}:
{ok:a(".gaia-argoui-app-edit-buttons .gaia-ui-actionmenu-save"),cancel:a(".gaia-argoui-app-edit-buttons .gaia-ui-actionmenu-cancel")}};jTis.fn.fields=function(f,p){var b=[],c=a(this);a.each(cybozu.data.page.FORM_DATA.schema.table.fieldList,function(e,d){if(d["var"]==f)if(p)a.each(c.find("[class*="+e+"]"),function(g){"undefined"!=a(this).prop("tagName").toLowerCase()&&-1==a.inArray(a(this),b)&&b.push(a(this))});else{var m=c.find("[id*="+e+"],[name*="+e+"]");0==m.length&&(m=c.find(".field-"+e+" input"));
a.each(m,function(g){"undefined"!=a(this).prop("tagName").toLowerCase()&&-1==a.inArray(a(this),b)&&b.push(a(this))})}});"subTable"in cybozu.data.page.FORM_DATA.schema&&a.each(cybozu.data.page.FORM_DATA.schema.subTable,function(e,d){a.each(d.fieldList,function(m,g){if(g["var"]==f){var l=c.find("[id*="+m+"],[name*="+m+"]");0==l.length&&(l=c.find(".field-"+m+" input"));a.each(l,function(h){"undefined"!=a(this).prop("tagName").toLowerCase()&&-1==a.inArray(a(this),b)&&b.push(a(this))})}})});return b};
jTis.fn.fielderrors=function(){var f=[];a.each(a(".input-error-cybozu,.control-errors-gaia"),function(p){a(this).text()&&f.push(a(this).closest(".control-gaia"))});return f};jTis.fn.fieldkeys=function(){var f={};a.each(cybozu.data.page.FORM_DATA.schema.table.fieldList,function(p,b){f[b["var"]]=p});"subTable"in cybozu.data.page.FORM_DATA.schema&&a.each(cybozu.data.page.FORM_DATA.schema.subTable,function(p,b){a.each(b.fieldList,function(c,e){f[e["var"]]=c})});return f};jTis.fn.fieldoptionkeys=function(){var f=
{};a.each(cybozu.data.page.FORM_DATA.schema.table.fieldList,function(p,b){if("properties"in b&&"options"in b.properties&&a.isArray(b.properties.options)){f[b["var"]]={};for(var c=0;c<b.properties.options.length;c++){var e=b.properties.options[c];e.valid&&(f[b["var"]][e.label]=e.id)}}});"subTable"in cybozu.data.page.FORM_DATA.schema&&a.each(cybozu.data.page.FORM_DATA.schema.subTable,function(p,b){a.each(b.fieldList,function(c,e){if("properties"in e&&"options"in e.properties&&a.isArray(e.properties.options)){f[e["var"]]=
{};for(var d=0;d<e.properties.options.length;d++){var m=e.properties.options[d];m.valid&&(f[e["var"]][m.label]=m.id)}}})});return f};jTis.fn.fieldstatuskeys=function(){for(var f={},p=0;p<cybozu.data.page.STATUS_DATA.states.length;p++)f[cybozu.data.page.STATUS_DATA.states[p].label]=cybozu.data.page.STATUS_DATA.states[p].id;return f};jTis.fn.fieldcontainer=function(f,p){switch(p){case "CALC":var b=f.closest(".control-calc-field-gaia");break;case "CHECK_BOX":b=f.closest(".control-multiple_check-field-gaia");
break;case "CREATED_TIME":b=f.closest(".control-created_at-field-gaia");break;case "CREATOR":b=f.closest(".control-creator-field-gaia");break;case "DATE":b=f.closest(".control-date-field-gaia");break;case "DATETIME":b=f.closest(".control-datetime-field-gaia");break;case "DROP_DOWN":b=f.closest(".control-single_select-field-gaia");break;case "FILE":b=f.closest(".control-file-field-gaia");break;case "GROUP_SELECT":b=f.closest(".control-group_select-field-gaia");break;case "HR":b=f.closest(".control-hr-field-gaia");
break;case "LABEL":b=f.closest(".control-label-field-gaia");break;case "LINK":b=f.closest(".control-link-field-gaia");break;case "MODIFIER":b=f.closest(".control-modifier-field-gaia");break;case "MULTI_LINE_TEXT":b=f.closest(".control-multiple_line_text-field-gaia");break;case "MULTI_SELECT":b=f.closest(".control-multiple_select-field-gaia");break;case "NUMBER":b=f.closest(".control-decimal-field-gaia");break;case "ORGANIZATION_SELECT":b=f.closest(".control-organization_select-field-gaia");break;
case "RADIO_BUTTON":b=f.closest(".control-single_check-field-gaia");break;case "RECORD_NUMBER":b=f.closest(".control-record_id-field-gaia");break;case "REFERENCE_TABLE":b=f.closest(".control-reference_table-field-gaia");break;case "RICH_TEXT":b=f.closest(".control-editor-field-gaia");break;case "SINGLE_LINE_TEXT":b=f.closest(".control-single_line_text-field-gaia");break;case "SPACER":b=f.closest(".control-spacer-field-gaia");break;case "TIME":b=f.closest(".control-time-field-gaia");break;case "UPDATED_TIME":b=
f.closest(".control-modified_at-field-gaia");break;case "USER_SELECT":b=f.closest(".control-user_select-field-gaia")}return b};jTis.fn.fieldsform=function(f){var p=function(b){b=a.extend(!0,{container:null,fields:[],callback:{group:null,organization:null,user:null},radionulllabel:""},b);var c=this;this.fields=b.fields;this.callback=b.callback;this.radionulllabel=b.radionulllabel;this.dialog=N("standard",0,600);this.contents=this.dialog.contents;this.usersource=this.organizationsource=this.groupsource=
null;this.blobs={};this.referer={};this.fieldcontainer=w.clone(!0).addClass("container").css({padding:"5px",width:"100%"}).append(V.clone(!0));for(var e=0;e<this.fields.length;e++)(function(d){var m=c.fieldcontainer.clone(!0).attr("id",d.code),g=[],l=null;m.find(".title").text(d.label);switch(d.type){case "CHECK_BOX":case "MULTI_SELECT":g=[d.options.length];a.each(d.options,function(n,k){g[k.index]=k.label});for(var h=0;h<g.length;h++)l=F.clone(!0),a(".label",l).html(g[h]),a(".receiver",l).attr("id",
g[h]).val(g[h]),m.append(l);break;case "DATE":l=I.clone(!0);a(".search",l).on("click",function(){var n=a(this);a("body").calendar({selected:function(k,q){n.closest(".container").find(".label").text(q);n.closest(".container").find(".receiver").val(q)}}).show({activedate:new Date(n.closest(".container").find(".label").text().dateformat())})});a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");n.closest(".container").find(".receiver").val("")});m.append(l);
break;case "DATETIME":l=I.clone(!0).append(P.clone(!0));a(".label",l).css({width:"calc(100% - 150px)"});a(".search",l).on("click",function(){var n=a(this);a("body").calendar({selected:function(k,q){n.closest(".container").find(".label").text(q);n.closest(".container").find(".receiver").val(c.datetimevalue(n.closest(".container")))}}).show({activedate:new Date(n.closest(".container").find(".label").text().dateformat())})});a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");
n.closest(".container").find(".receiver").val("")});a(".receiverhour",l).on("change",function(){a(this).closest(".container").find(".receiver").val(c.datetimevalue(a(this).closest(".container")))});a(".receiverminute",l).on("change",function(){a(this).closest(".container").find(".receiver").val(c.datetimevalue(a(this).closest(".container")))});m.append(l);break;case "DROP_DOWN":l=M.clone(!0).addClass("receiver").css({display:"block",width:"100%"});l.append(a("<option>").attr("value","").text(""));
g=[d.options.length];a.each(d.options,function(n,k){g[k.index]=k.label});for(h=0;h<g.length;h++)l.append(a("<option>").attr("value",g[h]).html(g[h]));m.append(l);break;case "FILE":c.blobs[d.code]={};l=I.clone(!0);a(".search",l).on("click",function(){var n=a(this);c.filebox.show({datasource:0!=n.closest(".container").find(".receiver").val().length?JSON.parse(n.closest(".container").find(".receiver").val()):[],buttons:{ok:function(k){k=c.filevalue(k);n.closest(".container").find(".label").text(k.names);
n.closest(".container").find(".receiver").val(k.values);c.blobs[d.code]=k.blobs;c.filebox.hide()},cancel:function(){c.filebox.hide()}},files:function(k){for(var q={},t=0;t<k.length;t++)"uploadtime"in k[t]&&k[t].uploadtime in c.blobs[d.code]&&(q[k[t].uploadtime]=c.blobs[d.code][k[t].uploadtime]);return q}(JSON.parse(n.closest(".container").find(".receiver").val()))})});a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");n.closest(".container").find(".receiver").val("")});
m.append(l);break;case "GROUP_SELECT":null==c.groupsource&&(c.groupsource=[],a.loadgroups(function(n){n.sort(function(k,q){return parseInt(k.id)<parseInt(q.id)?-1:parseInt(k.id)>parseInt(q.id)?1:0});a.each(n,function(k,q){c.groupsource.push({value:q.code,text:q.name})});c.callback.group&&c.callback.group()}));l=I.clone(!0);a(".search",l).on("click",function(){var n=a(this);c.selectbox.show({datasource:c.groupsource,buttons:{ok:function(k){n.closest(".container").find(".label").text(Object.values(k).join(","));
n.closest(".container").find(".receiver").val(Object.keys(k).join(","));c.selectbox.hide()},cancel:function(){c.selectbox.hide()}},selected:n.closest(".container").find(".receiver").val().split(",")})});a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");n.closest(".container").find(".receiver").val("")});m.append(l);break;case "LINK":case "SINGLE_LINE_TEXT":d.lookup?(l=I.clone(!0),a(".key",l).val(d.lookup.relatedKeyField),0!=d.lookup.lookupPickerFields.length?
a(".picker",l).val(d.lookup.lookupPickerFields.join(",")):a(".picker",l).val(d.lookup.relatedKeyField),a(".search",l).on("click",function(){var n=a(this);c.referer[n.closest(".container").attr("id")].show({buttons:{cancel:function(){c.referer[n.closest(".container").attr("id")].hide()}},callback:function(k){for(var q=[],t=n.closest(".container").find(".picker").val().split(","),u=0;u<t.length;u++)q.push(a.fieldvalue({type:k.find("#_field_type_"+t[u]).val(),value:"0"==k.find("#_use_parse_"+t[u]).val()?
k.find("#"+t[u]).val():JSON.parse(k.find("#"+t[u]).val())}));n.closest(".container").find(".label").html(q.join("/"));n.closest(".container").find(".receiver").val(k.find("#"+n.closest(".container").find(".key").val()).val());c.referer[n.closest(".container").attr("id")].hide()}})}),a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");n.closest(".container").find(".receiver").val("")}),function(n){kintone.api(kintone.api.url("/k/v1/app/form/fields",!0),
"GET",{app:n.lookup.relatedApp.app},function(k){c.referer[n.code]=a("body").referer({displaytext:0!=n.lookup.lookupPickerFields.length?n.lookup.lookupPickerFields:[n.lookup.relatedKeyField],searches:[{id:"multi",label:"",type:"multi"}],searchinfo:{app:n.lookup.relatedApp.app,query:n.lookup.filterCond,sort:n.lookup.sort,fieldinfos:a.fieldparallelize(k.properties)}});c.referer[n.code].dialog.cover.css({"z-index":"1000000"})},function(k){})}(d)):l=L.clone(!0).addClass("receiver");m.append(l);break;case "MULTI_LINE_TEXT":case "RICH_TEXT":l=
S.clone(!0).addClass("receiver");m.append(l);break;case "NUMBER":d.lookup?(l=I.clone(!0),a(".key",l).val(d.lookup.relatedKeyField),0!=d.lookup.lookupPickerFields.length?a(".picker",l).val(d.lookup.lookupPickerFields.join(",")):a(".picker",l).val(d.lookup.relatedKeyField),a(".search",l).on("click",function(){var n=a(this);c.referer[n.closest(".container").attr("id")].show({buttons:{cancel:function(){c.referer[n.closest(".container").attr("id")].hide()}},callback:function(k){for(var q=[],t=n.closest(".container").find(".picker").val().split(","),
u=0;u<t.length;u++)q.push(a.fieldvalue({type:k.find("#_field_type_"+t[u]).val(),value:"0"==k.find("#_use_parse_"+t[u]).val()?k.find("#"+t[u]).val():JSON.parse(k.find("#"+t[u]).val())}));n.closest(".container").find(".label").html(q.join("/"));n.closest(".container").find(".receiver").val(k.find("#"+n.closest(".container").find(".key").val()).val());c.referer[n.closest(".container").attr("id")].hide()}})}),a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");
n.closest(".container").find(".receiver").val("")}),function(n){kintone.api(kintone.api.url("/k/v1/app/form/fields",!0),"GET",{app:n.lookup.relatedApp.app},function(k){c.referer[n.code]=a("body").referer({displaytext:0!=n.lookup.lookupPickerFields.length?n.lookup.lookupPickerFields:[n.lookup.relatedKeyField],searches:[{id:"multi",label:"",type:"multi"}],searchinfo:{app:n.lookup.relatedApp.app,query:n.lookup.filterCond,sort:n.lookup.sort,fieldinfos:a.fieldparallelize(k.properties)}});c.referer[n.code].dialog.cover.css({"z-index":"1000000"})},
function(k){})}(d)):(l=L.clone(!0).addClass("receiver"),l.css({"text-align":"right"}));m.append(l);break;case "ORGANIZATION_SELECT":null==c.organizationsource&&(c.organizationsource=[],a.loadorganizations(function(n){n.sort(function(k,q){return parseInt(k.id)<parseInt(q.id)?-1:parseInt(k.id)>parseInt(q.id)?1:0});a.each(n,function(k,q){c.organizationsource.push({value:q.code,text:q.name})});c.callback.organization&&c.callback.organization()}));l=I.clone(!0);a(".search",l).on("click",function(){var n=
a(this);c.selectbox.show({datasource:c.organizationsource,buttons:{ok:function(k){n.closest(".container").find(".label").text(Object.values(k).join(","));n.closest(".container").find(".receiver").val(Object.keys(k).join(","));c.selectbox.hide()},cancel:function(){c.selectbox.hide()}},selected:n.closest(".container").find(".receiver").val().split(",")})});a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");n.closest(".container").find(".receiver").val("")});
m.append(l);break;case "RADIO_BUTTON":var r=!0;g=[d.options.length];a.each(d.options,function(n,k){g[k.index]=k.label});0!=c.radionulllabel.length&&(l=K.clone(!0),a(".label",l).html(c.radionulllabel),a(".receiver",l).attr("id",c.radionulllabel).attr("name",d.code).val("").prop("checked",r),m.append(l),r=!1);for(h=0;h<g.length;h++)l=K.clone(!0),a(".label",l).html(g[h]),a(".receiver",l).attr("id",g[h]).attr("name",d.code).val(g[h]).prop("checked",r),m.append(l),r=!1;break;case "TIME":l=P.clone(!0);
l.append(a('<input type="hidden" class="receiver">').val("00:00"));a(".receiverhour",l).on("change",function(){a(this).closest(".container").find(".receiver").val(c.timevalue(a(this).closest(".container")))});a(".receiverminute",l).on("change",function(){a(this).closest(".container").find(".receiver").val(c.timevalue(a(this).closest(".container")))});m.append(l);break;case "USER_SELECT":null==c.usersource&&(c.usersource=[],a.loadusers(function(n){n.sort(function(k,q){return parseInt(k.id)<parseInt(q.id)?
-1:parseInt(k.id)>parseInt(q.id)?1:0});a.each(n,function(k,q){c.usersource.push({value:q.code,text:q.name})});c.callback.user&&c.callback.user()})),l=I.clone(!0),a(".search",l).on("click",function(){var n=a(this);c.selectbox.show({datasource:c.usersource,buttons:{ok:function(k){n.closest(".container").find(".label").text(Object.values(k).join(","));n.closest(".container").find(".receiver").val(Object.keys(k).join(","));c.selectbox.hide()},cancel:function(){c.selectbox.hide()}},selected:n.closest(".container").find(".receiver").val().split(",")})}),
a(".clear",l).on("click",function(){var n=a(this);n.closest(".container").find(".label").text("");n.closest(".container").find(".receiver").val("")}),m.append(l)}c.dialog.contents.append(m)})(this.fields[e]);this.dialog.container.append(this.dialog.contents);this.dialog.container.append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id","cancel").text("Cancel")));this.dialog.cover.append(this.dialog.container);b.container.append(this.dialog.cover);a(window).on("load resize",
function(){c.dialog.container.css({height:(c.dialog.contents[0].scrollHeight+45).toString()+"px"})});this.filebox=a("body").fileselect();this.selectbox=a("body").multiselect()};p.prototype={datetimevalue:function(b){var c=b.find(".label").text(),e=b.find(".receiverhour");b=b.find(".receiverminute");return 0==c.length?"":c+"T"+e.val()+":"+b.val()+":00"+a.timezome()},fieldvalue:function(b,c){var e=a("#"+b.code,this.contents),d=e.find(".receiver").val(),m=[],g={type:b.type,value:null};switch(b.type){case "CHECK_BOX":case "MULTI_SELECT":a.each(e.find(".receiver:checked"),
function(){m.push(a(this).val())});g.value=m;break;case "FILE":d=JSON.parse(d);for(e=0;e<d.length;e++)c?m.push({contentType:d[e].contentType,fileKey:d[e].fileKey,name:d[e].name,blob:d[e].uploadtime in this.blobs[b.code]?this.blobs[b.code][d[e].uploadtime]:null}):m.push({fileKey:d[e].fileKey});g.value=m;break;case "GROUP_SELECT":case "ORGANIZATION_SELECT":case "USER_SELECT":d=d.split(",");for(e=0;e<d.length;e++)d[e]&&m.push({code:d[e]});g.value=m;break;case "RADIO_BUTTON":d=e.find("[name="+b.code+
"]:checked").val();g.value=d;break;default:g.value=d}return g},filevalue:function(b){var c="",e={},d=[];b&&a.each(b,function(m){c+=b[m].name+",";e[b[m].uploadtime]=b[m].blob;d.push({contentType:b[m].contentType,fileKey:b[m].fileKey,name:b[m].name,uploadtime:b[m].uploadtime})});c=c.replace(/,$/g,"");return{names:c,blobs:e,values:JSON.stringify(d)}},timevalue:function(b){var c=b.find(".receiverhour");b=b.find(".receiverminute");return c.val()+":"+b.val()},show:function(b){b=a.extend(!0,{buttons:{},
values:{}},b);var c=this;a.each(b.buttons,function(e,d){if(c.dialog.footer.find("button#"+e).size())c.dialog.footer.find("button#"+e).off("click").on("click",function(){null!=d&&d()})});a.each(b.values,function(e,d){if(e.match(/^\$/g)||!a("#"+e,c.dialog.contents).size())return!0;var m=a.grep(c.fields,function(g,l){return g.code==e});c.showfield(a("#"+e,c.dialog.contents),0!=m.length?m[0]:null,d)});this.dialog.cover.show();this.dialog.container.css({height:(this.dialog.contents[0].scrollHeight+45).toString()+
"px"})},showfield:function(b,c,e){switch(e.type){case "CHECK_BOX":case "MULTI_SELECT":a.each(a("input[type=checkbox]",b),function(){a(this).prop("checked",!1)});for(var d=0;d<e.value.length;d++)a("#"+e.value[d].replace(/[ !"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"\\$&"),b).prop("checked",!0);break;case "DATE":a(".label",b).text("");a(".receiver",b).val("");if(!e.value)return!0;a(".label",b).text(e.value);a(".receiver",b).val(e.value);break;case "DATETIME":a(".label",b).text("");a(".receiver",b).val("");
a(".receiverhour",b).val("00");a(".receiverminute",b).val("00");if(!e.value)return!0;a(".label",b).text((new Date(e.value.dateformat())).format("Y-m-d"));a(".receiver",b).val(e.value);a(".receiverhour",b).val((new Date(e.value.dateformat())).format("H"));a(".receiverminute",b).val((new Date(e.value.dateformat())).format("i"));break;case "FILE":d=this.filevalue(e.value);a(".label",b).text("");a(".receiver",b).val("");a(".label",b).text(d.names);a(".receiver",b).val(d.values);break;case "GROUP_SELECT":case "ORGANIZATION_SELECT":case "USER_SELECT":var m=
[],g=[];a(".label",b).text("");a(".receiver",b).val("");a.each(e.value,function(l){m.push(e.value[l].name);g.push(e.value[l].code)});a(".label",b).text(m.join(","));a(".receiver",b).val(g.join(","));break;case "RADIO_BUTTON":e.value&&a("#"+e.value.replace(/[ !"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"\\$&"),b).prop("checked",!0);break;case "TIME":a(".receiver",b).val("");a(".receiverhour",b).val("00");a(".receiverminute",b).val("00");if(!e.value)return!0;a(".receiver",b).val(e.value);a(".receiverhour",
b).val(("0"+e.value.split(":")[0]).slice(-2));a(".receiverminute",b).val(("0"+e.value.split(":")[1]).slice(-2));break;default:a(".receiver",b).val(""),c?c.lookup&&e.value?(d={app:c.lookup.relatedApp.app,query:c.lookup.filterCond},0!=d.query.length&&(d.query+=" and "),d.query+=c.lookup.relatedKeyField+"="+e.value,kintone.api(kintone.api.url("/k/v1/records",!0),"GET",d,function(l){if(0!=l.records.length){for(var h=[],r=0!=c.lookup.lookupPickerFields.length?c.lookup.lookupPickerFields:[c.lookup.relatedKeyField],
n=0;n<r.length;n++)h.push(a.fieldvalue(l.records[0][r[n]]));a(".label",b)&&a(".label",b).text(h.join("/"))}else a(".label",b)&&a(".label",b).text(e.value);a(".receiver",b).val(e.value)},function(l){a(".label",b)&&a(".label",b).text(e.value);a(".receiver",b).val(e.value)})):(a(".label",b)&&a(".label",b).text(e.value?e.value:""),a(".receiver",b).val(e.value)):(a(".label",b)&&a(".label",b).text(e.value?e.value:""),a(".receiver",b).val(e.value))}},hide:function(){this.dialog.cover.hide()},unhide:function(){this.dialog.cover.show()}};
return new p(a.extend(!0,{container:a(this),fields:[],callback:{group:null,organization:null,user:null},radionulllabel:""},f))};jTis.fn.fieldstyle=function(f){var p=function(b){b=a.extend(!0,{container:null},b);var c=this,e=function(m){var g=[];var l=a("<span>");a("body").append(l);l=l.css({display:"block","font-size":"1rem",left:"0",opacity:"0",position:"absolute",top:"0"}).html("!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~");a(".fieldstyle_style_font").size()||
a("head").append(a("<style>").addClass("fieldstyle_style_font").attr("media","screen").attr("type","text/css").text('@font-face{font-family:Blank;src:url("data:font/opentype;base64,T1RUTwAKAIAAAwAgQ0ZGIDTeCDQAACFkAAAZPERTSUcAAAABAABKqAAAAAhPUy8yAF+xmwAAARAAAABgY21hcCRDbtEAAAdcAAAZ6GhlYWQFl9tDAAAArAAAADZoaGVhB1oD7wAAAOQAAAAkaG10eAPoAHwAADqgAAAQBm1heHAIAVAAAAABCAAAAAZuYW1lIE0HkgAAAXAAAAXrcG9zdP+4ADIAACFEAAAAIAABAAAAAQuFfcPHtV8PPPUAAwPoAAAAANFMRfMAAAAA0UxF8wB8/4gDbANwAAAAAwACAAAAAAAAAAEAAANw/4gAAAPoAHwAfANsAAEAAAAAAAAAAAAAAAAAAAACAABQAAgBAAAAAwPoAZAABQAAAooCWAAAAEsCigJYAAABXgAyANwAAAAAAAAAAAAAAAD3/67/+9///w/gAD8AAAAAQURCTwBAAAD//wNw/4gAAANwAHhgLwH/AAAAAAAAAAAAAAAgAAAAAAARANIAAQAAAAAAAQALAAAAAQAAAAAAAgAHAAsAAQAAAAAAAwAbABIAAQAAAAAABAALAAAAAQAAAAAABQA6AC0AAQAAAAAABgAKAGcAAwABBAkAAACUAHEAAwABBAkAAQAWAQUAAwABBAkAAgAOARsAAwABBAkAAwA2ASkAAwABBAkABAAWAQUAAwABBAkABQB0AV8AAwABBAkABgAUAdMAAwABBAkACAA0AecAAwABBAkACwA0AhsAAwABBAkADQKWAk8AAwABBAkADgA0BOVBZG9iZSBCbGFua1JlZ3VsYXIxLjA0NTtBREJPO0Fkb2JlQmxhbms7QURPQkVWZXJzaW9uIDEuMDQ1O1BTIDEuMDQ1O2hvdGNvbnYgMS4wLjgyO21ha2VvdGYubGliMi41LjYzNDA2QWRvYmVCbGFuawBDAG8AcAB5AHIAaQBnAGgAdAAgAKkAIAAyADAAMQAzACwAIAAyADAAMQA1ACAAQQBkAG8AYgBlACAAUwB5AHMAdABlAG0AcwAgAEkAbgBjAG8AcgBwAG8AcgBhAHQAZQBkACAAKABoAHQAdABwADoALwAvAHcAdwB3AC4AYQBkAG8AYgBlAC4AYwBvAG0ALwApAC4AQQBkAG8AYgBlACAAQgBsAGEAbgBrAFIAZQBnAHUAbABhAHIAMQAuADAANAA1ADsAQQBEAEIATwA7AEEAZABvAGIAZQBCAGwAYQBuAGsAOwBBAEQATwBCAEUAVgBlAHIAcwBpAG8AbgAgADEALgAwADQANQA7AFAAUwAgADEALgAwADQANQA7AGgAbwB0AGMAbwBuAHYAIAAxAC4AMAAuADgAMgA7AG0AYQBrAGUAbwB0AGYALgBsAGkAYgAyAC4ANQAuADYAMwA0ADAANgBBAGQAbwBiAGUAQgBsAGEAbgBrAEEAZABvAGIAZQAgAFMAeQBzAHQAZQBtAHMAIABJAG4AYwBvAHIAcABvAHIAYQB0AGUAZABoAHQAdABwADoALwAvAHcAdwB3AC4AYQBkAG8AYgBlAC4AYwBvAG0ALwB0AHkAcABlAC8AVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgAgAFQAaABpAHMAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAaQBzACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAbwBuACAAYQBuACAAIgBBAFMAIABJAFMAIgAgAEIAQQBTAEkAUwAsACAAVwBJAFQASABPAFUAVAAgAFcAQQBSAFIAQQBOAFQASQBFAFMAIABPAFIAIABDAE8ATgBEAEkAVABJAE8ATgBTACAATwBGACAAQQBOAFkAIABLAEkATgBEACwAIABlAGkAdABoAGUAcgAgAGUAeABwAHIAZQBzAHMAIABvAHIAIABpAG0AcABsAGkAZQBkAC4AIABTAGUAZQAgAHQAaABlACAAUwBJAEwAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIABmAG8AcgAgAHQAaABlACAAcwBwAGUAYwBpAGYAaQBjACAAbABhAG4AZwB1AGEAZwBlACwAIABwAGUAcgBtAGkAcwBzAGkAbwBuAHMAIABhAG4AZAAgAGwAaQBtAGkAdABhAHQAaQBvAG4AcwAgAGcAbwB2AGUAcgBuAGkAbgBnACAAeQBvAHUAcgAgAHUAcwBlACAAbwBmACAAdABoAGkA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wwDEAMUAxgDHAMgAyQDKAMsAzADNAM4AzwDQANEA0gDTANQA1QDWANcA2ADZANoA2wDcAN0A3gDfAOAA4QDiAOMA5ADlAOYA5wDoAOkA6gDrAOwA7QDuAO8A8ADxAPIA8wD0APUA9gD3APgA+QD6APsA/AD9AP4A/wEAAQEBAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8BIAEhASIBIwEkASUBJgEnASgBKQEqASsBLAEtAS4BLwEwATEBMgEzATQBNQE2ATcBOAE5AToBOwE8AT0BPgE/AUABQQFCAUMBRAFFAUYBRwFIAUkBSgFLAUwBTQFOAU8BUAFRAVIBUwFUAVUBVgFXAVgBWQFaAVsBXAFdAV4BXwFgAWEBYgFjAWQBZQFmAWcBaAFpAWoBawFsAW0BbgFvAXABcQFyAXMBdAF1AXYBdwF4AXkBegF7AXwBfQF+AX8BgAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcoBywHMAc0BzgHPAdAB0QHSAdMB1AHVAdYB1wHYAdkB2gHbAdwB3QHeAd8B4AHhAeIB4wHkAeUB5gHnAegB6QHqAesB7AHtAe4B7wHwAfEB8gHzAfQB9QH2AfcB+AH5AfoB+wH8Af0B/gH/AgACAQICAgMCBAIFAgYCBwIIAgkCCgILAgwCDQIOAg8CEAIRAhICEwIUAhUCFgIXAhgCGQIaAhsCHAIdAh4CHwIgAiECIgIjAiQCJQImAicCKAIpAioCKwIsAi0CLgIvAjACMQIyAjMCNAI1AjYCNwI4AjkCOgI7AjwCPQI+Aj8CQAJBAkICQwJEAkUCRgJHAkgCSQJKAksCTAJNAk4CTwJQAlECUgJTAlQCVQJWAlcCWAJZAloCWwJcAl0CXgJfAmACYQJiAmMCZAJlAmYCZwJoAmkCagJrAmwCbQJuAm8CcAJxAnICcwJ0AnUCdgJ3AngCeQJ6AnsCfAJ9An4CfwKAAoECggKDAoQChQKGAocCiAKJAooCiwKMAo0CjgKPApACkQKSApMClAKVApYClwKYApkCmgKbApwCnQKeAp8CoAKhAqICowKkAqUCpgKnAqgCqQKqAqsCrAKtAq4CrwKwArECsgKzArQCtQK2ArcCuAK5AroCuwK8Ar0CvgK/AsACwQLCAsMCxALFAsYCxwLIAskCygLLAswCzQLOAs8C0ALRAtIC0wLUAtUC1gLXAtgC2QLaAtsC3ALdAt4C3wLgAuEC4gLjAuQC5QLmAucC6ALpAuoC6wLsAu0C7gLvAvAC8QLyAvMC9AL1AvYC9wL4AvkC+gL7AvwC/QL+Av8DAAMBAwIDAwMEAwUDBgMHAwgDCQMKAwsDDAMNAw4DDwMQAxEDEgMTAxQDFQMWAxcDGAMZAxoDGwMcAx0DHgMfAyADIQMiAyMDJAMlAyYDJwMoAykDKgMrAywDLQMuAy8DMAMxAzIDMwM0AzUDNgM3AzgDOQM6AzsDPAM9Az4DPwNAA0EDQgNDA0QDRQNGA0cDSANJA0oDSwNMA00DTgNPA1ADUQNSA1MDVANVA1YDVwNYA1kDWgNbA1wDXQNeA18DYANhA2IDYwNkA2UDZgNnA2gDaQNqA2sDbANtA24DbwNwA3EDcgNzA3QDdQN2A3cDeAN5A3oDewN8A30DfgN/A4ADgQOCA4MDhAOFA4YDhwOIA4kDigOLA4wDjQOOA48DkAORA5IDkwOUA5UDlgOXA5gDmQOaA5sDnAOdA54DnwOgA6EDogOjA6QDpQOmA6cDqAOpA6oDqwOsA60DrgOvA7ADsQOyA7MDtAO1A7YDtwO4A7kDugO7A7wDvQO+A78DwAPBA8IDwwPEA8UDxgPHA8gDyQPKA8sDzAPNA84DzwPQA9ED0gPTA9QD1QPWA9cD2APZA9oD2wPcA90D3gPfA+AD4QPiA+MD5APlA+YD5wPoA+kD6gPrA+wD7QPuA+8D8APxA/ID8wP0A/UD9gP3A/gD+QP6A/sD/AP9A/4D/wQABAEEAgQDBAQEBQQGBAcECAQJBAoECwQMBA0EDgQPBBAEEQQSBBMEFAQVBBYEFwQYBBkEGgQbBBwEHQQeBB8EIAQhBCIEIwQkBCUEJgQnBCgEKQQqBCsELAQtBC4ELwQwBDEEMgQzBDQENQQ2BDcEOAQ5BDoEOwQ8BD0EPgQ/BEAEQQRCBEMERARFBEYERwRIBEkESgRLBEwETQROBE8EUARRBFIEUwRUBFUEVgRXBFgEWQRaBFsEXARdBF4EXwRgBGEEYgRjBGQEZQRmBGcEaARpBGoEawRsBG0EbgRvBHAEcQRyBHMEdAR1BHYEdwR4BHkEegR7BHwEfQR+BH8EgASBBIIEgwSEBIUEhgSHBIgEiQSKBIsEjASNBI4EjwSQBJEEkgSTBJQElQSWBJcEmASZBJoEmwScBJ0EngSfBKAEoQSiBKMEpASlBKYEpwSoBKkEqgSrBKwErQSuBK8EsASxBLIEswS0BLUEtgS3BLgEuQS6BLsEvAS9BL4EvwTABMEEwgTDBMQExQTGBMcEyATJBMoEywTMBM0EzgTPBNAE0QTSBNME1ATVBNYE1wTYBNkE2gTbBNwE3QTeBN8E4AThBOIE4wTkBOUE5gTnBOgE6QTqBOsE7ATtBO4E7wTwBPEE8gTzBPQE9QT2BPcE+AT5BPoE+wT8BP0E/gT/BQAFAQUCBQMFBAUFBQYFBwUIBQkFCgULBQwFDQUOBQ8FEAURBRIFEwUUBRUFFgUXBRgFGQUaBRsFHAUdBR4FHwUgBSEFIgUjBSQFJQUmBScFKAUpBSoFKwUsBS0FLgUvBTAFMQUyBTMFNAU1BTYFNwU4BTkFOgU7BTwFPQU+BT8FQAVBBUIFQwVEBUUFRgVHBUgFSQVKBUsFTAVNBU4FTwVQBVEFUgVTBVQFVQVWBVcFWAVZBVoFWwVcBV0FXgVfBWAFYQViBWMFZAVlBWYFZwVoBWkFagVrBWwFbQVuBW8FcAVxBXIFcwV0BXUFdgV3BXgFeQV6BXsFfAV9BX4FfwWABYEFggWDBYQFhQWGBYcFiAWJBYoFiwWMBY0FjgWPBZAFkQWSBZMFlAWVBZYFlwWYBZkFmgWbBZwFnQWeBZ8FoAWhBaIFowWkBaUFpgWnBagFqQWqBasFrAWtBa4FrwWwBbEFsgWzBbQFtQW2BbcFuAW5BboFuwW8Bb0FvgW/BcAFwQXCBcMFxAXFBcYFxwXIBckFygXLBcwFzQXOBc8F0AXRBdIF0wXUBdUF1gXXBdgF2QXaBdsF3AXdBd4F3wXgBeEF4gXjBeQF5QXmBecF6AXpBeoF6wXsBe0F7gXvBfAF8QXyBfMF9AX1BfYF9wX4BfkF+gX7BfwF/QX+Bf8GAAYBBgIGAwYEBgUGBgYHBggGCQYKBgsGDAYNBg4GDwYQBhEGEgYTBhQGFQYWBhcGGAYZBhoGGwYcBh0GHgYfBiAGIQYiBiMGJAYlBiYGJwYoBikGKgYrBiwGLQYuBi8GMAYxBjIGMwY0BjUGNgY3BjgGOQY6BjsGPAY9Bj4GPwZABkEGQgZDBkQGRQZGBkcGSAZJBkoGSwZMBk0GTgZPBlAGUQZSBlMGVAZVBlYGVwZYBlkGWgZbBlwGXQZeBl8GYAZhBmIGYwZkBmUGZgZnBmgGaQZqBmsGbAZtBm4GbwZwBnEGcgZzBnQGdQZ2BncGeAZ5BnoGewZ8Bn0GfgZ/BoAGgQaCBoMGhAaFBoYGhwaIBokGigaLBowGjQaOBo8GkAaRBpIGkwaUBpUGlgaXBpgGmQaaBpsGnAadBp4GnwagBqEGogajBqQGpQamBqcGqAapBqoGqwasBq0GrgavBrAGsQayBrMGtAa1BrYGtwa4BrkGuga7BrwGvQa+Br8GwAbBBsIGwwbEBsUGxgbHBsgGyQbKBssGzAbNBs4GzwbQBtEG0gbTBtQG1QbWBtcG2AbZBtoG2wbcBt0G3gbfBuAG4QbiBuMG5AblBuYG5wboBukG6gbrBuwG7QbuBu8G8AbxBvIG8wb0BvUG9gb3BvgG+Qb6BvsG/Ab9Bv4G/wcABwEHAgcDBwQHBQcGBwcHCAcJBwoHCwcMBw0HDgcPBxAHEQcSBxMHFAcVBxYHFwcYBxkHGgcbBxwHHQceBx8HIAchByIHIwckByUHJgcnBygHKQcqBysHLActBy4HLwcwBzEHMgczBzQHNQc2BzcHOAc5BzoHOwc8Bz0HPgc/B0AHQQdCB0MHRAdFB0YHRwdIB0kHSgdLB0wHTQdOB08HUAdRB1IHUwdUB1UHVgdXB1gHWQdaB1sHXAddB14HXwdgB2EHYgdjB2QHZQdmB2cHaAdpB2oHawdsB20HbgdvB3AHcQdyB3MHdAd1B3YHdwd4B3kHegd7B3wHfQd+B38HgAeBB4IHgweEB4UHhgeHB4gHiQeKB4sHjAeNB44HjweQB5EHkgeTB5QHlQeWB5cHmAeZB5oHmwecB50HngefB6AHoQeiB6MHpAelB6YHpweoB6kHqgerB6wHrQeuB68HsAexB7IHswe0B7UHtge3B7gHuQe6B7sHvAe9B74HvwfAB8EHwgfDB8QHxQfGB8cHyAfJB8oHywfMB80HzgfPB9AH0QfSB9MH1AfVB9YH1wfYB9kH2gfbB9wH3QfeB98H4AfhB+IH4wfkB+UH5gfnB+gH6QfqB+sH7AftB+4H7wfwB/EH8gfzB/QH9Qf2B/cH+Af5B/oH+wf8B/0H/gf/CAAIAQgCCAMIBAgFCAYIBwgICAkICggLCAwIDQgOCA8IEAgRCBIIEwgUCBUIFggXCBgIGQgaCBsIHAgdCB4IHwggCCEIIggjCCQIJQgmCCcIKAgpCCoIKwgsCC0ILggvCDAIMQgyCDMINAg1CDYINwg4CDkIOgg7CDwIPQg+CD8IQAhBCEIIQwhECEUIRghHCEgISQhKCEsg+wy3+iS3AfcQt/kstwP3EPoEFf58+YT6fAf9WP4nFfnSB/fF/DMFprAV+8X4NwX49gamYhX90gf7xfgzBXBmFffF/DcF/PYGDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4OAAEBAQr4HwwmmhwZLRL7joscBUaLBr0KvQv65xUD6AB8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAA==");}'));
for(var h=0;h<m.length;h++)l.css({"font-family":'"'+m[h]+'",Blank'}),0<l[0].offsetWidth&&g.push({name:m[h]});l.remove();return g}("MS UI Gothic;\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af;\uff2d\uff33 \u30b4\u30b7\u30c3\u30af;\uff2d\uff33 \uff30\u660e\u671d;\uff2d\uff33 \u660e\u671d;\u30e1\u30a4\u30ea\u30aa;Meiryo UI;\u6e38\u30b4\u30b7\u30c3\u30af;\u6e38\u660e\u671d;\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 Pro W3;\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN W3;\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 Pro W6;\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN W6;\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 Std W8;\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 StdN W8;\u30d2\u30e9\u30ae\u30ce\u4e38\u30b4 Pro W4;\u30d2\u30e9\u30ae\u30ce\u4e38\u30b4 ProN W4;\u30d2\u30e9\u30ae\u30ce\u660e\u671d Pro W3;\u30d2\u30e9\u30ae\u30ce\u660e\u671d ProN W3;\u30d2\u30e9\u30ae\u30ce\u660e\u671d Pro W6;\u30d2\u30e9\u30ae\u30ce\u660e\u671d ProN W6;\u6e38\u30b4\u30b7\u30c3\u30af\u4f53;\u6e38\u660e\u671d\u4f53;\u6e38\u660e\u671d\u4f53+36\u30dd\u304b\u306a;HG\u884c\u66f8\u4f53;HGP\u884c\u66f8\u4f53;HG\u6b63\u6977\u66f8\u4f53-PRO;\u30af\u30ec\u30fc;\u7b51\u7d2bA\u4e38\u30b4\u30b7\u30c3\u30af;\u7b51\u7d2bB\u4e38\u30b4\u30b7\u30c3\u30af;Osaka;Osaka\uff0d\u7b49\u5e45;Droid Sans;Roboto;cursive;Comic Sans MS;Jenkins v2.0;Mv Boli;Script;sans-serif;arial;arial black;arial narrow;arial unicode ms;Century Gothic;Franklin Gothic Medium;Gulim;GulimChe;Dotum;Haettenschweiler;Impact;Lucida Sans Unicode;Microsoft Sans Serif;MS Sans Serif;MV Boil;New Gulim;Tahoma;Trebuchet;Trebuchet MS;Verdana;serif;Batang;Book Antiqua;Bookman Old Style;Century;Estrangelo Edessa;Garamond;Gautami;Georgia;Gungsuh;Latha;Mangal;MS Serif;NSimSun;PMingLiU;Palatino Linotype;Raavi;Roman;Shruti;Sylfaen;Times New Roman;Tunga;monospace;BatangChe;Courier;Courier New;DotumChe;GlimChe;GungsuhChe;Lucida Console;MingLiU;OCRB;SimHei;SimSun;Small Fonts;Terminal;fantasy;alba;alba matter;alba super;baby kruffy;Chick;Croobie;Fat;Freshbot;Frosty;GlooGun;Jokewood;Modern;Monotype Corsiva;Poornut;Pussycat Snickers;Weltron Urban".split(";")),
d=function(m,g){return w.clone(!0).css({padding:"5px",width:"100%"}).append(A.clone(!0).css({padding:"0px 5px",width:"5em"}).text(g)).append(function(l){a(".label",l).html("ja"==kintone.getLoginUser().language?"\u306a\u3057":"none");a(".receiver",l).attr("id","none").attr("name","border-"+m+"-style");return l}(K.clone(!0))).append(function(l){a(".label",l).html("ja"==kintone.getLoginUser().language?"\u5b9f\u7dda":"solid");a(".receiver",l).attr("id","solid").attr("name","border-"+m+"-style");return l}(K.clone(!0))).append(function(l){a(".label",
l).html("ja"==kintone.getLoginUser().language?"\u7834\u7dda":"dotted");a(".receiver",l).attr("id","dotted").attr("name","border-"+m+"-style");return l}(K.clone(!0))).append(A.clone(!0).css({padding:"0px 5px"}).text("ja"==kintone.getLoginUser().language?"\u592a\u3055":"weight")).append(function(l){l.css({"text-align":"right",width:"3em"}).attr("id","border-"+m+"-width");return l}(L.clone(!0))).append(A.clone(!0).css({padding:"0px 5px"}).text("px")).append(A.clone(!0).css({padding:"0px 5px"}).text("ja"==
kintone.getLoginUser().language?"\u8272":"color")).append(function(l){l.css({border:"1px solid #C9C9C9","border-radius":"3px",height:"30px",width:"2em"}).attr("id","border-"+m+"-color-monitor").append(a('<input type="hidden">').attr("id","border-"+m+"-color"));return l}(A.clone(!0)))};this.keep={};this.dialog=N("standard",475,500);this.contents=this.dialog.contents;this.colors="#FA8273 #FFF07D #7DC87D #69B4C8 #827DB9 #E16EA5 #FA7382 #FFB46E #B4DC69 #64C3AF #69A0C8 #B473B4 #FFFFFF #D6D1CC #888888 #333333".split(" ");
b.container.append(this.dialog.container.css({bottom:"auto",display:"none",left:"50%","padding-top":"40px",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)","z-index":"999999"}).append(this.dialog.contents.append(d("left","ja"==kintone.getLoginUser().language?"\u5de6\u7f6b\u7dda":"left")).append(d("right","ja"==kintone.getLoginUser().language?"\u53f3\u7f6b\u7dda":"right")).append(d("top","ja"==kintone.getLoginUser().language?"\u4e0a\u7f6b\u7dda":"top")).append(d("bottom","ja"==
kintone.getLoginUser().language?"\u4e0b\u7f6b\u7dda":"bottom")).append(w.clone(!0).css({padding:"5px",width:"100%"}).append(A.clone(!0).css({padding:"0px 5px",width:"5em"}).text("ja"==kintone.getLoginUser().language?"\u30d5\u30a9\u30f3\u30c8":"font family")).append(function(m){m.attr("id","font-family");for(var g=0;g<e.length;g++)m.append(a("<option>").attr("value",e[g].name).text(e[g].name));return m}(M.clone(!0)))).append(w.clone(!0).css({padding:"5px",width:"100%"}).append(A.clone(!0).css({padding:"0px 5px",
width:"5em"}).text("ja"==kintone.getLoginUser().language?"\u30b5\u30a4\u30ba":"font size")).append(function(m){m.css({"text-align":"right",width:"3em"}).attr("id","font-size");return m}(L.clone(!0))).append(A.clone(!0).css({padding:"0px 5px"}).text("px")).append(A.clone(!0).css({padding:"0px 5px"}).text("ja"==kintone.getLoginUser().language?"\u8272":"color")).append(function(m){m.css({border:"1px solid #C9C9C9","border-radius":"3px",height:"30px",width:"2em"}).attr("id","color-monitor").append(a('<input type="hidden">').attr("id",
"color"));return m}(A.clone(!0)))).append(w.clone(!0).css({padding:"5px",width:"100%"}).append(A.clone(!0).css({padding:"0px 5px",width:"5em"}).addClass("sizelabel")).append(function(m){m.css({"text-align":"right",width:"3em"}).attr("id","size");return m}(L.clone(!0))).append(A.clone(!0).css({padding:"0px 5px"}).text("px")).append(a("<p>").css({color:"#d80000","font-size":"13px"}).addClass("sizecaution")))).append(this.dialog.header.css({cursor:"grab"}).on("mousedown.fieldstyle",function(m){var g=
c.dialog.container[0].getBoundingClientRect(),l=m.pageX,h=m.pageY;c.dialog.header.css({cursor:"grabbing"});a(window).off("mousemove.fieldstyle").on("mousemove.fieldstyle",function(r){c.dialog.container.css({left:(g.left+g.width/2+r.pageX-l).toString()+"px",top:(g.top+g.height/2+r.pageY-h).toString()+"px"});r.stopPropagation();r.preventDefault()});a(window).off("mouseup.fieldstyle").on("mouseup.fieldstyle",function(r){c.dialog.header.css({cursor:"grab"});a(window).off("mousemove.fieldstyle");a(window).off("mouseup.fieldstyle");
r.stopPropagation();r.preventDefault()});m.stopPropagation();m.preventDefault()})).append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id","cancel").text("Cancel"))))};p.prototype={show:function(b,c,e,d,m,g){var l=this,h=["left","right","top","bottom"],r=function(){for(var q={},t=0;t<h.length;t++)switch(a("[name=border-"+h[t]+"-style]:checked",l.dialog.contents).attr("id")){case "none":q["border-"+h[t]]="none";break;case "solid":a.isNumeric(a("#border-"+
h[t]+"-width",l.dialog.contents).val())||a("#border-"+h[t]+"-width",l.dialog.contents).val("0");q["border-"+h[t]]=a("#border-"+h[t]+"-width",l.dialog.contents).val()+"px solid #"+a("#border-"+h[t]+"-color").val();break;case "dotted":a.isNumeric(a("#border-"+h[t]+"-width",l.dialog.contents).val())||a("#border-"+h[t]+"-width",l.dialog.contents).val("0"),1<parseInt(a("#border-"+h[t]+"-width",l.dialog.contents).val())&&(alert("ja"==kintone.getLoginUser().language?"\u7834\u7dda\u306e\u5834\u5408\u306f\u592a\u3055\u306f1px\u306b\u9650\u5b9a\u3055\u308c\u307e\u3059\u3002":
"In the case of a broken line, the thickness is limited to 1px."),a("#border-"+h[t]+"-width",l.dialog.contents).val("1")),q["border-"+h[t]]=a("#border-"+h[t]+"-width",l.dialog.contents).val()+"px dotted #"+a("#border-"+h[t]+"-color").val()}q.color="#"+a("#color",l.dialog.contents).val();q["font-size"]=a("#font-size",l.dialog.contents).val()+"px";a("#font-family",l.dialog.contents).val()&&(q["font-family"]=a("#font-family",l.dialog.contents).val());return q},n=function(){return a.isNumeric(a("#size",
l.dialog.contents).val())?a("#size",l.dialog.contents).val():"0"};this.keep=b;a("#ok",this.dialog.footer).off("click").on("click",function(){d(r(),n());l.hide()});a("#cancel",this.dialog.footer).off("click").on("click",function(){m(l.keep,c);l.hide()});a("#font-family",l.dialog.contents).off("change").on("change",function(q){g(r(),n())});a("#font-size",l.dialog.contents).off("change").on("change",function(q){g(r(),n())});a("#size",l.dialog.contents).off("change").on("change",function(q){g(r(),n())});
for(var k=0;k<h.length;k++)a("#border-"+h[k]+"-width",l.dialog.contents).off("change").on("change",function(q){g(r(),n())}),a("[name=border-"+h[k]+"-style]",l.dialog.contents).each(function(q){a(this).off("change").on("change",function(t){g(r(),n())})}),"border-"+h[k]in b?b["border-"+h[k]].match(/none/g)?(a("[name=border-"+h[k]+"-style]#none").prop("checked",!0),a("#border-"+h[k]+"-width").val(""),a("#border-"+h[k]+"-color").val("888888"),a("#border-"+h[k]+"-color-monitor").colorSelector(this.colors,
a("#border-"+h[k]+"-color"),function(q){g(r(),n())})):(b["border-"+h[k]].match(/solid/g)&&a("[name=border-"+h[k]+"-style]#solid").prop("checked",!0),b["border-"+h[k]].match(/dotted/g)&&a("[name=border-"+h[k]+"-style]#dotted").prop("checked",!0),a("#border-"+h[k]+"-width").val(parseInt(b["border-"+h[k]].split(" ")[0])),a("#border-"+h[k]+"-color").val(this.hex(b["border-"+h[k]])),a("#border-"+h[k]+"-color-monitor").colorSelector(this.colors,a("#border-"+h[k]+"-color"),function(q){g(r(),n())})):(a("[name=border-"+
h[k]+"-style]#none").prop("checked",!0),a("#border-"+h[k]+"-width").val(""),a("#border-"+h[k]+"-color").val("888888"),a("#border-"+h[k]+"-color-monitor").colorSelector(this.colors,a("#border-"+h[k]+"-color"),function(q){g(r(),n())}));"color"in b&&(a("#color",l.dialog.contents).val(this.hex(b.color)),a("#color-monitor").colorSelector(this.colors,a("#color"),function(q){g(r(),n())}));"font-size"in b&&a("#font-size",l.dialog.contents).val(parseInt(b["font-size"]));"font-family"in b&&a("#font-family",
l.dialog.contents).val(b["font-family"]);a("#size",l.dialog.contents).val(c).closest("div").show();e(this.dialog.container);this.dialog.container.show()},hide:function(){this.dialog.container.hide()},hex:function(b){b.match(/rgb/g)?(b=b.replace(/ /g,"").replace(/^.*rgb[a]?\(/g,"").replace(/\)$/g,"").split(","),4==b.length&&b.splice(3,1),b=b.map(function(c){return 255<c?"FF":0>c?"00":"0123456789ABCDEF".charAt(Math.floor(c/16))+"0123456789ABCDEF".charAt(c%16)}).join("")):b=b.replace(/^.*#/g,"");return b}};
return new p(a.extend(!0,{container:a(this)},f))};jTis.fn.fieldwidth=function(f){var p=function(b){b=a.extend(!0,{container:null},b);var c=this;this.dialog=N("standard",200,300);this.contents=this.dialog.contents;b.container.append(this.dialog.container.css({bottom:"auto",display:"none",left:"50%","padding-top":"40px",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)","z-index":"999999"}).append(this.dialog.contents.append(w.clone(!0).css({padding:"5px",width:"100%"}).append(A.clone(!0).css({padding:"0px 5px",
width:"8em"}).text("ja"==kintone.getLoginUser().language?"\u30d5\u30a3\u30fc\u30eb\u30c9\u5e45":"width")).append(function(e){e.css({"text-align":"right",width:"6em"}).attr("id","width");return e}(L.clone(!0))).append(A.clone(!0).css({padding:"0px 5px"}).text("px")).append(a("<p>").css({color:"#d80000","font-size":"13px"}).text("ja"==kintone.getLoginUser().language?"\u300c0\u300d\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u5370\u5237\u30d7\u30ec\u30d3\u30e5\u30fc\u6642\u306b\u975e\u8868\u793a\u306b\u51fa\u6765\u307e\u3059\u3002":
'If "0" is specified, it can be hidden during the print preview.')))).append(this.dialog.header.css({cursor:"grab"}).on("mousedown.fieldwidth",function(e){var d=c.dialog.container[0].getBoundingClientRect(),m=e.pageX,g=e.pageY;c.dialog.header.css({cursor:"grabbing"});a(window).off("mousemove.fieldwidth").on("mousemove.fieldwidth",function(l){c.dialog.container.css({left:(d.left+d.width/2+l.pageX-m).toString()+"px",top:(d.top+d.height/2+l.pageY-g).toString()+"px"});l.stopPropagation();l.preventDefault()});
a(window).off("mouseup.fieldwidth").on("mouseup.fieldwidth",function(l){c.dialog.header.css({cursor:"grab"});a(window).off("mousemove.fieldwidth");a(window).off("mouseup.fieldwidth");l.stopPropagation();l.preventDefault()});e.stopPropagation();e.preventDefault()})).append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id","cancel").text("Cancel"))))};p.prototype={show:function(b,c,e,d){var m=this;a("#ok",this.dialog.footer).off("click").on("click",function(){c(a.isNumeric(a("#width",
m.dialog.contents).val())?a("#width",m.dialog.contents).val():"0");m.hide()});a("#cancel",this.dialog.footer).off("click").on("click",function(){e(b);m.hide()});a("#width",m.dialog.contents).off("change").on("change",function(g){d(a.isNumeric(a("#width",m.dialog.contents).val())?a("#width",m.dialog.contents).val():"0")});a("#width",m.dialog.contents).val(b);this.dialog.container.show()},hide:function(){this.dialog.container.hide()}};return new p(a.extend(!0,{container:a(this)},f))};jTis.fn.fieldrowwidth=
function(f){var p=function(b){b=a.extend(!0,{container:null},b);var c=this;this.dialog=N("standard",150,300);this.contents=this.dialog.contents;b.container.append(this.dialog.container.css({bottom:"auto",display:"none",left:"50%","padding-top":"40px",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)","z-index":"999999"}).append(this.dialog.contents.append(w.clone(!0).css({padding:"5px",width:"100%"}).append(A.clone(!0).css({padding:"0px 5px",width:"8em"}).text("ja"==kintone.getLoginUser().language?
"\u30d5\u30a3\u30fc\u30eb\u30c9\u5217\u5e45":"width")).append(function(e){e.css({"text-align":"right",width:"6em"}).attr("id","width");return e}(L.clone(!0))).append(A.clone(!0).css({padding:"0px 5px"}).text("px")))).append(this.dialog.header.css({cursor:"grab"}).on("mousedown.fieldrowwidth",function(e){var d=c.dialog.container[0].getBoundingClientRect(),m=e.pageX,g=e.pageY;c.dialog.header.css({cursor:"grabbing"});a(window).off("mousemove.fieldrowwidth").on("mousemove.fieldrowwidth",function(l){c.dialog.container.css({left:(d.left+
d.width/2+l.pageX-m).toString()+"px",top:(d.top+d.height/2+l.pageY-g).toString()+"px"});l.stopPropagation();l.preventDefault()});a(window).off("mouseup.fieldrowwidth").on("mouseup.fieldrowwidth",function(l){c.dialog.header.css({cursor:"grab"});a(window).off("mousemove.fieldrowwidth");a(window).off("mouseup.fieldrowwidth");l.stopPropagation();l.preventDefault()});e.stopPropagation();e.preventDefault()})).append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id",
"cancel").text("Cancel"))))};p.prototype={show:function(b,c,e,d){var m=this;a("#ok",this.dialog.footer).off("click").on("click",function(){c(a.isNumeric(a("#width",m.dialog.contents).val())?a("#width",m.dialog.contents).val():"0");m.hide()});a("#cancel",this.dialog.footer).off("click").on("click",function(){e(b);m.hide()});a("#width",m.dialog.contents).off("change").on("change",function(g){d(a.isNumeric(a("#width",m.dialog.contents).val())?a("#width",m.dialog.contents).val():"0")});a("#width",m.dialog.contents).val(b);
this.dialog.container.show()},hide:function(){this.dialog.container.hide()}};return new p(a.extend(!0,{container:a(this)},f))};jTis.fn.fileselect=function(){var f=function(p){p=a.extend(!0,{container:null},p);var b=this;this.dialog=N("standard",600,500);this.contents=this.dialog.contents;this.files={};a(".main",this.dialog.header).append(a('<input type="file">').css({display:"none"}).on("change",function(){var c=a(this),e=(new Date).getTime().toString();0!=c[0].files.length&&b.upload(c[0].files[0]).then(function(d){d=
{contentType:c[0].files[0].type,fileKey:JSON.parse(d).fileKey,name:c[0].files[0].name,uploadtime:e};b.files[e]=c[0].files[0];b.addrow(d)})})).append(z.clone(!0).css({"background-color":"#FFFFFF",color:"#3498db",margin:"0px",width:"100%"}).text("ja"==kintone.getLoginUser().language?"\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0":"Add File").on("click",function(){a(this).closest("div").find("input").click()}));this.dialog.contents.append(this.dialog.lists);this.dialog.container.append(this.dialog.contents);
this.dialog.container.append(this.dialog.header);this.dialog.container.append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id","cancel").text("Cancel")));this.dialog.cover.append(this.dialog.container.css({"padding-top":"40px"}));p.container.append(this.dialog.cover);this.template=a("<tr>").append(B.clone(!0).css({border:"none","border-bottom":"1px dotted #C9C9C9",padding:"0px 5px"}).append(a('<a href="" id="link">').on("click",function(c){var e=a(this).closest("tr");
b.download(e.find("input#fileKey").val()).then(function(d){if(window.navigator.msSaveBlob)window.navigator.msSaveOrOpenBlob(d,e.find("input#name").val());else{var m=window.URL||window.webkitURL,g=document.createElement("a");g.setAttribute("href",m.createObjectURL(d));g.setAttribute("target","_blank");g.setAttribute("download",e.find("input#name").val());g.style.display="none";document.body.appendChild(g);g.click();document.body.removeChild(g)}});c.preventDefault();c.stopPropagation();return!1})).append(a('<input type="hidden" id="contentType">')).append(a('<input type="hidden" id="fileKey">')).append(a('<input type="hidden" id="name">')).append(a('<input type="hidden" id="uploadtime">'))).append(B.clone(!0).css({border:"none",
"border-bottom":"1px dotted #C9C9C9",width:"30px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/close.png" alt="Del" title="Del">').css({"vertical-align":"middle;",width:"100%"}).on("click",function(){a(this).closest("tr").remove()})))};f.prototype={download:function(p){return new Promise(function(b,c){var e=kintone.api.url("/k/v1/file",!0)+"?fileKey="+p,d=new XMLHttpRequest;d.open("GET",e);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.responseType=
"blob";d.onload=function(){200===d.status?b(d.response):c(Error("File download error:"+d.statusText))};d.onerror=function(){c(Error("There was a network error."))};d.send()})},upload:function(p){return new Promise(function(b,c){var e=new Blob([p],{type:p.type}),d=new FormData,m=kintone.api.url("/k/v1/file",!0),g=new XMLHttpRequest;d.append("__REQUEST_TOKEN__",kintone.getRequestToken());d.append("file",e,p.name);g.open("POST",m,!1);g.setRequestHeader("X-Requested-With","XMLHttpRequest");g.responseType=
"multipart/form-data";g.onload=function(){200===g.status?b(g.responseText):c(Error("File upload error:"+g.statusText))};g.onerror=function(){c(Error("There was a network error."))};g.send(d)})},addrow:function(p){var b=this.template.clone(!0);b.find("input#contentType").val(p.contentType);b.find("input#fileKey").val(p.fileKey);b.find("input#name").val(p.name);b.find("input#uploadtime").val("uploadtime"in p?p.uploadtime:"");b.find("a#link").text(p.name);this.dialog.lists.find("tbody").append(b)},show:function(p){p=
a.extend(!0,{datasource:[],buttons:{},files:{}},p);var b=this;a.each(p.buttons,function(c,e){if(b.dialog.footer.find("button#"+c).size())b.dialog.footer.find("button#"+c).off("click").on("click",function(){if(null!=e){var d=[];a.each(b.dialog.lists.find("tbody").find("tr"),function(){var m=d.push,g=a(this).find("input#contentType").val(),l=a(this).find("input#fileKey").val(),h=a(this).find("input#name").val(),r=a(this).find("input#uploadtime").val(),n=a(this).find("input#uploadtime").val(),k=null;
n&&n in b.files&&(k=b.files[n]);m.call(d,{contentType:g,fileKey:l,name:h,uploadtime:r,blob:k})});e(d)}})});this.files=p.files;this.dialog.lists.find("tbody").empty();a.each(p.datasource,function(c){b.addrow(p.datasource[c])});this.dialog.cover.show()},hide:function(){this.dialog.cover.hide()},unhide:function(){this.dialog.cover.show()}};return new f({container:a(this)})};jTis.fn.inlinebrowser=function(f){var p=function(b){b=a.extend(!0,{container:null,useframe:!0,hiddenSelectors:[]},b);var c=this;
this.callback=null;this.timer=0;this.hiddenSelectors=b.hiddenSelectors;this.useframe=b.useframe;this.dialog=N("dark");this.useframe||this.dialog.contents.append(a("<div>").addClass("inlinebrowser-block").css({"box-sizing":"border-box",height:"100%",overflow:"auto",width:"100%"}));b.container.append(this.dialog.cover.append(this.dialog.container.append(this.dialog.header.append(this.dialog.button.clone(!0).attr("src","https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/browse_close.svg").on("click",
function(){c.callback&&c.callback();c.hide()}))).append(this.dialog.contents)))};p.prototype={show:function(b,c){var e=this;this.timer=0;this.callback=c;this.useframe?this.dialog.contents.empty().append(a("<iframe>").addClass("inlinebrowser-block").css({border:"none",height:"100%",outline:"none",overflow:"auto",width:"100%"}).attr("src",b).on("load",function(){(function(d){var m=new RegExp("^(https://"+window.location.host.replace(/[\/\\^$*+?.()|\[\]{}]/g,"\\$&")+"|/k/)","g");a("body",d).css({"overflow-y":"auto"});
a("[class*=app-titlebar]",d).css({display:"none"});a("[class$=app-toolbar]",d).css({display:"table"});e.timer=setInterval(function(){a.each(a("a",d),function(g){(g=a(this).attr("href"))&&g.match(m)&&"_blank"==a(this).attr("target")&&a(this).attr("target","_self")})},250);setTimeout(function(){for(var g=0;g<e.hiddenSelectors.length;g++)a(e.hiddenSelectors[g],d).css({display:"none"});a(".layout-gaia",d).css({width:"auto"});a(".component-app-lookup-inputlookup",d).each(function(l){var h=a(this).width();
a("button",a(this)).each(function(r){h-=a(this).outerWidth()});a(".input-text-outer-cybozu",a(this)).css({width:h+"px"})})},250);e.dialog.cover.show();a(".inlinebrowser-block",e.dialog.contents).width(a(".inlinebrowser-block",e.dialog.contents).width()-1);a(".inlinebrowser-block",e.dialog.contents).width(a(".inlinebrowser-block",e.dialog.contents).width()+1)})(a(".inlinebrowser-block",e.dialog.contents).contents())})):e.dialog.cover.show()},hide:function(){0<this.timer&&clearInterval(this.timer);
this.dialog.cover.hide()}};return new p(a.extend(!0,{container:a(this)},f))};jTis.fn.listitems=function(f){f=a.extend(!0,{param:{},value:"",text:"",addition:null,callback:null},f);return a(this).each(function(){var p=a(this);p.empty();null!=f.addition&&p.append(f.addition);kintone.api(kintone.api.url("/k/v1/records",!0),"GET",f.param,function(b){a.data(p[0],"datasource",b.records);a.each(b.records,function(c){p.append(a("<option>").attr("value",b.records[c][f.value].value).text(b.records[c][f.text].value))});
null!=f.callback&&f.callback()},function(b){})})};jTis.fn.mergetable=function(f){var p=function(b){b=a.extend(!0,{container:null,table:null,head:null,foot:null,template:null,dragclass:"drag",merge:!1,mergeexclude:[],mergeclass:"merge",mergetrigger:null,unmergetrigger:null,callback:{guidestart:null,guide:null,guideend:null}},b);this.container=b.table;this.head=a("<thead>").append(b.head);this.contents=a("<tbody>");this.foot=b.foot?a("<tfoot>").append(b.foot):null;this.lastrow=null;this.template=b.template;
this.dragclass=b.dragclass;this.mergeclass=b.mergeclass;this.dragenabled=!0;this.container.append(this.head);this.container.append(this.contents);this.foot&&this.container.append(this.foot);null!=b.container&&b.container.append(this.container);this.rows=this.contents.children("tr");var c=this,e=this.container,d=this.contents,m=!1,g=-1,l=-1,h=-1,r=-1,n=-1,k=-1;e.off("mousedown.merge touchstart.merge").on("mousedown.merge touchstart.merge","td",function(q){if(b.merge&&c.dragenabled){var t=a(this).parent(),
u=d.find("tr").index(t),v=t.find("td").index(a(this));if(-1==b.mergeexclude.indexOf(c.cellindex(t,v))){m=!1;g=u;for(u=r=h=l=v;-1<u&&!t.find("td").eq(u).hasClass(b.mergeclass);u--)n=u;for(u=v;u<t.find("td").length&&!t.find("td").eq(u).hasClass(b.mergeclass);u++)k=u;a(this).hasClass(b.mergeclass)?m=!0:a(this).addClass(b.dragclass);null!=b.callback.guidestart&&b.callback.guidestart(q,c,e,g,h);q.preventDefault()}}});a(window).off("mousemove.merge touchmove.merge").on("mousemove.merge touchmove.merge",
function(q){if(b.merge&&c.dragenabled)if(-1==g){var t=null,u=null;a.each(d.find("tr"),function(){var E=a(this);E.offset().top<q.pageY&&E.offset().top+E.outerHeight(!0)>q.pageY&&(t=E,a.each(t.find("td:visible"),function(){var H=a(this);H.offset().left<q.pageX&&H.offset().left+H.outerWidth(!0)>q.pageX&&(u=H)}))});null!=b.callback.guidestart&&(null!=u?-1==b.mergeexclude.indexOf(c.cellindex(t,t.find("td").index(u)))?b.callback.guidestart(q,c,e,d.find("tr").index(t),t.find("td").index(u)):b.callback.guidestart(q,
c,e,null,null):b.callback.guidestart(q,c,e,null,null))}else{for(var v="touchmove"==q.type?q.originalEvent.touches[0].pageX:q.pageX,x=-1,y=n;y<k+1;y++){var C=d.find("tr").eq(g).find("td").eq(y);C.offset().left<v&&C.offset().left+C.outerWidth(!0)>v&&(x=y)}if(-1!=x){l>x?(h=x,r=l):(h=l,r=x);for(y=n;y<k+1;y++)C=d.find("tr").eq(g).find("td").eq(y),y>h-1&&y<r+1?C.addClass(b.dragclass):C.removeClass(b.dragclass);null!=b.callback.guide&&b.callback.guide(q,c,e,g,h,r);q.preventDefault()}}});a(window).off("mouseup.merge touchend.merge").on("mouseup.merge touchend.merge",
function(q){if(b.merge&&c.dragenabled&&-1!=g){var t=d.find("tr").eq(g).find("td").eq(h);m?null!=b.unmergetrigger&&b.unmergetrigger(c,t,g,h):null!=b.mergetrigger&&b.mergetrigger(c,t,g,h,r);m=!1;k=n=r=h=l=g=-1;null!=b.callback.guideend&&b.callback.guideend(q);q.preventDefault()}})};p.prototype={cellindex:function(b,c){for(var e=0,d=a("td",b),m=d.length,g=0;g<m;g++){var l=a(d[g]);if(g<c)0!=parseInt("0"+l.attr("colspan"))&&(e+=parseInt("0"+l.attr("colspan"))-1);else break}return c+e},mergecellindex:function(b,
c){for(var e=0,d=0,m=a("td",b),g=m.length,l=0;l<g;l++){var h=a(m[l]);0!=parseInt("0"+h.attr("colspan"))?e+=parseInt("0"+h.attr("colspan")):e++;h.hasClass("hide")||(d=l);if(e>c){e=d;break}}return e},clearrows:function(){this.contents.empty();this.rows=this.contents.children("tr");this.lastrow=null},insertrow:function(b,c){var e=this.template.clone(!0);null==b?(this.lastrow?e.insertAfter(this.lastrow):this.contents.append(e),this.lastrow=e):this.contents.find("tr").index(b)==this.contents.find("tr").length-
1?(e.insertAfter(this.lastrow),this.lastrow=e):e.insertAfter(b);this.rows=this.contents.children("tr");null!=c&&c(e)},deleterow:function(b){this.rows.index(b);b.remove();this.rows=this.contents.children("tr");this.lastrow=0!=this.rows.length?this.rows.last():null},mergecell:function(b,c,e){for(var d=e-c+1,m=a("td",b.parent());c<e;c++)m.eq(c+1).hasClass("hide")?d--:m.eq(c+1).remove();b.attr("colspan",d);b.addClass(this.mergeclass);b.removeClass(this.dragclass)},unmergecell:function(b){var c=parseInt("0"+
b.attr("colspan"));b.removeAttr("colspan");for(var e=0;e<c-1;e++)a("<td>").insertAfter(b);b.removeClass(this.mergeclass);b.removeClass(this.dragclass)}};return new p(a.extend(!0,{container:null,table:a(this),head:null,template:null,merge:!1,mergeexclude:[],mergeclass:"merge",mergetrigger:null,unmergetrigger:null,callback:{guidestart:null,guide:null,guideend:null}},f))};jTis.fn.multiselect=function(f){var p=function(b){b=a.extend(!0,{container:null,ismulticells:!1},b);var c=this;this.ismulticells=
b.ismulticells;this.dialog=N("standard",600,500);this.contents=this.dialog.contents;this.selection={};this.dialog.contents.append(this.dialog.lists);this.dialog.container.append(this.dialog.contents);this.dialog.container.append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id","cancel").text("Cancel")));this.dialog.cover.append(this.dialog.container);b.container.append(this.dialog.cover);this.ismulticells||(this.template=a("<tr>").append(B.clone(!0).css({padding:"5px"}).append(a("<span>")).append(a('<input type="hidden">')).on("click",
function(){a(this).find("input").val()in c.selection?(a(this).css({"background-color":"transparent"}),delete c.selection[a(this).find("input").val()]):(a(this).css({"background-color":"#a0d8ef"}),c.selection[a(this).find("input").val()]=a(this).find("span").text())})).on("mouseover",function(e){a(this).css({"background-color":"#f5b2b2"})}).on("mouseout",function(e){a(this).css({"background-color":"transparent"})}))};p.prototype={show:function(b){b=a.extend(!0,{datasource:[],buttons:{},selected:[]},
b);var c=this,e=!1,d=null,m=!1;a(document).off("keydown.multiselect").on("keydown.multiselect",function(r){16==(r.keyCode||r.which)&&(e=!0);a(document).off("keyup.multiselect").on("keyup.multiselect",function(n){e=!1})});a.each(b.buttons,function(r,n){if(c.dialog.footer.find("button#"+r).size())c.dialog.footer.find("button#"+r).off("click").on("click",function(){null!=n&&n(c.ismulticells?Object.values(c.selection):c.selection)})});this.ismulticells&&(this.template=a("<tr>").append(a('<input type="hidden">')),
a.each(b.datasource[0],function(r,n){var k={padding:"5px"};n.display||(k.display="none");c.template.append(B.clone(!0).css(k).append(a("<span>").addClass(r).css({"user-select":"none"})).on("click",function(){var q=a(this).closest("tr"),t=a("tr",c.dialog.lists.find("tbody")),u=[];if(e){var v=0,x=-1;d?t.index(d)==t.index(q)?u.push(q):t.index(d)<t.index(q)?(v=t.index(d),x=t.index(q)):(v=t.index(q),x=t.index(d)):u.push(q);for(;v<x+1;v++)u.push(t.eq(v))}else u.push(q);for(v=0;v<u.length;v++)t=u[v],e&&
d?m?(a("td",t).css({"background-color":"#a0d8ef"}),c.selection[a("input",t).val()]=a.extend(!0,{},b.datasource[parseInt(a("input",t).val())])):(a("td",t).css({"background-color":"transparent"}),delete c.selection[a("input",t).val()]):a("input",t).val()in c.selection?(a("td",t).css({"background-color":"transparent"}),delete c.selection[a("input",t).val()]):(a("td",t).css({"background-color":"#a0d8ef"}),c.selection[a("input",t).val()]=a.extend(!0,{},b.datasource[parseInt(a("input",t).val())]));d=q;
m=a("input",q).val()in c.selection})).on("mouseover",function(q){a(this).css({"background-color":"#f5b2b2"})}).on("mouseout",function(q){a(this).css({"background-color":"transparent"})})}));this.dialog.lists.find("tbody").empty();this.selection={};for(var g=0;g<b.datasource.length;g++){var l=b.datasource[g],h=c.template.clone(!0);this.ismulticells?(a("input[type=hidden]",h).val(g),a.each(l,function(r,n){a("span."+r,h).html(n.value)}),0!=a.grep(b.selected,function(r,n){var k=0;a.each(r,function(q,
t){l[q].value==t&&k++});return Object.keys(r).length==k}).length?(a("td",h).css({"background-color":"#a0d8ef"}),c.selection[g]=a.extend(!0,{},l)):a(this).css({"background-color":"transparent"})):(a("span",h).html(l.text),a("input[type=hidden]",h).val(l.value),-1<a.inArray(l.value,b.selected)?(a("td",h).css({"background-color":"#a0d8ef"}),c.selection[l.value]=l.text):a(this).css({"background-color":"transparent"}));c.dialog.lists.find("tbody").append(h)}this.dialog.cover.show()},hide:function(){this.dialog.cover.hide()},
unhide:function(){this.dialog.cover.show()}};return new p(a.extend(!0,{container:a(this),ismulticells:!1},f))};jTis.fn.recordbrowser=function(f){var p=function(b){b=a.extend(!0,{container:null},b);var c=this;this.dialog=N("dark");this.dialog.contents.append(a("<pre>").addClass("block").css({"background-color":"rgba(255,255,255,0.85)","box-sizing":"border-box",height:"100%","overflow-x":"hidden","overflow-y":"auto",margin:"0px",padding:"0.5em","text-align":"left",width:"100%"}));b.container.append(this.dialog.cover.append(this.dialog.container.append(this.dialog.header.append(this.dialog.button.clone(!0).attr("src",
"https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/browse_close.svg").on("click",function(){c.hide()}))).append(this.dialog.contents)))};p.prototype={show:function(b,c){var e=function(d){var m=null;switch(d.type.toUpperCase()){case "CREATOR":case "MODIFIER":m=d.value.name;break;case "FILE":case "GROUP_SELECT":case "ORGANIZATION_SELECT":case "STATUS_ASSIGNEE":case "USER_SELECT":if(0!=d.value.length){var g=[];a.each(d.value,function(l){g.push(d.value[l].name)});m=g}else m=[];break;default:m=
d.value}return m};a(".block",this.dialog.contents).html(function(d,m){var g={},l;for(l in d){var h=d[l];switch(h.type){case "SUBTABLE":var r=l;g[r]=[];for(var n=0;n<h.value.length;n++){var k={};a.each(h.value[n].value,function(q,t){k[q in m?m[q].label:"unknown"]=e(t)});g[r].push(k)}break;default:g[l in m?m[l].label:"unknown"]=e(h)}}return JSON.stringify(g,null,"\t")}(b,c));this.dialog.cover.show()},hide:function(){this.dialog.cover.hide()}};return new p(a.extend(!0,{container:a(this)},f))};jTis.fn.referer=
function(f){var p=function(b){b=a.extend(!0,{container:null,datasource:null,displaytext:[],searches:[],searchinfo:{app:"",query:"",sort:"",fieldinfos:{}}},b);var c=this;this.limit=50;this.offset=0;this.datasource=null!=b.datasource?b.datasource:[];this.displaytext=b.displaytext;this.searches=b.searches;this.searchinfo=b.searchinfo;this.dialog=N("standard");this.contents=this.dialog.contents;this.searchblock=this.dialog.header;this.callback=null;this.cursor={id:"",total:0};this.dialog.container.addClass("tis-referer-container");
this.dialog.contents.addClass("tis-referer-contents");this.dialog.header.addClass("tis-referer-header");this.dialog.footer.addClass("tis-referer-footer");0!=this.searches.length&&(a.each(this.searches,function(e){var d=a.extend(!0,{id:"",label:"",type:"",param:{},value:"",text:"",callback:null},c.searches[e]),m=null;switch(d.type){case "select":m=M.clone(!0).attr("id",d.id);m.listitems({param:d.param,value:d.value,text:d.text,addition:a('<option value="">'+(d.label?d.label:"")+"</option")});a.data(m[0],
"searchtype","single");a(".main",c.dialog.header).append(m.css({width:"100%"}));break;case "multi":m=L.clone(!0).attr("id",d.id),d.label&&m.attr("placeholder",d.label),a.data(m[0],"searchtype","multi"),a(".main",c.dialog.header).append(m.css({"margin-right":"-30px","padding-right":"35px"})),a(".main",c.dialog.header).append(z.clone(!0).css({cursor:"pointer",display:"inline-block",margin:"0px",padding:"0px","vertical-align":"top",width:"30px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/search.png" class="add" alt="search" title="search">').css({width:"100%"})).on("focus",
function(g){a(g.currentTarget).css({"background-color":"#a0d8ef"})}).on("blur",function(g){a(g.currentTarget).css({"background-color":"transparent"})}).on("click",function(){c.offset=0;c.searchinfo.app?a.cursordelete(c.cursor.id,function(){c.cursor={id:"",total:0};c.datasource=[];c.search()}):c.search()}))}if(null!=d.callback)m.on("change",function(){d.callback(m)})}),a("input[type=text],select",this.dialog.header).on("keydown",function(e){if(13==(e.keyCode||e.which)){var d=c.dialog.container.find("button,input[type=text],select,table"),
m=d.length,g=d.index(this);e.shiftKey?(0==g&&(g=m),g--):(g++,g==m&&(g=0));d.eq(g).focus();return!1}}),this.searchinfo.app&&(a(".main",this.dialog.header).css({width:"calc(100% - 60px)"}),a(".sub",this.dialog.header).css({width:"60px"}).append(z.clone(!0).addClass("prev").css({display:"inline-block",margin:"0px",padding:"0px",width:"30px"}).append(a("<img>").css({width:"100%"}).attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAN9JREFUeNpiYCAa/AcCrBIAAURYCxNB/QABRLK5Cv+hAJ+i+yTZCRBAVERAawNgbBYcgcgIDxmoxH5aRAEWABBAgxjB4oxojwLVrf+PBZBiowHZmtGjnOrxAxBAwx0BwyuBXI3vSQ5t9LgmReN5QomEBYsmASD1nhgLmGgVuucpSttA9Q7UyBjvKcoYZCcSmgCAABtFQ7aoEYDVFvSyrJ8qNQuRFjb8xwOobVkBLFcTAoTMYiG2WQCkFKjpCaKKXEZGRkUgBjXVCoH4w0CnYPrFMZ5UPZ/uFg9YPh4FxAIA/Qp+Mf/2/ocAAAAASUVORK5CYII=")).on("click",
function(){c.offset-=c.searchinfo.app?1:c.limit;c.search()})).append(z.clone(!0).addClass("next").css({display:"inline-block",margin:"0px",padding:"0px",width:"30px"}).append(a("<img>").css({width:"100%"}).attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAANRJREFUeNpiYCAa/AcCrBIAAYRTeQCGfiDYj1U1QACRhqBG/aeWWyEAIICo5DB0MSYsLleA8Rmx6WQEAgydQPAAJkEZAAigQYb+I8B9SjQjg/XkajYg1eYAmoYNQAANozhOoDSBvKc0dZEWvzgSyHlcahlJKIMEgfn4A84ygpo5iqCzCWl2oGtUJQz+pAwQYKNoUFYf64FYYKDqLRjop4sj/uMHDQNlMQy8B+ICYs1kJNZiEt0Kaisp4lNAzSIXVJYXMkKA4rCL4/n0TNX0z8ejgBoAAKp+fTuOFvwRAAAAAElFTkSuQmCC")).on("click",
function(){c.offset+=c.searchinfo.app?1:c.limit;c.search()}))));this.dialog.contents.append(this.dialog.lists);this.dialog.container.append(this.dialog.contents);0!=this.searches.length&&(this.dialog.contents.css({"padding-top":"10px"}),this.dialog.container.append(this.dialog.header));this.dialog.container.append(this.dialog.footer.append(z.clone(!0).attr("id","cancel").text("Cancel")));this.dialog.cover.append(this.dialog.container.css({"padding-top":0!=this.searches.length?"40px":"5px"}));b.container.append(this.dialog.cover);
this.template=a("<tr>").on("mouseover",function(e){a(this).css({"background-color":"#f5b2b2"})}).on("mouseout",function(e){a(this).css({"background-color":"transparent"})}).on("click",function(){null!=c.callback&&c.callback(a(this))});a.each(this.displaytext,function(e){c.template.append(B.clone(!0).css({padding:"5px"}))});this.head=a("<tr>");this.dialog.lists.find("thead").size()&&this.dialog.lists.find("thead").remove();this.searchinfo.app&&kintone.api(kintone.api.url("/k/v1/app/form/fields",!0),
"GET",{app:this.searchinfo.app},function(e){a.each(c.displaytext,function(d){c.head.append(B.clone(!0).css({"background-color":"#EFEFEF",cursor:"auto",padding:"5px","text-align":"center","white-space":"nowrap"}).text(e.properties[c.displaytext[d]].label))});c.dialog.lists.prepend(a("<thead>").append(c.head))},function(e){alert(e.message)})};p.prototype={search:function(b){var c=this,e=[],d=function(l){c.dialog.lists.find("tbody").empty();for(var h=0;h<l.length;h++){var r=l[h],n=c.template.clone(!0);
a.each(r,function(k,q){n.append(a('<input type="hidden" id="'+k+'">').val(Array.isArray(q.value)?JSON.stringify(q.value):q.value)).append(a('<input type="hidden" id="_field_type_'+k+'">').val(q.type)).append(a('<input type="hidden" id="_use_parse_'+k+'">').val(Array.isArray(q.value)?"1":"0"))});a.each(c.displaytext,function(k){n.find("td").eq(k).html(a.fieldvalue(r[c.displaytext[k]]))});c.dialog.lists.find("tbody").append(n)}b&&b()},m=function(){0==c.offset?a(".prev",c.dialog.header).prop("disabled",
!0).css({opacity:"0.5"}):a(".prev",c.dialog.header).prop("disabled",!1).css({opacity:"1"});(c.offset+1)*c.limit>c.cursor.total-1?a(".next",c.dialog.header).prop("disabled",!0).css({opacity:"0.5"}):a(".next",c.dialog.header).prop("disabled",!1).css({opacity:"1"})};if(this.searchinfo.app)0==this.datasource.length&&0==this.offset?a.cursorcreate({app:this.searchinfo.app,query:function(l){l=l?l:"";var h=[];if(0!=c.searches.length){var r=c.dialog.header.find("input[type=text],select");a.each(r,function(n){if(n=
a(this).val()?a(this).val():"")switch(a.data(a(this)[0],"searchtype")){case "multi":var k=n.replace(/[ \u3000]+/g," ").split(" ");a.each(k,function(q){var t=k[q];a.each(c.displaytext,function(u){u=c.searchinfo.fieldinfos[c.displaytext[u]];switch(u.type){case "LINK":case "SINGLE_LINE_TEXT":h.push(a.fieldcompquery(u,"2",t));break;case "MULTI_LINE_TEXT":case "RICH_TEXT":h.push(a.fieldcompquery(u,"0",t))}})});break;case "single":h.push(a.fieldcompquery(c.searchinfo.fieldinfos[a(this).attr("id")],"0",
n))}})}0!=h.length&&(l&&(l+=" and "),l+="("+h.join(" or ")+")");return l}(this.searchinfo.query),sort:this.searchinfo.sort?this.searchinfo.sort:"$id asc",size:this.limit},function(l,h,r){r?alert(r):(c.cursor.id=l,c.cursor.total=h,a.cursorfetch(c.cursor.id,!1,function(n,k){k?alert(k):(c.datasource.push(n),d(c.datasource[c.offset]),m())}))}):this.datasource.length<this.offset+1?a.cursorfetch(c.cursor.id,!1,function(l,h){h?alert(h):(c.datasource.push(l),d(c.datasource[c.offset]),m())}):(d(this.datasource[this.offset]),
m());else{if(0!=this.searches.length){var g=this.dialog.header.find("input[type=text],select");e=a.grep(this.datasource,function(l,h){var r=0;a.each(g,function(n){if(n=a(this).val()?a(this).val():""){var k=0;switch(a.data(a(this)[0],"searchtype")){case "multi":var q=n.replace(/[ \u3000]+/g," "),t=q.split(" ");q="";a.each(t,function(u){q+="(?=.*"+t[u]+")"});a.each(l,function(u,v){v.value&&(k+=null!=v.value.toString().match(new RegExp("(^"+q.replace(/[\/\\^$*+?.()|\[\]{}]/g,"\\$&")+")+","ig"))?1:0)});
break;case "single":k+=l[a(this).attr("id")].value==n?1:0}r+=0!=k?1:0}else r++});return g.length==r})}else e=this.datasource;d(e)}},show:function(b){b=a.extend(!0,{buttons:{},callback:null},b);var c=this;a.each(b.buttons,function(e,d){if(c.dialog.footer.find("button#"+e).size())c.dialog.footer.find("button#"+e).off("click").on("click",function(){null!=d&&d()})});this.callback=b.callback;this.offset=0;this.searchinfo.app&&(this.datasource=[]);this.search(function(){c.dialog.cover.show();var e=c.dialog.header.find("input[type=text],select");
0!=e.length&&e.eq(0).focus()})},hide:function(){var b=this;this.cursor.id&&a.cursordelete(this.cursor.id,function(){b.cursor={id:"",total:0}});this.dialog.cover.hide()},unhide:function(){this.dialog.cover.show()}};return new p(a.extend(!0,{container:a(this),datasource:null,displaytext:[],searches:[],searchinfo:{app:"",query:"",sort:"",fieldinfos:{}}},f))};jTis.fn.routemap=function(f,p,b,c,e,d,m,g){var l=function(h){h=a.extend(!0,{apiikey:"",container:null,isfullscreen:!0,needroute:!0,loadedcallback:null,
clickcallback:null,markerclickcallback:null,isreload:!1,params:{}},h);var r=this,n=a("<div>").css({"box-sizing":"border-box",position:"relative"});this.isfullscreen=h.isfullscreen;this.needroute=h.needroute;this.loadedcallback=h.loadedcallback;this.clickcallback=h.clickcallback;this.markerclickcallback=h.markerclickcallback;var k=function(q){setTimeout(function(){"undefined"==typeof google?k(q):q()},1E3)};this.container=n.clone(!0).css({"background-color":"#FFFFFF",height:"100%",width:"100%"}).attr("id",
"mapcontainer");this.isfullscreen&&this.container.css({bottom:"-100%",left:"0px","max-height":"100vh","max-width":"100vw",position:"fixed","z-index":"999999"});this.contents=n.clone(!0).css({height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%","z-index":"1"}).attr("id","mapcontents");this.buttonblock=n.clone(!0).css({"background-color":"transparent",display:"inline-block",padding:"5px",position:"absolute",right:"0px","text-align":"right",top:"0px","white-space":"nowrap",width:"auto",
"z-index":"2"}).append(a('<button id="mapclose">').css({"background-color":"transparent",border:"none",height:"48px",padding:"0px",width:"48px"}).on("click",function(){r.container.css({bottom:"-100%"})}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/close.svg" alt="close" title="close" />').css({width:"100%"})));this.container.append(this.contents);this.isfullscreen&&this.container.append(this.buttonblock);h.container&&h.container.append(this.container);h.isreload||
(n=a("<script>"),n.attr("type","text/javascript"),n.attr("src","https://maps.googleapis.com/maps/api/js?key="+h.apiikey),a("head").append(n));this.colors=a.markercolors();this.watchId=this.currentlatlng=null;this.markers=[];this.balloons=[];this.geocoder=this.directionsService=this.directionsRenderer=this.map=null;this.loaded=!1;h.container&&k(function(){var q=new google.maps.LatLng(0,0);q=a.extend(!0,{center:q,fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT},
gestureHandling:r.isfullscreen?"greedy":"auto",mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_LEFT},overviewMapControl:!1,panControl:!0,scaleControl:!1,streetViewControl:!0,zoomControl:!0,zoom:1024<a(window).width()?14:21-Math.ceil(a(window).width()/250)},h.params);r.map=new google.maps.Map(document.getElementById(r.contents.attr("id")),q);r.directionsRenderer=new google.maps.DirectionsRenderer({suppressMarkers:!0});
r.directionsService=new google.maps.DirectionsService;r.geocoder=new google.maps.Geocoder;r.loadedcallback&&google.maps.event.addListener(r.map,"idle",function(){r.loaded||r.loadedcallback();r.loaded=!0});r.clickcallback&&google.maps.event.addListener(r.map,"click",function(t){r.inaddress({lat:t.latLng.lat(),lng:t.latLng.lng(),callback:function(u){r.clickcallback(u,t.latLng)}})})})};l.prototype={closeinfowindow:function(){var h=this;a.each(this.balloons,function(r){h.balloons[r].close()})},currentlocation:function(h){h=
a.extend(!0,{callback:null},h);if(navigator.geolocation){var r=window.navigator.userAgent.toLowerCase();-1==r.indexOf("msie")&&-1==r.indexOf("trident")||alert("Internet Explorer\u3067\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\nMicrosoft Edge\u304b\u305d\u306e\u4ed6\u306e\u30d6\u30e9\u30a6\u30b6\u3092\u5229\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002");if(this.watchID)h.callback(this.currentlatlng);else{var n={accuracy:Number.MAX_SAFE_INTEGER,counter:0,latlng:null,limit:5};r=
function(q,t){var u=navigator.geolocation.watchPosition(function(v){q.accuracy>v.coords.accuracy&&(q.accuracy=v.coords.accuracy,q.latlng=new google.maps.LatLng(v.coords.latitude,v.coords.longitude));q.counter++;n.counter>n.limit-1&&t&&t(q.latlng);navigator.geolocation.clearWatch(u)},function(v){switch(v.code){case 1:alert("Access to get location information is denied.\n"+v.message);break;case 2:alert("Failed to get the location information.\n"+v.message)}q.counter++;q.latlng&&n.counter>n.limit-1&&
t&&t(q.latlng);navigator.geolocation.clearWatch(u)},{enableHighAccuracy:!0,maximumAge:0,timeout:1E4})};for(var k=0;k<n.limit;k++)r(n,h.callback)}}else alert("Location information cannot be obtained with your browser.")},openinfowindow:function(){var h=this;a.each(this.balloons,function(r){h.markers.length>r&&h.balloons[r].open(h.map,h.markers[r])})},reloadmap:function(h){h=a.extend(!0,{markers:[],isopeninfowindow:!0,callback:null},h);var r=this,n=this.colors,k=this.map,q=this.directionsRenderer,t=
this.directionsService,u=0,v=[],x=[];a.each(this.markers,function(G,D){D.setMap(null)});v=this.markers=[];a.each(this.balloons,function(G,D){D.setMap(null)});x=this.balloons=[];q.setMap(null);var y=function(G,D,T){G=a.extend(!0,{color:0,fontsize:11,icon:null,label:"",latlng:new google.maps.LatLng(0,0),size:34},G);D=a.extend(!0,{label:""},D);var J=new google.maps.Marker({map:k,position:G.latlng});G.icon?J.setIcon(G.icon):J.setIcon({anchor:new google.maps.Point(17,34),fillColor:"#"+(G.color in n?n[G.color].back:
G.color),fillOpacity:1,labelOrigin:new google.maps.Point(17,11),path:"M26.837,9.837C26.837,17.765,17,19.89,17,34 c0-14.11-9.837-16.235-9.837-24.163C7.163,4.404,11.567,0,17,0C22.432,0,26.837,4.404,26.837,9.837z",scale:G.size/34,strokeColor:"#696969"});0!=G.label.length&&J.setLabel({color:"#"+(G.color in n?n[G.color].fore:"000000"),text:G.label.toString(),fontSize:G.fontsize+"px"});r.markerclickcallback&&google.maps.event.addListener(J,"click",function(W){r.markerclickcallback(T)});v.push(J);if(0!=
D.label.length){var R=new google.maps.InfoWindow({content:D.label,disableAutoPan:!0});h.isopeninfowindow&&R.open(k,J);null==r.markerclickcallback&&google.maps.event.addListener(J,"click",function(W){R.getMap()||R.open(k,J)});x.push(R)}};switch(h.markers.length){case 0:break;case 1:t=a.extend(!0,{colors:0,fontsize:11,icon:null,label:"",lat:0,lng:0,size:34,serialnumber:!0},h.markers[0]);y({color:t.colors,fontsize:t.fontsize,icon:t.icon,label:t.serialnumber?"1":"",latlng:new google.maps.LatLng(t.lat,
t.lng),size:t.size},{label:t.label},0);k.setCenter(new google.maps.LatLng(t.lat,t.lng));h.callback&&h.callback();break;default:if(this.needroute){var C=null,E=null,H=[],Q=[];a.each(h.markers,function(G,D){D=a.extend(!0,{label:"",lat:0,lng:0},D);switch(G){case 0:C=new google.maps.LatLng(D.lat,D.lng);break;case h.markers.length-1:E=new google.maps.LatLng(D.lat,D.lng);break;default:H.push({location:new google.maps.LatLng(D.lat,D.lng),stopover:!0})}Q.push(0!=D.label.length?D.label:"")});k.setCenter(new google.maps.LatLng(h.markers[0].lat,
h.markers[0].lng));t.route({origin:C,destination:E,waypoints:H,travelMode:google.maps.TravelMode.DRIVING},function(G,D){D==google.maps.DirectionsStatus.OK&&(u=0,a.each(h.markers,function(T,J){J=a.extend(!0,{colors:0,fontsize:11,icon:null,label:"",lat:0,lng:0,size:34,serialnumber:!0},J);J.serialnumber&&u++;y({color:J.colors,fontsize:J.fontsize,icon:J.icon,label:J.serialnumber?u.toString():"",latlng:new google.maps.LatLng(J.lat,J.lng),size:J.size},{label:J.label},T)}),q.setDirections(G),q.setMap(k),
h.callback&&h.callback())})}else u=0,a.each(h.markers,function(G,D){D=a.extend(!0,{colors:0,fontsize:11,icon:null,label:"",lat:0,lng:0,size:34,serialnumber:!0},D);D.serialnumber&&u++;y({color:D.colors,fontsize:D.fontsize,icon:D.icon,label:D.serialnumber?u.toString():"",latlng:new google.maps.LatLng(D.lat,D.lng),size:D.size},{label:D.label},G)}),k.setCenter(new google.maps.LatLng(h.markers[0].lat,h.markers[0].lng)),h.callback&&h.callback()}this.isfullscreen&&this.container.css({bottom:"0px"})},inaddress:function(h){h=
a.extend(!0,{target:null,address:"",lat:0,lng:0,callback:null,fali:null},h);h.address?this.geocoder.geocode({address:h.address,region:"jp"},function(r,n){switch(n){case google.maps.GeocoderStatus.ZERO_RESULTS:h.fali&&h.fali();break;case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:alert("The request has exceeded the quota.");h.fali&&h.fali();break;case google.maps.GeocoderStatus.REQUEST_DENIED:alert("The request was rejected.");h.fali&&h.fali();break;case google.maps.GeocoderStatus.INVALID_REQUEST:alert("There are not enough queries.");
h.fali&&h.fali();break;case "OK":h.callback&&h.callback(r[0])}}):this.geocoder.geocode({location:new google.maps.LatLng(h.lat,h.lng)},function(r,n){switch(n){case google.maps.GeocoderStatus.ZERO_RESULTS:h.fali&&h.fali();break;case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:alert("The request has exceeded the quota.");h.fali&&h.fali();break;case google.maps.GeocoderStatus.REQUEST_DENIED:alert("The request was rejected.");h.fali&&h.fali();break;case google.maps.GeocoderStatus.INVALID_REQUEST:alert("There are not enough queries.");
h.fali&&h.fali();break;case "OK":if(h.target)switch(h.target.prop("tagName").toLowerCase()){case "input":case "textarea":h.target.val(r[0].formatted_address.replace(/\u65e5\u672c(,|\u3001)[ ]*/g,""));break;default:h.target.text(r[0].formatted_address.replace(/\u65e5\u672c(,|\u3001)[ ]*/g,""))}h.callback&&h.callback(r[0])}})},inbounds:function(){var h=this.map.getBounds();return{north:h.getNorthEast().lat(),south:h.getSouthWest().lat(),east:h.getNorthEast().lng(),west:h.getSouthWest().lng()}},watchlocation:function(h){h=
a.extend(!0,{callback:null},h);var r=this;if(navigator.geolocation){var n=window.navigator.userAgent.toLowerCase();-1==n.indexOf("msie")&&-1==n.indexOf("trident")||alert("Internet Explorer\u3067\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\nMicrosoft Edge\u304b\u305d\u306e\u4ed6\u306e\u30d6\u30e9\u30a6\u30b6\u3092\u5229\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002");this.watchID=navigator.geolocation.watchPosition(function(k){r.currentlatlng=new google.maps.LatLng(k.coords.latitude,
k.coords.longitude);h.callback&&h.callback(r.currentlatlng)},function(k){null==r.currentlatlng&&(r.currentlatlng=new google.maps.LatLng(0,0))},{enableHighAccuracy:!0,maximumAge:0,timeout:1E4})}else alert("Location information cannot be obtained with your browser.")},unwatchlocation:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this.watchID);this.watchID=null}};return new l({apiikey:f,container:a(this),isfullscreen:void 0===p?!0:p,needroute:void 0===b?!0:b,loadedcallback:void 0===
c?null:c,clickcallback:void 0===d?null:d,markerclickcallback:void 0===m?null:m,isreload:void 0===e?!1:e,params:void 0===g?{}:g})};jTis.fn.termselect=function(f){var p=function(b){b=a.extend(!0,{container:null,minutespan:30,isadd:!1,isdatepick:!1,issingle:!1,istimeonly:!1},b);var c=this,e=0;this.isadd&&(e+=60);this.isadd=b.isadd;this.isdatepick=b.isdatepick;this.issingle=b.issingle;this.istimeonly=b.istimeonly;this.dialog=N("standard",500,(b.issingle?365:545)+e);this.contents=this.dialog.contents;
this.dialog.container.append(this.dialog.contents);this.dialog.container.append(this.dialog.footer.append(z.clone(!0).attr("id","ok").text("OK")).append(z.clone(!0).attr("id","cancel").text("Cancel")));this.dialog.cover.append(this.dialog.container);b.container.append(this.dialog.cover);this.hour=M.clone(!0);this.minute=M.clone(!0);for(e=0;60>e;e+=b.minutespan)this.minute.append(a("<option>").attr("value",("0"+e.toString()).slice(-2)).text(("0"+e.toString()).slice(-2)));this.template=w.clone(!0).addClass("term").css({"border-bottom":"1px dotted #C9C9C9",
padding:"5px 0px",width:"100%"}).append(w.clone(!0).css({display:"inline-block","min-height":"30px",width:"150px"}).append(A.clone(!0).addClass("date"))).append(this.hour.clone(!0).addClass("starthour")).append(A.clone(!0).text("\uff1a")).append(this.minute.clone(!0).addClass("startminute").val("00")).append(A.clone(!0).css({display:b.issingle?"none":"inline-block"}).html("&nbsp;~&nbsp;")).append(this.hour.clone(!0).css({display:b.issingle?"none":"inline-block"}).addClass("endhour")).append(A.clone(!0).css({display:b.issingle?
"none":"inline-block"}).text("\uff1a")).append(this.minute.clone(!0).css({display:b.issingle?"none":"inline-block"}).addClass("endminute").val("00"));b.isadd&&this.template.append(A.clone(!0).css({padding:"0px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/add.png" class="add" alt="Add" title="Add">').css({cursor:"pointer","vertical-align":"top",width:"30px"}).on("click",function(){var m=c.template.clone(!0);a(".del",m).show();c.dialog.contents.append(m)}))).append(A.clone(!0).css({padding:"0px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/close.png" class="del" alt="Del" title="Del">').css({cursor:"pointer",
display:"none","vertical-align":"top",width:"30px"}).on("click",function(){a(this).closest(".term").remove()})));b.isdatepick&&!b.istimeonly&&this.template.find(".date").closest("div").css({"padding-left":"30px"}).append(a('<img src="https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/calendar.png" alt="Calendar" title="Calendar">').css({position:"absolute",left:"0px",top:"0px",width:"30px"}).on("click",function(){d=a(this).closest("div");c.calendar.show({activedate:new Date(a(".date",
a(this).closest("div")).text().dateformat())})}));if(b.isdatepick&&!b.istimeonly){var d=null;this.calendar=a("body").calendar({selected:function(m,g){a(".date",d).text(g)}})}};p.prototype={show:function(b){b=a.extend(!0,{fromhour:0,tohour:23,dates:[],starttimes:[],endtimes:[],buttons:{}},b);var c=this;a.each(b.buttons,function(m,g){if(c.dialog.footer.find("button#"+m).size())c.dialog.footer.find("button#"+m).off("click").on("click",function(){if(null!=g){var l="",h="",r="",n=0,k=[];a.each(a("div.term",
c.dialog.container),function(){var q=a(this);if(0==a(".date",q).text().length)return!0;l=c.istimeonly?(new Date).format("Y-m-d"):a(".date",q).text();h=a(".starthour",q).val()+":"+a(".startminute",q).val();r=a(".endhour",q).val()+":"+a(".endminute",q).val();c.issingle||(parseInt(h)>parseInt(r)&&(h=a(".endhour",q).val()+":"+a(".endminute",q).val(),r=a(".starthour",q).val()+":"+a(".startminute",q).val()),n=0,n+=(new Date((l+"T"+r+":00"+a.timezome()).dateformat())).getTime(),n-=(new Date((l+"T"+h+":00"+
a.timezome()).dateformat())).getTime());k.push({date:l,starttime:h,endtime:r,hours:n/36E5})});g(k)}})});this.dialog.contents.empty();a(".starthour",this.template).empty();a(".endhour",this.template).empty();for(var e=b.fromhour;e<b.tohour+1;e++)a(".starthour",this.template).append(a("<option>").attr("value",("0"+e.toString()).slice(-2)).text(("0"+e.toString()).slice(-2))),a(".endhour",this.template).append(a("<option>").attr("value",("0"+e.toString()).slice(-2)).text(("0"+e.toString()).slice(-2)));
for(e=0;e<b.dates.length;e++){var d=this.template.clone(!0);b.starttimes.length>e?(a(".starthour",d).val(b.starttimes[e].split(":")[0]),a(".startminute",d).val(b.starttimes[e].split(":")[1])):a(".starthour",d).val(a(".starthour",d).find("option").first().val());b.endtimes.length>e?(a(".endhour",d).val(b.endtimes[e].split(":")[0]),a(".endminute",d).val(b.endtimes[e].split(":")[1])):a(".endhour",d).val(a(".endhour",d).find("option").first().val());a(".date",d).text(b.dates[e]);this.dialog.contents.append(d)}this.isadd&&
0==b.dates.length&&this.dialog.contents.append(this.template.clone(!0));this.dialog.cover.show()},hide:function(){this.dialog.cover.hide()},unhide:function(){this.dialog.cover.show()}};return new p(a.extend(!0,{container:a(this),minutespan:30,isdatepick:!1,issingle:!1,istimeonly:!1},f))};jTis.fn.thumbnailbrowser=function(f){var p=function(b){b=a.extend(!0,{container:null},b);var c=this;this.active=0;this.thumbnails=[];this.dialog=N("dark");this.dialog.contents.css({overflow:"hidden","white-space":"nowrap"});
this.move=function(){for(var e=0,d=0;d<c.thumbnails.length;d++)e+=100,d<c.active?c.thumbnails[d].css({transform:"translateX(-"+e.toString()+"%)"}):d>c.active?c.thumbnails[d].css({transform:"translateX("+e.toString()+"%)"}):(e-=100,c.thumbnails[d].css({transform:"translateX(-"+e.toString()+"%)"}))};b.container.append(this.dialog.cover.append(this.dialog.container.append(this.dialog.header.append(this.dialog.button.clone(!0).attr("src","https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/browse_close.svg").on("click",
function(){c.hide()}))).append(this.dialog.contents).append(this.dialog.button.clone(!0).css({left:"0",position:"absolute",top:"50%","-webkit-transform":"translate(0%,-50%)","-ms-transform":"translate(0%,-50%)",transform:"translate(0%,-50%)"}).attr("src","https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/browse_prev.svg").on("click",function(){0<c.active&&c.active--;c.move()})).append(this.dialog.button.clone(!0).css({position:"absolute",right:"0",top:"50%","-webkit-transform":"translate(0%,-50%)",
"-ms-transform":"translate(0%,-50%)",transform:"translate(0%,-50%)"}).attr("src","https://cdn.jsdelivr.net/gh/TIS2010/static@latest/kintone/images/browse_next.svg").on("click",function(){c.active<c.thumbnails.length-1&&c.active++;c.move()}))))};p.prototype={show:function(b,c,e){var d=this,m=function(g){(function(l,h){d.thumbnails.push(h);d.dialog.contents.append(h);a.download(l.fileKey).then(function(r){var n=window.URL||window.webkitURL;h.append(a("<img>").css({"box-sizing":"border-box",display:"block",
left:"50%","max-height":"calc(100% - 2em)","max-width":"calc(100% - 2em)",position:"absolute",top:"50%","-webkit-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"}).attr("src",n.createObjectURL(r)).on("click",function(){e&&e(l)}))})})(b[g],w.clone(!0).css({display:"inline-block",height:"100%",transition:"all 0.35s ease-out 0s",width:"100%"}));g++;g<b.length&&m(g)};0!=b.length&&(d.thumbnails=[],d.dialog.contents.empty(),m(0),d.dialog.cover.show(),
d.active=c,d.move())},hide:function(){this.dialog.cover.hide()}};return new p(a.extend(!0,{container:a(this)},f))};a("body").append(a("<style>").attr("type","text/css").text("*.swalTis-overlay{z-index:1000000;}"));kintone.events.on("app.record.index.show",function(f){if(localStorage.getItem("tis-plugins-installdate")){if((new Date(localStorage.getItem("tis-plugins-installdate").replace(/-/g,"/"))).calc("1 month")<new Date){var p=window.location.host.split(".")[0],b=localStorage.getItem("tis-plugins-displaydate-"+
kintone.app.getId())?localStorage.getItem("tis-plugins-displaydate-"+kintone.app.getId()):(new Date).calc("-1 day").format("Y-m-d");a(".tis-plugins-information-dialog").size()||b==(new Date).format("Y-m-d")||(b=null,localStorage.getItem("tis-plugins-displaytime-"+kintone.app.getId())?b=parseInt(localStorage.getItem("tis-plugins-displaytime-"+kintone.app.getId())):(b=(new Date).getHours(),b=15>b?Math.floor(Math.random()*(15-b))+b:b-1,localStorage.setItem("tis-plugins-displaytime-"+kintone.app.getId(),
b.toString())),(new Date).getHours()>b&&(kintone.proxy("https://propone.tis2010.jp/api/support/","POST",{"X-Requested-With":"XMLHttpRequest"},{domain:p},function(c,e,d){c=JSON.parse(c);switch(e){case 200:if("ok"!=c.support){c=a("<div>").css({"box-sizing":"border-box",margin:"0px",padding:"0px",position:"relative","vertical-align":"top"}).addClass("tis-plugins-information-dialog");var m=c.clone(!0).css({"background-color":"rgba(0,0,0,0.5)",height:"100%",left:"0px",position:"fixed",top:"0px",width:"100%",
"z-index":"99999999"});e=c.clone(!0).css({"background-color":"#FFFFFF",bottom:"0","border-radius":"5px","box-shadow":"0px 0px 3px rgba(0,0,0,0.35)",height:"575px",left:"0",margin:"auto","max-height":"calc(100% - 1em)","max-width":"calc(100% - 1em)",padding:"5px",position:"absolute",right:"0","text-align":"center",top:"0",width:"600px"});c=c.clone(!0).css({height:"100%",margin:"0px","overflow-x":"hidden","overflow-y":"auto",padding:"5px",position:"relative","text-align":"center",width:"100%","z-index":"1"});
c.append(a("<h2>").css({"font-size":"1.5em","font-weight":"normal"}).html("ja"==kintone.getLoginUser().language?"TIS\u304b\u3089\u306e\u3054\u9023\u7d61":"Contact from TIS")).append(a("<p>").css({"line-height":"1.5em",padding:"0 2em"}).html(function(){var g="";switch("ja"==kintone.getLoginUser().language){case "ja":g+='<p>\u73fe\u5728\u3054\u5229\u7528\u4e2d\u306eTIS\u88fd\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5229\u7528\u7533\u8acb\u304c\u884c\u308f\u308c\u3066\u304a\u308a\u307e\u305b\u3093\u3002<br>\u3053\u306e\u307e\u307e\u5229\u7528\u3057\u7d9a\u3051\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u975e\u8868\u793a\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u30b5\u30dd\u30fc\u30c8\u30b5\u30a4\u30c8\u3088\u308a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5229\u7528\u7533\u8acb\u3092\u304a\u9858\u3044\u81f4\u3057\u307e\u3059\u3002</p><p>\u30b5\u30dd\u30fc\u30c8\u30b5\u30a4\u30c8\u306f\u3053\u3061\u3089&nbsp;<a href="https://propone.tis2010.jp" target="_blank">https://propone.tis2010.jp</a></p>';
break;case "en":g+="<p>One month has passed since we started using the TIS plug-in.<br>You can continue to use it as it is, but if you want to hide the message, please contact propone@tis2010.jp.</p>";break;case "zh":g+="<p>\u81ea\u4ece\u6211\u4eec\u5f00\u59cb\u4f7f\u7528 TIS \u63d2\u4ef6\u4ee5\u6765\u5df2\u7ecf\u8fc7\u53bb\u4e86\u4e00\u4e2a\u6708\u3002<br>\u60a8\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u5b83\uff0c\u4f46\u5982\u679c\u60a8\u60f3\u9690\u85cf\u8be5\u6d88\u606f\uff0c\u8bf7\u8054\u7cfb propone@tis2010.jp\u3002</p>"}return g}())).append(a("<img>").css({"max-width":"100%"}).attr("src",
"data:image/png;base64,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")).append(a("<button>").css({"background-color":"#65AB31",
border:"none","border-radius":"0.25em",color:"#FFFFFF",display:"block","line-height":"3em",margin:"0 auto","margin-top":"1em","min-width":"8.25em",outline:"none",padding:"0px 0.5em","text-align":"center"}).html("\u9589\u3058\u308b").on("click",function(g){m.hide()}));a("body").append(m.append(e.append(c)))}break;default:console.log(c.error)}},function(c){console.log(c)}),localStorage.setItem("tis-plugins-displaydate-"+kintone.app.getId(),(new Date).format("Y-m-d")),localStorage.removeItem("tis-plugins-displaytime-"+
kintone.app.getId())))}}else localStorage.setItem("tis-plugins-installdate",(new Date).format("Y-m-d"));return f})})(jTis);